const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-D6GtXgOX.js","assets/history-table-CDUpbqlU.js","assets/index-BV86R7Xc.js"])))=>i.map(i=>d[i]);
var NR=Object.defineProperty;var D1=c=>{throw TypeError(c)};var PR=(c,t,e)=>t in c?NR(c,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):c[t]=e;var bt=(c,t,e)=>PR(c,typeof t!="symbol"?t+"":t,e),T0=(c,t,e)=>t.has(c)||D1("Cannot "+e);var u=(c,t,e)=>(T0(c,t,"read from private field"),e?e.call(c):t.get(c)),x=(c,t,e)=>t.has(c)?D1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(c):t.set(c,e),S=(c,t,e,n)=>(T0(c,t,"write to private field"),n?n.call(c,e):t.set(c,e),e),w=(c,t,e)=>(T0(c,t,"access private method"),e);var Ue=(c,t,e,n)=>({set _(r){S(c,t,r,e)},get _(){return u(c,t,n)}});function FR(c,t){for(var e=0;e<t.length;e++){const n=t[e];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in c)){const l=Object.getOwnPropertyDescriptor(n,r);l&&Object.defineProperty(c,r,l.get?l:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&n(h)}).observe(document,{childList:!0,subtree:!0});function e(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=e(r);fetch(r.href,l)}})();function HR(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var x0={exports:{}},Sh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O1;function zR(){if(O1)return Sh;O1=1;var c=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,r,l){var h=null;if(l!==void 0&&(h=""+l),r.key!==void 0&&(h=""+r.key),"key"in r){l={};for(var d in r)d!=="key"&&(l[d]=r[d])}else l=r;return r=l.ref,{$$typeof:c,type:n,key:h,ref:r!==void 0?r:null,props:l}}return Sh.Fragment=t,Sh.jsx=e,Sh.jsxs=e,Sh}var L1;function IR(){return L1||(L1=1,x0.exports=zR()),x0.exports}var ui=IR();const UR="modulepreload",BR=function(c){return"/text-to-pdf-converter/"+c},k1={},uc=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let h=function(g){return Promise.all(g.map(m=>Promise.resolve(m).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));r=h(e.map(g=>{if(g=BR(g),g in k1)return;k1[g]=!0;const m=g.endsWith(".css"),b=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":UR,m||(v.as="script"),v.crossOrigin="",v.href=g,p&&v.setAttribute("nonce",p),document.head.appendChild(v),m)return new Promise((A,E)=>{v.addEventListener("load",A),v.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(h){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=h,window.dispatchEvent(d),!d.defaultPrevented)throw h}return r.then(h=>{for(const d of h||[])d.status==="rejected"&&l(d.reason);return t().catch(l)})};var C0={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N1;function qR(){if(N1)return Et;N1=1;var c=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.iterator;function v(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function M(N,$,et){this.props=N,this.context=$,this.refs=T,this.updater=et||A}M.prototype.isReactComponent={},M.prototype.setState=function(N,$){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,$,"setState")},M.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function C(){}C.prototype=M.prototype;function O(N,$,et){this.props=N,this.context=$,this.refs=T,this.updater=et||A}var D=O.prototype=new C;D.constructor=O,E(D,M.prototype),D.isPureReactComponent=!0;var k=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function X(N,$,et,tt,ct,Mt){return et=Mt.ref,{$$typeof:c,type:N,key:$,ref:et!==void 0?et:null,props:Mt}}function Y(N,$){return X(N.type,$,void 0,void 0,void 0,N.props)}function Z(N){return typeof N=="object"&&N!==null&&N.$$typeof===c}function rt(N){var $={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(et){return $[et]})}var nt=/\/+/g;function ft(N,$){return typeof N=="object"&&N!==null&&N.key!=null?rt(""+N.key):$.toString(36)}function At(){}function xt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(At,At):(N.status="pending",N.then(function($){N.status==="pending"&&(N.status="fulfilled",N.value=$)},function($){N.status==="pending"&&(N.status="rejected",N.reason=$)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function mt(N,$,et,tt,ct){var Mt=typeof N;(Mt==="undefined"||Mt==="boolean")&&(N=null);var ot=!1;if(N===null)ot=!0;else switch(Mt){case"bigint":case"string":case"number":ot=!0;break;case"object":switch(N.$$typeof){case c:case t:ot=!0;break;case m:return ot=N._init,mt(ot(N._payload),$,et,tt,ct)}}if(ot)return ct=ct(N),ot=tt===""?"."+ft(N,0):tt,k(ct)?(et="",ot!=null&&(et=ot.replace(nt,"$&/")+"/"),mt(ct,$,et,"",function(es){return es})):ct!=null&&(Z(ct)&&(ct=Y(ct,et+(ct.key==null||N&&N.key===ct.key?"":(""+ct.key).replace(nt,"$&/")+"/")+ot)),$.push(ct)),1;ot=0;var Dt=tt===""?".":tt+":";if(k(N))for(var qt=0;qt<N.length;qt++)tt=N[qt],Mt=Dt+ft(tt,qt),ot+=mt(tt,$,et,Mt,ct);else if(qt=v(N),typeof qt=="function")for(N=qt.call(N),qt=0;!(tt=N.next()).done;)tt=tt.value,Mt=Dt+ft(tt,qt++),ot+=mt(tt,$,et,Mt,ct);else if(Mt==="object"){if(typeof N.then=="function")return mt(xt(N),$,et,tt,ct);throw $=String(N),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ot}function q(N,$,et){if(N==null)return N;var tt=[],ct=0;return mt(N,tt,"","",function(Mt){return $.call(et,Mt,ct++)}),tt}function V(N){if(N._status===-1){var $=N._result;$=$(),$.then(function(et){(N._status===0||N._status===-1)&&(N._status=1,N._result=et)},function(et){(N._status===0||N._status===-1)&&(N._status=2,N._result=et)}),N._status===-1&&(N._status=0,N._result=$)}if(N._status===1)return N._result.default;throw N._result}var J=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Pt(){}return Et.Children={map:q,forEach:function(N,$,et){q(N,function(){$.apply(this,arguments)},et)},count:function(N){var $=0;return q(N,function(){$++}),$},toArray:function(N){return q(N,function($){return $})||[]},only:function(N){if(!Z(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Et.Component=M,Et.Fragment=e,Et.Profiler=r,Et.PureComponent=O,Et.StrictMode=n,Et.Suspense=p,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Et.__COMPILER_RUNTIME={__proto__:null,c:function(N){return F.H.useMemoCache(N)}},Et.cache=function(N){return function(){return N.apply(null,arguments)}},Et.cloneElement=function(N,$,et){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var tt=E({},N.props),ct=N.key,Mt=void 0;if($!=null)for(ot in $.ref!==void 0&&(Mt=void 0),$.key!==void 0&&(ct=""+$.key),$)!U.call($,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&$.ref===void 0||(tt[ot]=$[ot]);var ot=arguments.length-2;if(ot===1)tt.children=et;else if(1<ot){for(var Dt=Array(ot),qt=0;qt<ot;qt++)Dt[qt]=arguments[qt+2];tt.children=Dt}return X(N.type,ct,void 0,void 0,Mt,tt)},Et.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:l,_context:N},N},Et.createElement=function(N,$,et){var tt,ct={},Mt=null;if($!=null)for(tt in $.key!==void 0&&(Mt=""+$.key),$)U.call($,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(ct[tt]=$[tt]);var ot=arguments.length-2;if(ot===1)ct.children=et;else if(1<ot){for(var Dt=Array(ot),qt=0;qt<ot;qt++)Dt[qt]=arguments[qt+2];ct.children=Dt}if(N&&N.defaultProps)for(tt in ot=N.defaultProps,ot)ct[tt]===void 0&&(ct[tt]=ot[tt]);return X(N,Mt,void 0,void 0,null,ct)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(N){return{$$typeof:d,render:N}},Et.isValidElement=Z,Et.lazy=function(N){return{$$typeof:m,_payload:{_status:-1,_result:N},_init:V}},Et.memo=function(N,$){return{$$typeof:g,type:N,compare:$===void 0?null:$}},Et.startTransition=function(N){var $=F.T,et={};F.T=et;try{var tt=N(),ct=F.S;ct!==null&&ct(et,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(Pt,J)}catch(Mt){J(Mt)}finally{F.T=$}},Et.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Et.use=function(N){return F.H.use(N)},Et.useActionState=function(N,$,et){return F.H.useActionState(N,$,et)},Et.useCallback=function(N,$){return F.H.useCallback(N,$)},Et.useContext=function(N){return F.H.useContext(N)},Et.useDebugValue=function(){},Et.useDeferredValue=function(N,$){return F.H.useDeferredValue(N,$)},Et.useEffect=function(N,$,et){var tt=F.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return tt.useEffect(N,$)},Et.useId=function(){return F.H.useId()},Et.useImperativeHandle=function(N,$,et){return F.H.useImperativeHandle(N,$,et)},Et.useInsertionEffect=function(N,$){return F.H.useInsertionEffect(N,$)},Et.useLayoutEffect=function(N,$){return F.H.useLayoutEffect(N,$)},Et.useMemo=function(N,$){return F.H.useMemo(N,$)},Et.useOptimistic=function(N,$){return F.H.useOptimistic(N,$)},Et.useReducer=function(N,$,et){return F.H.useReducer(N,$,et)},Et.useRef=function(N){return F.H.useRef(N)},Et.useState=function(N){return F.H.useState(N)},Et.useSyncExternalStore=function(N,$,et){return F.H.useSyncExternalStore(N,$,et)},Et.useTransition=function(){return F.H.useTransition()},Et.version="19.1.0",Et}var P1;function dv(){return P1||(P1=1,C0.exports=qR()),C0.exports}var G=dv();const ne=HR(G),Ak=FR({__proto__:null,default:ne},[G]);var Eh={},F1;function jR(){if(F1)return Eh;F1=1,Object.defineProperty(Eh,"__esModule",{value:!0}),Eh.parse=h,Eh.serialize=g;const c=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,l=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function h(v,A){const E=new l,T=v.length;if(T<2)return E;const M=(A==null?void 0:A.decode)||m;let C=0;do{const O=v.indexOf("=",C);if(O===-1)break;const D=v.indexOf(";",C),k=D===-1?T:D;if(O>k){C=v.lastIndexOf(";",O-1)+1;continue}const F=d(v,C,O),U=p(v,O,F),X=v.slice(F,U);if(E[X]===void 0){let Y=d(v,O+1,k),Z=p(v,k,Y);const rt=M(v.slice(Y,Z));E[X]=rt}C=k+1}while(C<T);return E}function d(v,A,E){do{const T=v.charCodeAt(A);if(T!==32&&T!==9)return A}while(++A<E);return E}function p(v,A,E){for(;A>E;){const T=v.charCodeAt(--A);if(T!==32&&T!==9)return A+1}return E}function g(v,A,E){const T=(E==null?void 0:E.encode)||encodeURIComponent;if(!c.test(v))throw new TypeError(`argument name is invalid: ${v}`);const M=T(A);if(!t.test(M))throw new TypeError(`argument val is invalid: ${A}`);let C=v+"="+M;if(!E)return C;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);C+="; Max-Age="+E.maxAge}if(E.domain){if(!e.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);C+="; Domain="+E.domain}if(E.path){if(!n.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);C+="; Path="+E.path}if(E.expires){if(!b(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);C+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(C+="; HttpOnly"),E.secure&&(C+="; Secure"),E.partitioned&&(C+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return C}function m(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function b(v){return r.call(v)==="[object Date]"}return Eh}jR();var H1="popstate";function GR(c={}){function t(n,r){let{pathname:l,search:h,hash:d}=n.location;return q0("",{pathname:l,search:h,hash:d},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(n,r){return typeof r=="string"?r:Kh(r)}return YR(t,e,null,c)}function oe(c,t){if(c===!1||c===null||typeof c>"u")throw new Error(t)}function Gs(c,t){if(!c){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function XR(){return Math.random().toString(36).substring(2,10)}function z1(c,t){return{usr:c.state,key:c.key,idx:t}}function q0(c,t,e=null,n){return{pathname:typeof c=="string"?c:c.pathname,search:"",hash:"",...typeof t=="string"?_u(t):t,state:e,key:t&&t.key||n||XR()}}function Kh({pathname:c="/",search:t="",hash:e=""}){return t&&t!=="?"&&(c+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(c+=e.charAt(0)==="#"?e:"#"+e),c}function _u(c){let t={};if(c){let e=c.indexOf("#");e>=0&&(t.hash=c.substring(e),c=c.substring(0,e));let n=c.indexOf("?");n>=0&&(t.search=c.substring(n),c=c.substring(0,n)),c&&(t.pathname=c)}return t}function YR(c,t,e,n={}){let{window:r=document.defaultView,v5Compat:l=!1}=n,h=r.history,d="POP",p=null,g=m();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function m(){return(h.state||{idx:null}).idx}function b(){d="POP";let M=m(),C=M==null?null:M-g;g=M,p&&p({action:d,location:T.location,delta:C})}function v(M,C){d="PUSH";let O=q0(T.location,M,C);g=m()+1;let D=z1(O,g),k=T.createHref(O);try{h.pushState(D,"",k)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;r.location.assign(k)}l&&p&&p({action:d,location:T.location,delta:1})}function A(M,C){d="REPLACE";let O=q0(T.location,M,C);g=m();let D=z1(O,g),k=T.createHref(O);h.replaceState(D,"",k),l&&p&&p({action:d,location:T.location,delta:0})}function E(M){return VR(M)}let T={get action(){return d},get location(){return c(r,h)},listen(M){if(p)throw new Error("A history only accepts one active listener");return r.addEventListener(H1,b),p=M,()=>{r.removeEventListener(H1,b),p=null}},createHref(M){return t(r,M)},createURL:E,encodeLocation(M){let C=E(M);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:A,go(M){return h.go(M)}};return T}function VR(c,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),oe(e,"No window.location.(origin|href) available to create URL");let n=typeof c=="string"?c:Kh(c);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=e+n),new URL(n,e)}function DE(c,t,e="/"){return KR(c,t,e,!1)}function KR(c,t,e,n){let r=typeof t=="string"?_u(t):t,l=va(r.pathname||"/",e);if(l==null)return null;let h=OE(c);QR(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=rM(l);d=nM(h[p],g,n)}return d}function OE(c,t=[],e=[],n=""){let r=(l,h,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(oe(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length));let g=ga([n,p.relativePath]),m=e.concat(p);l.children&&l.children.length>0&&(oe(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),OE(l.children,t,m,g)),!(l.path==null&&!l.index)&&t.push({path:g,score:iM(g,l.index),routesMeta:m})};return c.forEach((l,h)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))r(l,h);else for(let p of LE(l.path))r(l,h,p)}),t}function LE(c){let t=c.split("/");if(t.length===0)return[];let[e,...n]=t,r=e.endsWith("?"),l=e.replace(/\?$/,"");if(n.length===0)return r?[l,""]:[l];let h=LE(n.join("/")),d=[];return d.push(...h.map(p=>p===""?l:[l,p].join("/"))),r&&d.push(...h),d.map(p=>c.startsWith("/")&&p===""?"/":p)}function QR(c){c.sort((t,e)=>t.score!==e.score?e.score-t.score:sM(t.routesMeta.map(n=>n.childrenIndex),e.routesMeta.map(n=>n.childrenIndex)))}var $R=/^:[\w-]+$/,WR=3,ZR=2,JR=1,tM=10,eM=-2,I1=c=>c==="*";function iM(c,t){let e=c.split("/"),n=e.length;return e.some(I1)&&(n+=eM),t&&(n+=ZR),e.filter(r=>!I1(r)).reduce((r,l)=>r+($R.test(l)?WR:l===""?JR:tM),n)}function sM(c,t){return c.length===t.length&&c.slice(0,-1).every((n,r)=>n===t[r])?c[c.length-1]-t[t.length-1]:0}function nM(c,t,e=!1){let{routesMeta:n}=c,r={},l="/",h=[];for(let d=0;d<n.length;++d){let p=n[d],g=d===n.length-1,m=l==="/"?t:t.slice(l.length)||"/",b=xg({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},m),v=p.route;if(!b&&g&&e&&!n[n.length-1].route.index&&(b=xg({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},m)),!b)return null;Object.assign(r,b.params),h.push({params:r,pathname:ga([l,b.pathname]),pathnameBase:uM(ga([l,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(l=ga([l,b.pathnameBase]))}return h}function xg(c,t){typeof c=="string"&&(c={path:c,caseSensitive:!1,end:!0});let[e,n]=aM(c.path,c.caseSensitive,c.end),r=t.match(e);if(!r)return null;let l=r[0],h=l.replace(/(.)\/+$/,"$1"),d=r.slice(1);return{params:n.reduce((g,{paramName:m,isOptional:b},v)=>{if(m==="*"){let E=d[v]||"";h=l.slice(0,l.length-E.length).replace(/(.)\/+$/,"$1")}const A=d[v];return b&&!A?g[m]=void 0:g[m]=(A||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:h,pattern:c}}function aM(c,t=!1,e=!0){Gs(c==="*"||!c.endsWith("*")||c.endsWith("/*"),`Route path "${c}" will be treated as if it were "${c.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${c.replace(/\*$/,"/*")}".`);let n=[],r="^"+c.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(n.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return c.endsWith("*")?(n.push({paramName:"*"}),r+=c==="*"||c==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":c!==""&&c!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),n]}function rM(c){try{return c.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gs(!1,`The URL path "${c}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),c}}function va(c,t){if(t==="/")return c;if(!c.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,n=c.charAt(e);return n&&n!=="/"?null:c.slice(e)||"/"}function lM(c,t="/"){let{pathname:e,search:n="",hash:r=""}=typeof c=="string"?_u(c):c;return{pathname:e?e.startsWith("/")?e:oM(e,t):t,search:hM(n),hash:dM(r)}}function oM(c,t){let e=t.replace(/\/+$/,"").split("/");return c.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function R0(c,t,e,n){return`Cannot include a '${c}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cM(c){return c.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function fv(c){let t=cM(c);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function pv(c,t,e,n=!1){let r;typeof c=="string"?r=_u(c):(r={...c},oe(!r.pathname||!r.pathname.includes("?"),R0("?","pathname","search",r)),oe(!r.pathname||!r.pathname.includes("#"),R0("#","pathname","hash",r)),oe(!r.search||!r.search.includes("#"),R0("#","search","hash",r)));let l=c===""||r.pathname==="",h=l?"/":r.pathname,d;if(h==null)d=e;else{let b=t.length-1;if(!n&&h.startsWith("..")){let v=h.split("/");for(;v[0]==="..";)v.shift(),b-=1;r.pathname=v.join("/")}d=b>=0?t[b]:"/"}let p=lM(r,d),g=h&&h!=="/"&&h.endsWith("/"),m=(l||h===".")&&e.endsWith("/");return!p.pathname.endsWith("/")&&(g||m)&&(p.pathname+="/"),p}var ga=c=>c.join("/").replace(/\/\/+/g,"/"),uM=c=>c.replace(/\/+$/,"").replace(/^\/*/,"/"),hM=c=>!c||c==="?"?"":c.startsWith("?")?c:"?"+c,dM=c=>!c||c==="#"?"":c.startsWith("#")?c:"#"+c;function fM(c){return c!=null&&typeof c.status=="number"&&typeof c.statusText=="string"&&typeof c.internal=="boolean"&&"data"in c}var kE=["POST","PUT","PATCH","DELETE"];new Set(kE);var pM=["GET",...kE];new Set(pM);var Su=G.createContext(null);Su.displayName="DataRouter";var $g=G.createContext(null);$g.displayName="DataRouterState";var NE=G.createContext({isTransitioning:!1});NE.displayName="ViewTransition";var gM=G.createContext(new Map);gM.displayName="Fetchers";var mM=G.createContext(null);mM.displayName="Await";var Xs=G.createContext(null);Xs.displayName="Navigation";var bf=G.createContext(null);bf.displayName="Location";var _n=G.createContext({outlet:null,matches:[],isDataRoute:!1});_n.displayName="Route";var gv=G.createContext(null);gv.displayName="RouteError";function yM(c,{relative:t}={}){oe(Eu(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:n}=G.useContext(Xs),{hash:r,pathname:l,search:h}=vf(c,{relative:t}),d=l;return e!=="/"&&(d=l==="/"?e:ga([e,l])),n.createHref({pathname:d,search:h,hash:r})}function Eu(){return G.useContext(bf)!=null}function kr(){return oe(Eu(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(bf).location}var PE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FE(c){G.useContext(Xs).static||G.useLayoutEffect(c)}function HE(){let{isDataRoute:c}=G.useContext(_n);return c?DM():bM()}function bM(){oe(Eu(),"useNavigate() may be used only in the context of a <Router> component.");let c=G.useContext(Su),{basename:t,navigator:e}=G.useContext(Xs),{matches:n}=G.useContext(_n),{pathname:r}=kr(),l=JSON.stringify(fv(n)),h=G.useRef(!1);return FE(()=>{h.current=!0}),G.useCallback((p,g={})=>{if(Gs(h.current,PE),!h.current)return;if(typeof p=="number"){e.go(p);return}let m=pv(p,JSON.parse(l),r,g.relative==="path");c==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ga([t,m.pathname])),(g.replace?e.replace:e.push)(m,g.state,g)},[t,e,l,r,c])}G.createContext(null);function vf(c,{relative:t}={}){let{matches:e}=G.useContext(_n),{pathname:n}=kr(),r=JSON.stringify(fv(e));return G.useMemo(()=>pv(c,JSON.parse(r),n,t==="path"),[c,r,n,t])}function vM(c,t){return zE(c,t)}function zE(c,t,e,n){var O;oe(Eu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:l}=G.useContext(Xs),{matches:h}=G.useContext(_n),d=h[h.length-1],p=d?d.params:{},g=d?d.pathname:"/",m=d?d.pathnameBase:"/",b=d&&d.route;{let D=b&&b.path||"";IE(g,!b||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let v=kr(),A;if(t){let D=typeof t=="string"?_u(t):t;oe(m==="/"||((O=D.pathname)==null?void 0:O.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${D.pathname}" was given in the \`location\` prop.`),A=D}else A=v;let E=A.pathname||"/",T=E;if(m!=="/"){let D=m.replace(/^\//,"").split("/");T="/"+E.replace(/^\//,"").split("/").slice(D.length).join("/")}let M=!l&&e&&e.matches&&e.matches.length>0?e.matches:DE(c,{pathname:T});Gs(b||M!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Gs(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=wM(M&&M.map(D=>Object.assign({},D,{params:Object.assign({},p,D.params),pathname:ga([m,r.encodeLocation?r.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?m:ga([m,r.encodeLocation?r.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),h,e,n);return t&&C?G.createElement(bf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},C):C}function AM(){let c=MM(),t=fM(c)?`${c.status} ${c.statusText}`:c instanceof Error?c.message:JSON.stringify(c),e=c instanceof Error?c.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},h=null;return console.error("Error handled by React Router default ErrorBoundary:",c),h=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:l},"ErrorBoundary")," or"," ",G.createElement("code",{style:l},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),e?G.createElement("pre",{style:r},e):null,h)}var _M=G.createElement(AM,null),SM=class extends G.Component{constructor(c){super(c),this.state={location:c.location,revalidation:c.revalidation,error:c.error}}static getDerivedStateFromError(c){return{error:c}}static getDerivedStateFromProps(c,t){return t.location!==c.location||t.revalidation!=="idle"&&c.revalidation==="idle"?{error:c.error,location:c.location,revalidation:c.revalidation}:{error:c.error!==void 0?c.error:t.error,location:t.location,revalidation:c.revalidation||t.revalidation}}componentDidCatch(c,t){console.error("React Router caught the following error during render",c,t)}render(){return this.state.error!==void 0?G.createElement(_n.Provider,{value:this.props.routeContext},G.createElement(gv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function EM({routeContext:c,match:t,children:e}){let n=G.useContext(Su);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(_n.Provider,{value:c},e)}function wM(c,t=[],e=null,n=null){if(c==null){if(!e)return null;if(e.errors)c=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)c=e.matches;else return null}let r=c,l=e==null?void 0:e.errors;if(l!=null){let p=r.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);oe(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),r=r.slice(0,Math.min(r.length,p+1))}let h=!1,d=-1;if(e)for(let p=0;p<r.length;p++){let g=r[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:m,errors:b}=e,v=g.route.loader&&!m.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||v){h=!0,d>=0?r=r.slice(0,d+1):r=[r[0]];break}}}return r.reduceRight((p,g,m)=>{let b,v=!1,A=null,E=null;e&&(b=l&&g.route.id?l[g.route.id]:void 0,A=g.route.errorElement||_M,h&&(d<0&&m===0?(IE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,E=null):d===m&&(v=!0,E=g.route.hydrateFallbackElement||null)));let T=t.concat(r.slice(0,m+1)),M=()=>{let C;return b?C=A:v?C=E:g.route.Component?C=G.createElement(g.route.Component,null):g.route.element?C=g.route.element:C=p,G.createElement(EM,{match:g,routeContext:{outlet:p,matches:T,isDataRoute:e!=null},children:C})};return e&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?G.createElement(SM,{location:e.location,revalidation:e.revalidation,component:A,error:b,children:M(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):M()},null)}function mv(c){return`${c} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TM(c){let t=G.useContext(Su);return oe(t,mv(c)),t}function xM(c){let t=G.useContext($g);return oe(t,mv(c)),t}function CM(c){let t=G.useContext(_n);return oe(t,mv(c)),t}function yv(c){let t=CM(c),e=t.matches[t.matches.length-1];return oe(e.route.id,`${c} can only be used on routes that contain a unique "id"`),e.route.id}function RM(){return yv("useRouteId")}function MM(){var n;let c=G.useContext(gv),t=xM("useRouteError"),e=yv("useRouteError");return c!==void 0?c:(n=t.errors)==null?void 0:n[e]}function DM(){let{router:c}=TM("useNavigate"),t=yv("useNavigate"),e=G.useRef(!1);return FE(()=>{e.current=!0}),G.useCallback(async(r,l={})=>{Gs(e.current,PE),e.current&&(typeof r=="number"?c.navigate(r):await c.navigate(r,{fromRouteId:t,...l}))},[c,t])}var U1={};function IE(c,t,e){!t&&!U1[c]&&(U1[c]=!0,Gs(!1,e))}G.memo(OM);function OM({routes:c,future:t,state:e}){return zE(c,void 0,e,t)}function LM({to:c,replace:t,state:e,relative:n}){oe(Eu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=G.useContext(Xs);Gs(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=G.useContext(_n),{pathname:h}=kr(),d=HE(),p=pv(c,fv(l),h,n==="path"),g=JSON.stringify(p);return G.useEffect(()=>{d(JSON.parse(g),{replace:t,state:e,relative:n})},[d,g,n,t,e]),null}function Vp(c){oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kM({basename:c="/",children:t=null,location:e,navigationType:n="POP",navigator:r,static:l=!1}){oe(!Eu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=c.replace(/^\/*/,"/"),d=G.useMemo(()=>({basename:h,navigator:r,static:l,future:{}}),[h,r,l]);typeof e=="string"&&(e=_u(e));let{pathname:p="/",search:g="",hash:m="",state:b=null,key:v="default"}=e,A=G.useMemo(()=>{let E=va(p,h);return E==null?null:{location:{pathname:E,search:g,hash:m,state:b,key:v},navigationType:n}},[h,p,g,m,b,v,n]);return Gs(A!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${m}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:G.createElement(Xs.Provider,{value:d},G.createElement(bf.Provider,{children:t,value:A}))}function NM({children:c,location:t}){return vM(j0(c),t)}function j0(c,t=[]){let e=[];return G.Children.forEach(c,(n,r)=>{if(!G.isValidElement(n))return;let l=[...t,r];if(n.type===G.Fragment){e.push.apply(e,j0(n.props.children,l));return}oe(n.type===Vp,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),oe(!n.props.index||!n.props.children,"An index route cannot have child routes.");let h={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(h.children=j0(n.props.children,l)),e.push(h)}),e}var Kp="get",Qp="application/x-www-form-urlencoded";function Wg(c){return c!=null&&typeof c.tagName=="string"}function PM(c){return Wg(c)&&c.tagName.toLowerCase()==="button"}function FM(c){return Wg(c)&&c.tagName.toLowerCase()==="form"}function HM(c){return Wg(c)&&c.tagName.toLowerCase()==="input"}function zM(c){return!!(c.metaKey||c.altKey||c.ctrlKey||c.shiftKey)}function IM(c,t){return c.button===0&&(!t||t==="_self")&&!zM(c)}var Up=null;function UM(){if(Up===null)try{new FormData(document.createElement("form"),0),Up=!1}catch{Up=!0}return Up}var BM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function M0(c){return c!=null&&!BM.has(c)?(Gs(!1,`"${c}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qp}"`),null):c}function qM(c,t){let e,n,r,l,h;if(FM(c)){let d=c.getAttribute("action");n=d?va(d,t):null,e=c.getAttribute("method")||Kp,r=M0(c.getAttribute("enctype"))||Qp,l=new FormData(c)}else if(PM(c)||HM(c)&&(c.type==="submit"||c.type==="image")){let d=c.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=c.getAttribute("formaction")||d.getAttribute("action");if(n=p?va(p,t):null,e=c.getAttribute("formmethod")||d.getAttribute("method")||Kp,r=M0(c.getAttribute("formenctype"))||M0(d.getAttribute("enctype"))||Qp,l=new FormData(d,c),!UM()){let{name:g,type:m,value:b}=c;if(m==="image"){let v=g?`${g}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else g&&l.append(g,b)}}else{if(Wg(c))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Kp,n=null,r=Qp,h=c}return l&&r==="text/plain"&&(h=l,l=void 0),{action:n,method:e.toLowerCase(),encType:r,formData:l,body:h}}function bv(c,t){if(c===!1||c===null||typeof c>"u")throw new Error(t)}async function jM(c,t){if(c.id in t)return t[c.id];try{let e=await import(c.module);return t[c.id]=e,e}catch(e){return console.error(`Error loading route module \`${c.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GM(c){return c==null?!1:c.href==null?c.rel==="preload"&&typeof c.imageSrcSet=="string"&&typeof c.imageSizes=="string":typeof c.rel=="string"&&typeof c.href=="string"}async function XM(c,t,e){let n=await Promise.all(c.map(async r=>{let l=t.routes[r.route.id];if(l){let h=await jM(l,e);return h.links?h.links():[]}return[]}));return QM(n.flat(1).filter(GM).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function B1(c,t,e,n,r,l){let h=(p,g)=>e[g]?p.route.id!==e[g].route.id:!0,d=(p,g)=>{var m;return e[g].pathname!==p.pathname||((m=e[g].route.path)==null?void 0:m.endsWith("*"))&&e[g].params["*"]!==p.params["*"]};return l==="assets"?t.filter((p,g)=>h(p,g)||d(p,g)):l==="data"?t.filter((p,g)=>{var b;let m=n.routes[p.route.id];if(!m||!m.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((b=e[0])==null?void 0:b.params)||{},nextUrl:new URL(c,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function YM(c,t,{includeHydrateFallback:e}={}){return VM(c.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let l=[r.module];return r.clientActionModule&&(l=l.concat(r.clientActionModule)),r.clientLoaderModule&&(l=l.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(l=l.concat(r.hydrateFallbackModule)),r.imports&&(l=l.concat(r.imports)),l}).flat(1))}function VM(c){return[...new Set(c)]}function KM(c){let t={},e=Object.keys(c).sort();for(let n of e)t[n]=c[n];return t}function QM(c,t){let e=new Set;return new Set(t),c.reduce((n,r)=>{let l=JSON.stringify(KM(r));return e.has(l)||(e.add(l),n.push({key:l,link:r})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $M=new Set([100,101,204,205]);function WM(c,t){let e=typeof c=="string"?new URL(c,typeof window>"u"?"server://singlefetch/":window.location.origin):c;return e.pathname==="/"?e.pathname="_root.data":t&&va(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function UE(){let c=G.useContext(Su);return bv(c,"You must render this element inside a <DataRouterContext.Provider> element"),c}function ZM(){let c=G.useContext($g);return bv(c,"You must render this element inside a <DataRouterStateContext.Provider> element"),c}var vv=G.createContext(void 0);vv.displayName="FrameworkContext";function BE(){let c=G.useContext(vv);return bv(c,"You must render this element inside a <HydratedRouter> element"),c}function JM(c,t){let e=G.useContext(vv),[n,r]=G.useState(!1),[l,h]=G.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:m,onTouchStart:b}=t,v=G.useRef(null);G.useEffect(()=>{if(c==="render"&&h(!0),c==="viewport"){let T=C=>{C.forEach(O=>{h(O.isIntersecting)})},M=new IntersectionObserver(T,{threshold:.5});return v.current&&M.observe(v.current),()=>{M.disconnect()}}},[c]),G.useEffect(()=>{if(n){let T=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(T)}}},[n]);let A=()=>{r(!0)},E=()=>{r(!1),h(!1)};return e?c!=="intent"?[l,v,{}]:[l,v,{onFocus:wh(d,A),onBlur:wh(p,E),onMouseEnter:wh(g,A),onMouseLeave:wh(m,E),onTouchStart:wh(b,A)}]:[!1,v,{}]}function wh(c,t){return e=>{c&&c(e),e.defaultPrevented||t(e)}}function t2({page:c,...t}){let{router:e}=UE(),n=G.useMemo(()=>DE(e.routes,c,e.basename),[e.routes,c,e.basename]);return n?G.createElement(i2,{page:c,matches:n,...t}):null}function e2(c){let{manifest:t,routeModules:e}=BE(),[n,r]=G.useState([]);return G.useEffect(()=>{let l=!1;return XM(c,t,e).then(h=>{l||r(h)}),()=>{l=!0}},[c,t,e]),n}function i2({page:c,matches:t,...e}){let n=kr(),{manifest:r,routeModules:l}=BE(),{basename:h}=UE(),{loaderData:d,matches:p}=ZM(),g=G.useMemo(()=>B1(c,t,p,r,n,"data"),[c,t,p,r,n]),m=G.useMemo(()=>B1(c,t,p,r,n,"assets"),[c,t,p,r,n]),b=G.useMemo(()=>{if(c===n.pathname+n.search+n.hash)return[];let E=new Set,T=!1;if(t.forEach(C=>{var D;let O=r.routes[C.route.id];!O||!O.hasLoader||(!g.some(k=>k.route.id===C.route.id)&&C.route.id in d&&((D=l[C.route.id])!=null&&D.shouldRevalidate)||O.hasClientLoader?T=!0:E.add(C.route.id))}),E.size===0)return[];let M=WM(c,h);return T&&E.size>0&&M.searchParams.set("_routes",t.filter(C=>E.has(C.route.id)).map(C=>C.route.id).join(",")),[M.pathname+M.search]},[h,d,n,r,g,t,c,l]),v=G.useMemo(()=>YM(m,r),[m,r]),A=e2(m);return G.createElement(G.Fragment,null,b.map(E=>G.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...e})),v.map(E=>G.createElement("link",{key:E,rel:"modulepreload",href:E,...e})),A.map(({key:E,link:T})=>G.createElement("link",{key:E,...T})))}function s2(...c){return t=>{c.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var qE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qE&&(window.__reactRouterVersion="7.6.0")}catch{}function n2({basename:c,children:t,window:e}){let n=G.useRef();n.current==null&&(n.current=GR({window:e,v5Compat:!0}));let r=n.current,[l,h]=G.useState({action:r.action,location:r.location}),d=G.useCallback(p=>{G.startTransition(()=>h(p))},[h]);return G.useLayoutEffect(()=>r.listen(d),[r,d]),G.createElement(kM,{basename:c,children:t,location:l.location,navigationType:l.action,navigator:r})}var jE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GE=G.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:r,reloadDocument:l,replace:h,state:d,target:p,to:g,preventScrollReset:m,viewTransition:b,...v},A){let{basename:E}=G.useContext(Xs),T=typeof g=="string"&&jE.test(g),M,C=!1;if(typeof g=="string"&&T&&(M=g,qE))try{let Z=new URL(window.location.href),rt=g.startsWith("//")?new URL(Z.protocol+g):new URL(g),nt=va(rt.pathname,E);rt.origin===Z.origin&&nt!=null?g=nt+rt.search+rt.hash:C=!0}catch{Gs(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=yM(g,{relative:r}),[D,k,F]=JM(n,v),U=o2(g,{replace:h,state:d,target:p,preventScrollReset:m,relative:r,viewTransition:b});function X(Z){t&&t(Z),Z.defaultPrevented||U(Z)}let Y=G.createElement("a",{...v,...F,href:M||O,onClick:C||l?t:X,ref:s2(A,k),target:p,"data-discover":!T&&e==="render"?"true":void 0});return D&&!T?G.createElement(G.Fragment,null,Y,G.createElement(t2,{page:O})):Y});GE.displayName="Link";var a2=G.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:r=!1,style:l,to:h,viewTransition:d,children:p,...g},m){let b=vf(h,{relative:g.relative}),v=kr(),A=G.useContext($g),{navigator:E,basename:T}=G.useContext(Xs),M=A!=null&&f2(b)&&d===!0,C=E.encodeLocation?E.encodeLocation(b).pathname:b.pathname,O=v.pathname,D=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;e||(O=O.toLowerCase(),D=D?D.toLowerCase():null,C=C.toLowerCase()),D&&T&&(D=va(D,T)||D);const k=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let F=O===C||!r&&O.startsWith(C)&&O.charAt(k)==="/",U=D!=null&&(D===C||!r&&D.startsWith(C)&&D.charAt(C.length)==="/"),X={isActive:F,isPending:U,isTransitioning:M},Y=F?t:void 0,Z;typeof n=="function"?Z=n(X):Z=[n,F?"active":null,U?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let rt=typeof l=="function"?l(X):l;return G.createElement(GE,{...g,"aria-current":Y,className:Z,ref:m,style:rt,to:h,viewTransition:d},typeof p=="function"?p(X):p)});a2.displayName="NavLink";var r2=G.forwardRef(({discover:c="render",fetcherKey:t,navigate:e,reloadDocument:n,replace:r,state:l,method:h=Kp,action:d,onSubmit:p,relative:g,preventScrollReset:m,viewTransition:b,...v},A)=>{let E=h2(),T=d2(d,{relative:g}),M=h.toLowerCase()==="get"?"get":"post",C=typeof d=="string"&&jE.test(d),O=D=>{if(p&&p(D),D.defaultPrevented)return;D.preventDefault();let k=D.nativeEvent.submitter,F=(k==null?void 0:k.getAttribute("formmethod"))||h;E(k||D.currentTarget,{fetcherKey:t,method:F,navigate:e,replace:r,state:l,relative:g,preventScrollReset:m,viewTransition:b})};return G.createElement("form",{ref:A,method:M,action:T,onSubmit:n?p:O,...v,"data-discover":!C&&c==="render"?"true":void 0})});r2.displayName="Form";function l2(c){return`${c} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XE(c){let t=G.useContext(Su);return oe(t,l2(c)),t}function o2(c,{target:t,replace:e,state:n,preventScrollReset:r,relative:l,viewTransition:h}={}){let d=HE(),p=kr(),g=vf(c,{relative:l});return G.useCallback(m=>{if(IM(m,t)){m.preventDefault();let b=e!==void 0?e:Kh(p)===Kh(g);d(c,{replace:b,state:n,preventScrollReset:r,relative:l,viewTransition:h})}},[p,d,g,e,n,t,c,r,l,h])}var c2=0,u2=()=>`__${String(++c2)}__`;function h2(){let{router:c}=XE("useSubmit"),{basename:t}=G.useContext(Xs),e=RM();return G.useCallback(async(n,r={})=>{let{action:l,method:h,encType:d,formData:p,body:g}=qM(n,t);if(r.navigate===!1){let m=r.fetcherKey||u2();await c.fetch(m,e,r.action||l,{preventScrollReset:r.preventScrollReset,formData:p,body:g,formMethod:r.method||h,formEncType:r.encType||d,flushSync:r.flushSync})}else await c.navigate(r.action||l,{preventScrollReset:r.preventScrollReset,formData:p,body:g,formMethod:r.method||h,formEncType:r.encType||d,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[c,t,e])}function d2(c,{relative:t}={}){let{basename:e}=G.useContext(Xs),n=G.useContext(_n);oe(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),l={...vf(c||".",{relative:t})},h=kr();if(c==null){l.search=h.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(m=>m==="")){d.delete("index"),p.filter(b=>b).forEach(b=>d.append("index",b));let m=d.toString();l.search=m?`?${m}`:""}}return(!c||c===".")&&r.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(l.pathname=l.pathname==="/"?e:ga([e,l.pathname])),Kh(l)}function f2(c,t={}){let e=G.useContext(NE);oe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=XE("useViewTransitionState"),r=vf(c,{relative:t.relative});if(!e.isTransitioning)return!1;let l=va(e.currentLocation.pathname,n)||e.currentLocation.pathname,h=va(e.nextLocation.pathname,n)||e.nextLocation.pathname;return xg(r.pathname,h)!=null||xg(r.pathname,l)!=null}[...$M];var D0={exports:{}},ii={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q1;function p2(){if(q1)return ii;q1=1;var c=dv();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)g+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(p,g,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:p,containerInfo:g,implementation:m}}var h=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ii.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ii.createPortal=function(p,g){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(p,g,null,m)},ii.flushSync=function(p){var g=h.T,m=n.p;try{if(h.T=null,n.p=2,p)return p()}finally{h.T=g,n.p=m,n.d.f()}},ii.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,n.d.C(p,g))},ii.prefetchDNS=function(p){typeof p=="string"&&n.d.D(p)},ii.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var m=g.as,b=d(m,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;m==="style"?n.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:A}):m==="script"&&n.d.X(p,{crossOrigin:b,integrity:v,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ii.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var m=d(g.as,g.crossOrigin);n.d.M(p,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&n.d.M(p)},ii.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var m=g.as,b=d(m,g.crossOrigin);n.d.L(p,m,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ii.preloadModule=function(p,g){if(typeof p=="string")if(g){var m=d(g.as,g.crossOrigin);n.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else n.d.m(p)},ii.requestFormReset=function(p){n.d.r(p)},ii.unstable_batchedUpdates=function(p,g){return p(g)},ii.useFormState=function(p,g,m){return h.H.useFormState(p,g,m)},ii.useFormStatus=function(){return h.H.useHostTransitionStatus()},ii.version="19.1.0",ii}var j1;function g2(){if(j1)return D0.exports;j1=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(t){console.error(t)}}return c(),D0.exports=p2(),D0.exports}const O0={HOME:"/",HISTORY:"/history"},m2=G.lazy(()=>uc(()=>import("./index-D6GtXgOX.js"),__vite__mapDeps([0,1]))),y2=G.lazy(()=>uc(()=>import("./index-BV86R7Xc.js"),__vite__mapDeps([2,1]))),b2=()=>ui.jsx(G.Suspense,{fallback:ui.jsx("p",{className:"text-center",children:"Loading..."}),children:ui.jsxs(NM,{children:[ui.jsx(Vp,{path:O0.HOME,element:ui.jsx(m2,{})}),ui.jsx(Vp,{path:O0.HISTORY,element:ui.jsx(y2,{})}),ui.jsx(Vp,{path:"*",element:ui.jsx(LM,{to:O0.HOME,replace:!0})})]})});var L0={exports:{}},Th={},k0={exports:{}},N0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G1;function v2(){return G1||(G1=1,function(c){function t(q,V){var J=q.length;q.push(V);t:for(;0<J;){var Pt=J-1>>>1,N=q[Pt];if(0<r(N,V))q[Pt]=V,q[J]=N,J=Pt;else break t}}function e(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var V=q[0],J=q.pop();if(J!==V){q[0]=J;t:for(var Pt=0,N=q.length,$=N>>>1;Pt<$;){var et=2*(Pt+1)-1,tt=q[et],ct=et+1,Mt=q[ct];if(0>r(tt,J))ct<N&&0>r(Mt,tt)?(q[Pt]=Mt,q[ct]=J,Pt=ct):(q[Pt]=tt,q[et]=J,Pt=et);else if(ct<N&&0>r(Mt,J))q[Pt]=Mt,q[ct]=J,Pt=ct;else break t}}return V}function r(q,V){var J=q.sortIndex-V.sortIndex;return J!==0?J:q.id-V.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;c.unstable_now=function(){return l.now()}}else{var h=Date,d=h.now();c.unstable_now=function(){return h.now()-d}}var p=[],g=[],m=1,b=null,v=3,A=!1,E=!1,T=!1,M=!1,C=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function k(q){for(var V=e(g);V!==null;){if(V.callback===null)n(g);else if(V.startTime<=q)n(g),V.sortIndex=V.expirationTime,t(p,V);else break;V=e(g)}}function F(q){if(T=!1,k(q),!E)if(e(p)!==null)E=!0,U||(U=!0,ft());else{var V=e(g);V!==null&&mt(F,V.startTime-q)}}var U=!1,X=-1,Y=5,Z=-1;function rt(){return M?!0:!(c.unstable_now()-Z<Y)}function nt(){if(M=!1,U){var q=c.unstable_now();Z=q;var V=!0;try{t:{E=!1,T&&(T=!1,O(X),X=-1),A=!0;var J=v;try{e:{for(k(q),b=e(p);b!==null&&!(b.expirationTime>q&&rt());){var Pt=b.callback;if(typeof Pt=="function"){b.callback=null,v=b.priorityLevel;var N=Pt(b.expirationTime<=q);if(q=c.unstable_now(),typeof N=="function"){b.callback=N,k(q),V=!0;break e}b===e(p)&&n(p),k(q)}else n(p);b=e(p)}if(b!==null)V=!0;else{var $=e(g);$!==null&&mt(F,$.startTime-q),V=!1}}break t}finally{b=null,v=J,A=!1}V=void 0}}finally{V?ft():U=!1}}}var ft;if(typeof D=="function")ft=function(){D(nt)};else if(typeof MessageChannel<"u"){var At=new MessageChannel,xt=At.port2;At.port1.onmessage=nt,ft=function(){xt.postMessage(null)}}else ft=function(){C(nt,0)};function mt(q,V){X=C(function(){q(c.unstable_now())},V)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(q){q.callback=null},c.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<q?Math.floor(1e3/q):5},c.unstable_getCurrentPriorityLevel=function(){return v},c.unstable_next=function(q){switch(v){case 1:case 2:case 3:var V=3;break;default:V=v}var J=v;v=V;try{return q()}finally{v=J}},c.unstable_requestPaint=function(){M=!0},c.unstable_runWithPriority=function(q,V){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var J=v;v=q;try{return V()}finally{v=J}},c.unstable_scheduleCallback=function(q,V,J){var Pt=c.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Pt+J:Pt):J=Pt,q){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=J+N,q={id:m++,callback:V,priorityLevel:q,startTime:J,expirationTime:N,sortIndex:-1},J>Pt?(q.sortIndex=J,t(g,q),e(p)===null&&q===e(g)&&(T?(O(X),X=-1):T=!0,mt(F,J-Pt))):(q.sortIndex=N,t(p,q),E||A||(E=!0,U||(U=!0,ft()))),q},c.unstable_shouldYield=rt,c.unstable_wrapCallback=function(q){var V=v;return function(){var J=v;v=V;try{return q.apply(this,arguments)}finally{v=J}}}}(N0)),N0}var X1;function A2(){return X1||(X1=1,k0.exports=v2()),k0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y1;function _2(){if(Y1)return Th;Y1=1;var c=A2(),t=dv(),e=g2();function n(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function h(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(n(188))}function p(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(n(188));return s!==i?null:i}for(var a=i,o=s;;){var f=a.return;if(f===null)break;var y=f.alternate;if(y===null){if(o=f.return,o!==null){a=o;continue}break}if(f.child===y.child){for(y=f.child;y;){if(y===a)return d(f),i;if(y===o)return d(f),s;y=y.sibling}throw Error(n(188))}if(a.return!==o.return)a=f,o=y;else{for(var _=!1,R=f.child;R;){if(R===a){_=!0,a=f,o=y;break}if(R===o){_=!0,o=f,a=y;break}R=R.sibling}if(!_){for(R=y.child;R;){if(R===a){_=!0,a=y,o=f;break}if(R===o){_=!0,o=y,a=f;break}R=R.sibling}if(!_)throw Error(n(189))}}if(a.alternate!==o)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?i:s}function g(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=g(i),s!==null)return s;i=i.sibling}return null}var m=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),D=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),rt=Symbol.for("react.memo_cache_sentinel"),nt=Symbol.iterator;function ft(i){return i===null||typeof i!="object"?null:(i=nt&&i[nt]||i["@@iterator"],typeof i=="function"?i:null)}var At=Symbol.for("react.client.reference");function xt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===At?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case M:return"Profiler";case T:return"StrictMode";case F:return"Suspense";case U:return"SuspenseList";case Z:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case A:return"Portal";case D:return(i.displayName||"Context")+".Provider";case O:return(i._context.displayName||"Context")+".Consumer";case k:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case X:return s=i.displayName||null,s!==null?s:xt(i.type)||"Memo";case Y:s=i._payload,i=i._init;try{return xt(i(s))}catch{}}return null}var mt=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},Pt=[],N=-1;function $(i){return{current:i}}function et(i){0>N||(i.current=Pt[N],Pt[N]=null,N--)}function tt(i,s){N++,Pt[N]=i.current,i.current=s}var ct=$(null),Mt=$(null),ot=$(null),Dt=$(null);function qt(i,s){switch(tt(ot,s),tt(Mt,i),tt(ct,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?n1(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=n1(s),i=a1(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}et(ct),tt(ct,i)}function es(){et(ct),et(Mt),et(ot)}function wu(i){i.memoizedState!==null&&tt(Dt,i);var s=ct.current,a=a1(s,i.type);s!==a&&(tt(Mt,i),tt(ct,a))}function Tf(i){Mt.current===i&&(et(ct),et(Mt)),Dt.current===i&&(et(Dt),yh._currentValue=J)}var hm=Object.prototype.hasOwnProperty,dm=c.unstable_scheduleCallback,fm=c.unstable_cancelCallback,dx=c.unstable_shouldYield,fx=c.unstable_requestPaint,Ys=c.unstable_now,px=c.unstable_getCurrentPriorityLevel,zv=c.unstable_ImmediatePriority,Iv=c.unstable_UserBlockingPriority,xf=c.unstable_NormalPriority,gx=c.unstable_LowPriority,Uv=c.unstable_IdlePriority,mx=c.log,yx=c.unstable_setDisableYieldValue,Tu=null,Ni=null;function Ea(i){if(typeof mx=="function"&&yx(i),Ni&&typeof Ni.setStrictMode=="function")try{Ni.setStrictMode(Tu,i)}catch{}}var Pi=Math.clz32?Math.clz32:Ax,bx=Math.log,vx=Math.LN2;function Ax(i){return i>>>=0,i===0?32:31-(bx(i)/vx|0)|0}var Cf=256,Rf=4194304;function Pr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Mf(i,s,a){var o=i.pendingLanes;if(o===0)return 0;var f=0,y=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var R=o&134217727;return R!==0?(o=R&~y,o!==0?f=Pr(o):(_&=R,_!==0?f=Pr(_):a||(a=R&~i,a!==0&&(f=Pr(a))))):(R=o&~y,R!==0?f=Pr(R):_!==0?f=Pr(_):a||(a=o&~i,a!==0&&(f=Pr(a)))),f===0?0:s!==0&&s!==f&&(s&y)===0&&(y=f&-f,a=s&-s,y>=a||y===32&&(a&4194048)!==0)?s:f}function xu(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function _x(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bv(){var i=Cf;return Cf<<=1,(Cf&4194048)===0&&(Cf=256),i}function qv(){var i=Rf;return Rf<<=1,(Rf&62914560)===0&&(Rf=4194304),i}function pm(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function Cu(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Sx(i,s,a,o,f,y){var _=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var R=i.entanglements,L=i.expirationTimes,I=i.hiddenUpdates;for(a=_&~a;0<a;){var K=31-Pi(a),W=1<<K;R[K]=0,L[K]=-1;var B=I[K];if(B!==null)for(I[K]=null,K=0;K<B.length;K++){var j=B[K];j!==null&&(j.lane&=-536870913)}a&=~W}o!==0&&jv(i,o,0),y!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=y&~(_&~s))}function jv(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var o=31-Pi(s);i.entangledLanes|=s,i.entanglements[o]=i.entanglements[o]|1073741824|a&4194090}function Gv(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var o=31-Pi(a),f=1<<o;f&s|i[o]&s&&(i[o]|=s),a&=~f}}function gm(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function mm(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Xv(){var i=V.p;return i!==0?i:(i=window.event,i===void 0?32:w1(i.type))}function Ex(i,s){var a=V.p;try{return V.p=i,s()}finally{V.p=a}}var wa=Math.random().toString(36).slice(2),ti="__reactFiber$"+wa,Si="__reactProps$"+wa,yo="__reactContainer$"+wa,ym="__reactEvents$"+wa,wx="__reactListeners$"+wa,Tx="__reactHandles$"+wa,Yv="__reactResources$"+wa,Ru="__reactMarker$"+wa;function bm(i){delete i[ti],delete i[Si],delete i[ym],delete i[wx],delete i[Tx]}function bo(i){var s=i[ti];if(s)return s;for(var a=i.parentNode;a;){if(s=a[yo]||a[ti]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=c1(i);i!==null;){if(a=i[ti])return a;i=c1(i)}return s}i=a,a=i.parentNode}return null}function vo(i){if(i=i[ti]||i[yo]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Mu(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(n(33))}function Ao(i){var s=i[Yv];return s||(s=i[Yv]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Fe(i){i[Ru]=!0}var Vv=new Set,Kv={};function Fr(i,s){_o(i,s),_o(i+"Capture",s)}function _o(i,s){for(Kv[i]=s,i=0;i<s.length;i++)Vv.add(s[i])}var xx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qv={},$v={};function Cx(i){return hm.call($v,i)?!0:hm.call(Qv,i)?!1:xx.test(i)?$v[i]=!0:(Qv[i]=!0,!1)}function Df(i,s,a){if(Cx(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var o=s.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function Of(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function Sn(i,s,a,o){if(o===null)i.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+o)}}var vm,Wv;function So(i){if(vm===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);vm=s&&s[1]||"",Wv=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vm+i+Wv}var Am=!1;function _m(i,s){if(!i||Am)return"";Am=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(s){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(j){var B=j}Reflect.construct(i,[],W)}else{try{W.call()}catch(j){B=j}i.call(W.prototype)}}else{try{throw Error()}catch(j){B=j}(W=i())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(j){if(j&&B&&typeof j.stack=="string")return[j.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=o.DetermineComponentFrameRoot(),_=y[0],R=y[1];if(_&&R){var L=_.split(`
`),I=R.split(`
`);for(f=o=0;o<L.length&&!L[o].includes("DetermineComponentFrameRoot");)o++;for(;f<I.length&&!I[f].includes("DetermineComponentFrameRoot");)f++;if(o===L.length||f===I.length)for(o=L.length-1,f=I.length-1;1<=o&&0<=f&&L[o]!==I[f];)f--;for(;1<=o&&0<=f;o--,f--)if(L[o]!==I[f]){if(o!==1||f!==1)do if(o--,f--,0>f||L[o]!==I[f]){var K=`
`+L[o].replace(" at new "," at ");return i.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",i.displayName)),K}while(1<=o&&0<=f);break}}}finally{Am=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?So(a):""}function Rx(i){switch(i.tag){case 26:case 27:case 5:return So(i.type);case 16:return So("Lazy");case 13:return So("Suspense");case 19:return So("SuspenseList");case 0:case 15:return _m(i.type,!1);case 11:return _m(i.type.render,!1);case 1:return _m(i.type,!0);case 31:return So("Activity");default:return""}}function Zv(i){try{var s="";do s+=Rx(i),i=i.return;while(i);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function is(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Jv(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Mx(i){var s=Jv(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),o=""+i[s];if(!i.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,y=a.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){o=""+_,y.call(this,_)}}),Object.defineProperty(i,s,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Lf(i){i._valueTracker||(i._valueTracker=Mx(i))}function tA(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),o="";return i&&(o=Jv(i)?i.checked?"true":"false":i.value),i=o,i!==a?(s.setValue(i),!0):!1}function kf(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Dx=/[\n"\\]/g;function ss(i){return i.replace(Dx,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Sm(i,s,a,o,f,y,_,R){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),s!=null?_==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+is(s)):i.value!==""+is(s)&&(i.value=""+is(s)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),s!=null?Em(i,_,is(s)):a!=null?Em(i,_,is(a)):o!=null&&i.removeAttribute("value"),f==null&&y!=null&&(i.defaultChecked=!!y),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.name=""+is(R):i.removeAttribute("name")}function eA(i,s,a,o,f,y,_,R){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;a=a!=null?""+is(a):"",s=s!=null?""+is(s):a,R||s===i.value||(i.value=s),i.defaultValue=s}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,i.checked=R?i.checked:!!o,i.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_)}function Em(i,s,a){s==="number"&&kf(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Eo(i,s,a,o){if(i=i.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=s.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&o&&(i[a].defaultSelected=!0)}else{for(a=""+is(a),s=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,o&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function iA(i,s,a){if(s!=null&&(s=""+is(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+is(a):""}function sA(i,s,a,o){if(s==null){if(o!=null){if(a!=null)throw Error(n(92));if(mt(o)){if(1<o.length)throw Error(n(93));o=o[0]}a=o}a==null&&(a=""),s=a}a=is(s),i.defaultValue=a,o=i.textContent,o===a&&o!==""&&o!==null&&(i.value=o)}function wo(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var Ox=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nA(i,s,a){var o=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":o?i.setProperty(s,a):typeof a!="number"||a===0||Ox.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function aA(i,s,a){if(s!=null&&typeof s!="object")throw Error(n(62));if(i=i.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||s!=null&&s.hasOwnProperty(o)||(o.indexOf("--")===0?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="");for(var f in s)o=s[f],s.hasOwnProperty(f)&&a[f]!==o&&nA(i,f,o)}else for(var y in s)s.hasOwnProperty(y)&&nA(i,y,s[y])}function wm(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nf(i){return kx.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Tm=null;function xm(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var To=null,xo=null;function rA(i){var s=vo(i);if(s&&(i=s.stateNode)){var a=i[Si]||null;t:switch(i=s.stateNode,s.type){case"input":if(Sm(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ss(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var o=a[s];if(o!==i&&o.form===i.form){var f=o[Si]||null;if(!f)throw Error(n(90));Sm(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)o=a[s],o.form===i.form&&tA(o)}break t;case"textarea":iA(i,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Eo(i,!!a.multiple,s,!1)}}}var Cm=!1;function lA(i,s,a){if(Cm)return i(s,a);Cm=!0;try{var o=i(s);return o}finally{if(Cm=!1,(To!==null||xo!==null)&&(vp(),To&&(s=To,i=xo,xo=To=null,rA(s),i)))for(s=0;s<i.length;s++)rA(i[s])}}function Du(i,s){var a=i.stateNode;if(a===null)return null;var o=a[Si]||null;if(o===null)return null;a=o[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(i=i.type,o=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!o;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(n(231,s,typeof a));return a}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rm=!1;if(En)try{var Ou={};Object.defineProperty(Ou,"passive",{get:function(){Rm=!0}}),window.addEventListener("test",Ou,Ou),window.removeEventListener("test",Ou,Ou)}catch{Rm=!1}var Ta=null,Mm=null,Pf=null;function oA(){if(Pf)return Pf;var i,s=Mm,a=s.length,o,f="value"in Ta?Ta.value:Ta.textContent,y=f.length;for(i=0;i<a&&s[i]===f[i];i++);var _=a-i;for(o=1;o<=_&&s[a-o]===f[y-o];o++);return Pf=f.slice(i,1<o?1-o:void 0)}function Ff(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Hf(){return!0}function cA(){return!1}function Ei(i){function s(a,o,f,y,_){this._reactName=a,this._targetInst=f,this.type=o,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(a=i[R],this[R]=a?a(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Hf:cA,this.isPropagationStopped=cA,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hf)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hf)},persist:function(){},isPersistent:Hf}),s}var Hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zf=Ei(Hr),Lu=m({},Hr,{view:0,detail:0}),Nx=Ei(Lu),Dm,Om,ku,If=m({},Lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:km,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ku&&(ku&&i.type==="mousemove"?(Dm=i.screenX-ku.screenX,Om=i.screenY-ku.screenY):Om=Dm=0,ku=i),Dm)},movementY:function(i){return"movementY"in i?i.movementY:Om}}),uA=Ei(If),Px=m({},If,{dataTransfer:0}),Fx=Ei(Px),Hx=m({},Lu,{relatedTarget:0}),Lm=Ei(Hx),zx=m({},Hr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ix=Ei(zx),Ux=m({},Hr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Bx=Ei(Ux),qx=m({},Hr,{data:0}),hA=Ei(qx),jx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yx(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Xx[i])?!!s[i]:!1}function km(){return Yx}var Vx=m({},Lu,{key:function(i){if(i.key){var s=jx[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ff(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Gx[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:km,charCode:function(i){return i.type==="keypress"?Ff(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ff(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Kx=Ei(Vx),Qx=m({},If,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dA=Ei(Qx),$x=m({},Lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:km}),Wx=Ei($x),Zx=m({},Hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jx=Ei(Zx),tC=m({},If,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),eC=Ei(tC),iC=m({},Hr,{newState:0,oldState:0}),sC=Ei(iC),nC=[9,13,27,32],Nm=En&&"CompositionEvent"in window,Nu=null;En&&"documentMode"in document&&(Nu=document.documentMode);var aC=En&&"TextEvent"in window&&!Nu,fA=En&&(!Nm||Nu&&8<Nu&&11>=Nu),pA=" ",gA=!1;function mA(i,s){switch(i){case"keyup":return nC.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yA(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Co=!1;function rC(i,s){switch(i){case"compositionend":return yA(s);case"keypress":return s.which!==32?null:(gA=!0,pA);case"textInput":return i=s.data,i===pA&&gA?null:i;default:return null}}function lC(i,s){if(Co)return i==="compositionend"||!Nm&&mA(i,s)?(i=oA(),Pf=Mm=Ta=null,Co=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return fA&&s.locale!=="ko"?null:s.data;default:return null}}var oC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bA(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!oC[i.type]:s==="textarea"}function vA(i,s,a,o){To?xo?xo.push(o):xo=[o]:To=o,s=Tp(s,"onChange"),0<s.length&&(a=new zf("onChange","change",null,a,o),i.push({event:a,listeners:s}))}var Pu=null,Fu=null;function cC(i){JS(i,0)}function Uf(i){var s=Mu(i);if(tA(s))return i}function AA(i,s){if(i==="change")return s}var _A=!1;if(En){var Pm;if(En){var Fm="oninput"in document;if(!Fm){var SA=document.createElement("div");SA.setAttribute("oninput","return;"),Fm=typeof SA.oninput=="function"}Pm=Fm}else Pm=!1;_A=Pm&&(!document.documentMode||9<document.documentMode)}function EA(){Pu&&(Pu.detachEvent("onpropertychange",wA),Fu=Pu=null)}function wA(i){if(i.propertyName==="value"&&Uf(Fu)){var s=[];vA(s,Fu,i,xm(i)),lA(cC,s)}}function uC(i,s,a){i==="focusin"?(EA(),Pu=s,Fu=a,Pu.attachEvent("onpropertychange",wA)):i==="focusout"&&EA()}function hC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Uf(Fu)}function dC(i,s){if(i==="click")return Uf(s)}function fC(i,s){if(i==="input"||i==="change")return Uf(s)}function pC(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Fi=typeof Object.is=="function"?Object.is:pC;function Hu(i,s){if(Fi(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),o=Object.keys(s);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var f=a[o];if(!hm.call(s,f)||!Fi(i[f],s[f]))return!1}return!0}function TA(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function xA(i,s){var a=TA(i);i=0;for(var o;a;){if(a.nodeType===3){if(o=i+a.textContent.length,i<=s&&o>=s)return{node:a,offset:s-i};i=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=TA(a)}}function CA(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?CA(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function RA(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=kf(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=kf(i.document)}return s}function Hm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var gC=En&&"documentMode"in document&&11>=document.documentMode,Ro=null,zm=null,zu=null,Im=!1;function MA(i,s,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Im||Ro==null||Ro!==kf(o)||(o=Ro,"selectionStart"in o&&Hm(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),zu&&Hu(zu,o)||(zu=o,o=Tp(zm,"onSelect"),0<o.length&&(s=new zf("onSelect","select",null,s,a),i.push({event:s,listeners:o}),s.target=Ro)))}function zr(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var Mo={animationend:zr("Animation","AnimationEnd"),animationiteration:zr("Animation","AnimationIteration"),animationstart:zr("Animation","AnimationStart"),transitionrun:zr("Transition","TransitionRun"),transitionstart:zr("Transition","TransitionStart"),transitioncancel:zr("Transition","TransitionCancel"),transitionend:zr("Transition","TransitionEnd")},Um={},DA={};En&&(DA=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function Ir(i){if(Um[i])return Um[i];if(!Mo[i])return i;var s=Mo[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in DA)return Um[i]=s[a];return i}var OA=Ir("animationend"),LA=Ir("animationiteration"),kA=Ir("animationstart"),mC=Ir("transitionrun"),yC=Ir("transitionstart"),bC=Ir("transitioncancel"),NA=Ir("transitionend"),PA=new Map,Bm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bm.push("scrollEnd");function Ss(i,s){PA.set(i,s),Fr(s,[i])}var FA=new WeakMap;function ns(i,s){if(typeof i=="object"&&i!==null){var a=FA.get(i);return a!==void 0?a:(s={value:i,source:s,stack:Zv(s)},FA.set(i,s),s)}return{value:i,source:s,stack:Zv(s)}}var as=[],Do=0,qm=0;function Bf(){for(var i=Do,s=qm=Do=0;s<i;){var a=as[s];as[s++]=null;var o=as[s];as[s++]=null;var f=as[s];as[s++]=null;var y=as[s];if(as[s++]=null,o!==null&&f!==null){var _=o.pending;_===null?f.next=f:(f.next=_.next,_.next=f),o.pending=f}y!==0&&HA(a,f,y)}}function qf(i,s,a,o){as[Do++]=i,as[Do++]=s,as[Do++]=a,as[Do++]=o,qm|=o,i.lanes|=o,i=i.alternate,i!==null&&(i.lanes|=o)}function jm(i,s,a,o){return qf(i,s,a,o),jf(i)}function Oo(i,s){return qf(i,null,null,s),jf(i)}function HA(i,s,a){i.lanes|=a;var o=i.alternate;o!==null&&(o.lanes|=a);for(var f=!1,y=i.return;y!==null;)y.childLanes|=a,o=y.alternate,o!==null&&(o.childLanes|=a),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(f=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,f&&s!==null&&(f=31-Pi(a),i=y.hiddenUpdates,o=i[f],o===null?i[f]=[s]:o.push(s),s.lane=a|536870912),y):null}function jf(i){if(50<ch)throw ch=0,Qy=null,Error(n(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Lo={};function vC(i,s,a,o){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hi(i,s,a,o){return new vC(i,s,a,o)}function Gm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function wn(i,s){var a=i.alternate;return a===null?(a=Hi(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function zA(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Gf(i,s,a,o,f,y){var _=0;if(o=i,typeof i=="function")Gm(i)&&(_=1);else if(typeof i=="string")_=_R(i,a,ct.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case Z:return i=Hi(31,a,s,f),i.elementType=Z,i.lanes=y,i;case E:return Ur(a.children,f,y,s);case T:_=8,f|=24;break;case M:return i=Hi(12,a,s,f|2),i.elementType=M,i.lanes=y,i;case F:return i=Hi(13,a,s,f),i.elementType=F,i.lanes=y,i;case U:return i=Hi(19,a,s,f),i.elementType=U,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case C:case D:_=10;break t;case O:_=9;break t;case k:_=11;break t;case X:_=14;break t;case Y:_=16,o=null;break t}_=29,a=Error(n(130,i===null?"null":typeof i,"")),o=null}return s=Hi(_,a,s,f),s.elementType=i,s.type=o,s.lanes=y,s}function Ur(i,s,a,o){return i=Hi(7,i,o,s),i.lanes=a,i}function Xm(i,s,a){return i=Hi(6,i,null,s),i.lanes=a,i}function Ym(i,s,a){return s=Hi(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var ko=[],No=0,Xf=null,Yf=0,rs=[],ls=0,Br=null,Tn=1,xn="";function qr(i,s){ko[No++]=Yf,ko[No++]=Xf,Xf=i,Yf=s}function IA(i,s,a){rs[ls++]=Tn,rs[ls++]=xn,rs[ls++]=Br,Br=i;var o=Tn;i=xn;var f=32-Pi(o)-1;o&=~(1<<f),a+=1;var y=32-Pi(s)+f;if(30<y){var _=f-f%5;y=(o&(1<<_)-1).toString(32),o>>=_,f-=_,Tn=1<<32-Pi(s)+f|a<<f|o,xn=y+i}else Tn=1<<y|a<<f|o,xn=i}function Vm(i){i.return!==null&&(qr(i,1),IA(i,1,0))}function Km(i){for(;i===Xf;)Xf=ko[--No],ko[No]=null,Yf=ko[--No],ko[No]=null;for(;i===Br;)Br=rs[--ls],rs[ls]=null,xn=rs[--ls],rs[ls]=null,Tn=rs[--ls],rs[ls]=null}var di=null,pe=null,Ut=!1,jr=null,Vs=!1,Qm=Error(n(519));function Gr(i){var s=Error(n(418,""));throw Bu(ns(s,i)),Qm}function UA(i){var s=i.stateNode,a=i.type,o=i.memoizedProps;switch(s[ti]=i,s[Si]=o,a){case"dialog":Nt("cancel",s),Nt("close",s);break;case"iframe":case"object":case"embed":Nt("load",s);break;case"video":case"audio":for(a=0;a<hh.length;a++)Nt(hh[a],s);break;case"source":Nt("error",s);break;case"img":case"image":case"link":Nt("error",s),Nt("load",s);break;case"details":Nt("toggle",s);break;case"input":Nt("invalid",s),eA(s,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Lf(s);break;case"select":Nt("invalid",s);break;case"textarea":Nt("invalid",s),sA(s,o.value,o.defaultValue,o.children),Lf(s)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||o.suppressHydrationWarning===!0||s1(s.textContent,a)?(o.popover!=null&&(Nt("beforetoggle",s),Nt("toggle",s)),o.onScroll!=null&&Nt("scroll",s),o.onScrollEnd!=null&&Nt("scrollend",s),o.onClick!=null&&(s.onclick=xp),s=!0):s=!1,s||Gr(i)}function BA(i){for(di=i.return;di;)switch(di.tag){case 5:case 13:Vs=!1;return;case 27:case 3:Vs=!0;return;default:di=di.return}}function Iu(i){if(i!==di)return!1;if(!Ut)return BA(i),Ut=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||h0(i.type,i.memoizedProps)),a=!a),a&&pe&&Gr(i),BA(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(s===0){pe=ws(i.nextSibling);break t}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;i=i.nextSibling}pe=null}}else s===27?(s=pe,Ba(i.type)?(i=g0,g0=null,pe=i):pe=s):pe=di?ws(i.stateNode.nextSibling):null;return!0}function Uu(){pe=di=null,Ut=!1}function qA(){var i=jr;return i!==null&&(xi===null?xi=i:xi.push.apply(xi,i),jr=null),i}function Bu(i){jr===null?jr=[i]:jr.push(i)}var $m=$(null),Xr=null,Cn=null;function xa(i,s,a){tt($m,s._currentValue),s._currentValue=a}function Rn(i){i._currentValue=$m.current,et($m)}function Wm(i,s,a){for(;i!==null;){var o=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),i===a)break;i=i.return}}function Zm(i,s,a,o){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var y=f.dependencies;if(y!==null){var _=f.child;y=y.firstContext;t:for(;y!==null;){var R=y;y=f;for(var L=0;L<s.length;L++)if(R.context===s[L]){y.lanes|=a,R=y.alternate,R!==null&&(R.lanes|=a),Wm(y.return,a,i),o||(_=null);break t}y=R.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(n(341));_.lanes|=a,y=_.alternate,y!==null&&(y.lanes|=a),Wm(_,a,i),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===i){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function qu(i,s,a,o){i=null;for(var f=s,y=!1;f!==null;){if(!y){if((f.flags&524288)!==0)y=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(n(387));if(_=_.memoizedProps,_!==null){var R=f.type;Fi(f.pendingProps.value,_.value)||(i!==null?i.push(R):i=[R])}}else if(f===Dt.current){if(_=f.alternate,_===null)throw Error(n(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(yh):i=[yh])}f=f.return}i!==null&&Zm(s,i,a,o),s.flags|=262144}function Vf(i){for(i=i.firstContext;i!==null;){if(!Fi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Yr(i){Xr=i,Cn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ei(i){return jA(Xr,i)}function Kf(i,s){return Xr===null&&Yr(i),jA(i,s)}function jA(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Cn===null){if(i===null)throw Error(n(308));Cn=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Cn=Cn.next=s;return a}var AC=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,o){i.push(o)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},_C=c.unstable_scheduleCallback,SC=c.unstable_NormalPriority,Ce={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jm(){return{controller:new AC,data:new Map,refCount:0}}function ju(i){i.refCount--,i.refCount===0&&_C(SC,function(){i.controller.abort()})}var Gu=null,ty=0,Po=0,Fo=null;function EC(i,s){if(Gu===null){var a=Gu=[];ty=0,Po=i0(),Fo={status:"pending",value:void 0,then:function(o){a.push(o)}}}return ty++,s.then(GA,GA),s}function GA(){if(--ty===0&&Gu!==null){Fo!==null&&(Fo.status="fulfilled");var i=Gu;Gu=null,Po=0,Fo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function wC(i,s){var a=[],o={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){o.status="fulfilled",o.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(o.status="rejected",o.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),o}var XA=q.S;q.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&EC(i,s),XA!==null&&XA(i,s)};var Vr=$(null);function ey(){var i=Vr.current;return i!==null?i:ie.pooledCache}function Qf(i,s){s===null?tt(Vr,Vr.current):tt(Vr,s.pool)}function YA(){var i=ey();return i===null?null:{parent:Ce._currentValue,pool:i}}var Xu=Error(n(460)),VA=Error(n(474)),$f=Error(n(542)),iy={then:function(){}};function KA(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Wf(){}function QA(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(Wf,Wf),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,WA(i),i;default:if(typeof s.status=="string")s.then(Wf,Wf);else{if(i=ie,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=s,i.status="pending",i.then(function(o){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=o}},function(o){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=o}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,WA(i),i}throw Yu=s,Xu}}var Yu=null;function $A(){if(Yu===null)throw Error(n(459));var i=Yu;return Yu=null,i}function WA(i){if(i===Xu||i===$f)throw Error(n(483))}var Ca=!1;function sy(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ny(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ra(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ma(i,s,a){var o=i.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var f=o.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),o.pending=s,s=jf(i),HA(i,null,a),s}return qf(i,o,s,a),jf(i)}function Vu(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var o=s.lanes;o&=i.pendingLanes,a|=o,s.lanes=a,Gv(i,a)}}function ay(i,s){var a=i.updateQueue,o=i.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var f=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?f=y=_:y=y.next=_,a=a.next}while(a!==null);y===null?f=y=s:y=y.next=s}else f=y=s;a={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:y,shared:o.shared,callbacks:o.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var ry=!1;function Ku(){if(ry){var i=Fo;if(i!==null)throw i}}function Qu(i,s,a,o){ry=!1;var f=i.updateQueue;Ca=!1;var y=f.firstBaseUpdate,_=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var L=R,I=L.next;L.next=null,_===null?y=I:_.next=I,_=L;var K=i.alternate;K!==null&&(K=K.updateQueue,R=K.lastBaseUpdate,R!==_&&(R===null?K.firstBaseUpdate=I:R.next=I,K.lastBaseUpdate=L))}if(y!==null){var W=f.baseState;_=0,K=I=L=null,R=y;do{var B=R.lane&-536870913,j=B!==R.lane;if(j?(zt&B)===B:(o&B)===B){B!==0&&B===Po&&(ry=!0),K!==null&&(K=K.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var yt=i,pt=R;B=s;var Wt=a;switch(pt.tag){case 1:if(yt=pt.payload,typeof yt=="function"){W=yt.call(Wt,W,B);break t}W=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=pt.payload,B=typeof yt=="function"?yt.call(Wt,W,B):yt,B==null)break t;W=m({},W,B);break t;case 2:Ca=!0}}B=R.callback,B!==null&&(i.flags|=64,j&&(i.flags|=8192),j=f.callbacks,j===null?f.callbacks=[B]:j.push(B))}else j={lane:B,tag:R.tag,payload:R.payload,callback:R.callback,next:null},K===null?(I=K=j,L=W):K=K.next=j,_|=B;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;j=R,R=j.next,j.next=null,f.lastBaseUpdate=j,f.shared.pending=null}}while(!0);K===null&&(L=W),f.baseState=L,f.firstBaseUpdate=I,f.lastBaseUpdate=K,y===null&&(f.shared.lanes=0),Ha|=_,i.lanes=_,i.memoizedState=W}}function ZA(i,s){if(typeof i!="function")throw Error(n(191,i));i.call(s)}function JA(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)ZA(a[i],s)}var Ho=$(null),Zf=$(0);function t_(i,s){i=Pn,tt(Zf,i),tt(Ho,s),Pn=i|s.baseLanes}function ly(){tt(Zf,Pn),tt(Ho,Ho.current)}function oy(){Pn=Zf.current,et(Ho),et(Zf)}var Da=0,Ct=null,Qt=null,Se=null,Jf=!1,zo=!1,Kr=!1,tp=0,$u=0,Io=null,TC=0;function be(){throw Error(n(321))}function cy(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!Fi(i[a],s[a]))return!1;return!0}function uy(i,s,a,o,f,y){return Da=y,Ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,q.H=i===null||i.memoizedState===null?H_:z_,Kr=!1,y=a(o,f),Kr=!1,zo&&(y=i_(s,a,o,f)),e_(i),y}function e_(i){q.H=rp;var s=Qt!==null&&Qt.next!==null;if(Da=0,Se=Qt=Ct=null,Jf=!1,$u=0,Io=null,s)throw Error(n(300));i===null||He||(i=i.dependencies,i!==null&&Vf(i)&&(He=!0))}function i_(i,s,a,o){Ct=i;var f=0;do{if(zo&&(Io=null),$u=0,zo=!1,25<=f)throw Error(n(301));if(f+=1,Se=Qt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}q.H=LC,y=s(a,o)}while(zo);return y}function xC(){var i=q.H,s=i.useState()[0];return s=typeof s.then=="function"?Wu(s):s,i=i.useState()[0],(Qt!==null?Qt.memoizedState:null)!==i&&(Ct.flags|=1024),s}function hy(){var i=tp!==0;return tp=0,i}function dy(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function fy(i){if(Jf){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Jf=!1}Da=0,Se=Qt=Ct=null,zo=!1,$u=tp=0,Io=null}function wi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Ct.memoizedState=Se=i:Se=Se.next=i,Se}function Ee(){if(Qt===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=Qt.next;var s=Se===null?Ct.memoizedState:Se.next;if(s!==null)Se=s,Qt=i;else{if(i===null)throw Ct.alternate===null?Error(n(467)):Error(n(310));Qt=i,i={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Se===null?Ct.memoizedState=Se=i:Se=Se.next=i}return Se}function py(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wu(i){var s=$u;return $u+=1,Io===null&&(Io=[]),i=QA(Io,i,s),s=Ct,(Se===null?s.memoizedState:Se.next)===null&&(s=s.alternate,q.H=s===null||s.memoizedState===null?H_:z_),i}function ep(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Wu(i);if(i.$$typeof===D)return ei(i)}throw Error(n(438,String(i)))}function gy(i){var s=null,a=Ct.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var o=Ct.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(s={data:o.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=py(),Ct.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),o=0;o<i;o++)a[o]=rt;return s.index++,a}function Mn(i,s){return typeof s=="function"?s(i):s}function ip(i){var s=Ee();return my(s,Qt,i)}function my(i,s,a){var o=i.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=a;var f=i.baseQueue,y=o.pending;if(y!==null){if(f!==null){var _=f.next;f.next=y.next,y.next=_}s.baseQueue=f=y,o.pending=null}if(y=i.baseState,f===null)i.memoizedState=y;else{s=f.next;var R=_=null,L=null,I=s,K=!1;do{var W=I.lane&-536870913;if(W!==I.lane?(zt&W)===W:(Da&W)===W){var B=I.revertLane;if(B===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),W===Po&&(K=!0);else if((Da&B)===B){I=I.next,B===Po&&(K=!0);continue}else W={lane:0,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},L===null?(R=L=W,_=y):L=L.next=W,Ct.lanes|=B,Ha|=B;W=I.action,Kr&&a(y,W),y=I.hasEagerState?I.eagerState:a(y,W)}else B={lane:W,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},L===null?(R=L=B,_=y):L=L.next=B,Ct.lanes|=W,Ha|=W;I=I.next}while(I!==null&&I!==s);if(L===null?_=y:L.next=R,!Fi(y,i.memoizedState)&&(He=!0,K&&(a=Fo,a!==null)))throw a;i.memoizedState=y,i.baseState=_,i.baseQueue=L,o.lastRenderedState=y}return f===null&&(o.lanes=0),[i.memoizedState,o.dispatch]}function yy(i){var s=Ee(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=i;var o=a.dispatch,f=a.pending,y=s.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do y=i(y,_.action),_=_.next;while(_!==f);Fi(y,s.memoizedState)||(He=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),a.lastRenderedState=y}return[y,o]}function s_(i,s,a){var o=Ct,f=Ee(),y=Ut;if(y){if(a===void 0)throw Error(n(407));a=a()}else a=s();var _=!Fi((Qt||f).memoizedState,a);_&&(f.memoizedState=a,He=!0),f=f.queue;var R=r_.bind(null,o,f,i);if(Zu(2048,8,R,[i]),f.getSnapshot!==s||_||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,Uo(9,sp(),a_.bind(null,o,f,a,s),null),ie===null)throw Error(n(349));y||(Da&124)!==0||n_(o,s,a)}return a}function n_(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=Ct.updateQueue,s===null?(s=py(),Ct.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function a_(i,s,a,o){s.value=a,s.getSnapshot=o,l_(s)&&o_(i)}function r_(i,s,a){return a(function(){l_(s)&&o_(i)})}function l_(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!Fi(i,a)}catch{return!0}}function o_(i){var s=Oo(i,2);s!==null&&qi(s,i,2)}function by(i){var s=wi();if(typeof i=="function"){var a=i;if(i=a(),Kr){Ea(!0);try{a()}finally{Ea(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:i},s}function c_(i,s,a,o){return i.baseState=a,my(i,Qt,typeof o=="function"?o:Mn)}function CC(i,s,a,o,f){if(ap(i))throw Error(n(485));if(i=s.action,i!==null){var y={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};q.T!==null?a(!0):y.isTransition=!1,o(y),a=s.pending,a===null?(y.next=s.pending=y,u_(s,y)):(y.next=a.next,s.pending=a.next=y)}}function u_(i,s){var a=s.action,o=s.payload,f=i.state;if(s.isTransition){var y=q.T,_={};q.T=_;try{var R=a(f,o),L=q.S;L!==null&&L(_,R),h_(i,s,R)}catch(I){vy(i,s,I)}finally{q.T=y}}else try{y=a(f,o),h_(i,s,y)}catch(I){vy(i,s,I)}}function h_(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){d_(i,s,o)},function(o){return vy(i,s,o)}):d_(i,s,a)}function d_(i,s,a){s.status="fulfilled",s.value=a,f_(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,u_(i,a)))}function vy(i,s,a){var o=i.pending;if(i.pending=null,o!==null){o=o.next;do s.status="rejected",s.reason=a,f_(s),s=s.next;while(s!==o)}i.action=null}function f_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function p_(i,s){return s}function g_(i,s){if(Ut){var a=ie.formState;if(a!==null){t:{var o=Ct;if(Ut){if(pe){e:{for(var f=pe,y=Vs;f.nodeType!==8;){if(!y){f=null;break e}if(f=ws(f.nextSibling),f===null){f=null;break e}}y=f.data,f=y==="F!"||y==="F"?f:null}if(f){pe=ws(f.nextSibling),o=f.data==="F!";break t}}Gr(o)}o=!1}o&&(s=a[0])}}return a=wi(),a.memoizedState=a.baseState=s,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p_,lastRenderedState:s},a.queue=o,a=N_.bind(null,Ct,o),o.dispatch=a,o=by(!1),y=wy.bind(null,Ct,!1,o.queue),o=wi(),f={state:s,dispatch:null,action:i,pending:null},o.queue=f,a=CC.bind(null,Ct,f,y,a),f.dispatch=a,o.memoizedState=i,[s,a,!1]}function m_(i){var s=Ee();return y_(s,Qt,i)}function y_(i,s,a){if(s=my(i,s,p_)[0],i=ip(Mn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var o=Wu(s)}catch(_){throw _===Xu?$f:_}else o=s;s=Ee();var f=s.queue,y=f.dispatch;return a!==s.memoizedState&&(Ct.flags|=2048,Uo(9,sp(),RC.bind(null,f,a),null)),[o,y,i]}function RC(i,s){i.action=s}function b_(i){var s=Ee(),a=Qt;if(a!==null)return y_(s,a,i);Ee(),s=s.memoizedState,a=Ee();var o=a.queue.dispatch;return a.memoizedState=i,[s,o,!1]}function Uo(i,s,a,o){return i={tag:i,create:a,deps:o,inst:s,next:null},s=Ct.updateQueue,s===null&&(s=py(),Ct.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(o=a.next,a.next=i,i.next=o,s.lastEffect=i),i}function sp(){return{destroy:void 0,resource:void 0}}function v_(){return Ee().memoizedState}function np(i,s,a,o){var f=wi();o=o===void 0?null:o,Ct.flags|=i,f.memoizedState=Uo(1|s,sp(),a,o)}function Zu(i,s,a,o){var f=Ee();o=o===void 0?null:o;var y=f.memoizedState.inst;Qt!==null&&o!==null&&cy(o,Qt.memoizedState.deps)?f.memoizedState=Uo(s,y,a,o):(Ct.flags|=i,f.memoizedState=Uo(1|s,y,a,o))}function A_(i,s){np(8390656,8,i,s)}function __(i,s){Zu(2048,8,i,s)}function S_(i,s){return Zu(4,2,i,s)}function E_(i,s){return Zu(4,4,i,s)}function w_(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function T_(i,s,a){a=a!=null?a.concat([i]):null,Zu(4,4,w_.bind(null,s,i),a)}function Ay(){}function x_(i,s){var a=Ee();s=s===void 0?null:s;var o=a.memoizedState;return s!==null&&cy(s,o[1])?o[0]:(a.memoizedState=[i,s],i)}function C_(i,s){var a=Ee();s=s===void 0?null:s;var o=a.memoizedState;if(s!==null&&cy(s,o[1]))return o[0];if(o=i(),Kr){Ea(!0);try{i()}finally{Ea(!1)}}return a.memoizedState=[o,s],o}function _y(i,s,a){return a===void 0||(Da&1073741824)!==0?i.memoizedState=s:(i.memoizedState=a,i=DS(),Ct.lanes|=i,Ha|=i,a)}function R_(i,s,a,o){return Fi(a,s)?a:Ho.current!==null?(i=_y(i,a,o),Fi(i,s)||(He=!0),i):(Da&42)===0?(He=!0,i.memoizedState=a):(i=DS(),Ct.lanes|=i,Ha|=i,s)}function M_(i,s,a,o,f){var y=V.p;V.p=y!==0&&8>y?y:8;var _=q.T,R={};q.T=R,wy(i,!1,s,a);try{var L=f(),I=q.S;if(I!==null&&I(R,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var K=wC(L,o);Ju(i,s,K,Bi(i))}else Ju(i,s,o,Bi(i))}catch(W){Ju(i,s,{then:function(){},status:"rejected",reason:W},Bi())}finally{V.p=y,q.T=_}}function MC(){}function Sy(i,s,a,o){if(i.tag!==5)throw Error(n(476));var f=D_(i).queue;M_(i,f,s,J,a===null?MC:function(){return O_(i),a(o)})}function D_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:J},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function O_(i){var s=D_(i).next.queue;Ju(i,s,{},Bi())}function Ey(){return ei(yh)}function L_(){return Ee().memoizedState}function k_(){return Ee().memoizedState}function DC(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=Bi();i=Ra(a);var o=Ma(s,i,a);o!==null&&(qi(o,s,a),Vu(o,s,a)),s={cache:Jm()},i.payload=s;return}s=s.return}}function OC(i,s,a){var o=Bi();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ap(i)?P_(s,a):(a=jm(i,s,a,o),a!==null&&(qi(a,i,o),F_(a,s,o)))}function N_(i,s,a){var o=Bi();Ju(i,s,a,o)}function Ju(i,s,a,o){var f={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ap(i))P_(s,f);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var _=s.lastRenderedState,R=y(_,a);if(f.hasEagerState=!0,f.eagerState=R,Fi(R,_))return qf(i,s,f,0),ie===null&&Bf(),!1}catch{}finally{}if(a=jm(i,s,f,o),a!==null)return qi(a,i,o),F_(a,s,o),!0}return!1}function wy(i,s,a,o){if(o={lane:2,revertLane:i0(),action:o,hasEagerState:!1,eagerState:null,next:null},ap(i)){if(s)throw Error(n(479))}else s=jm(i,a,o,2),s!==null&&qi(s,i,2)}function ap(i){var s=i.alternate;return i===Ct||s!==null&&s===Ct}function P_(i,s){zo=Jf=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function F_(i,s,a){if((a&4194048)!==0){var o=s.lanes;o&=i.pendingLanes,a|=o,s.lanes=a,Gv(i,a)}}var rp={readContext:ei,use:ep,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useLayoutEffect:be,useInsertionEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useSyncExternalStore:be,useId:be,useHostTransitionStatus:be,useFormState:be,useActionState:be,useOptimistic:be,useMemoCache:be,useCacheRefresh:be},H_={readContext:ei,use:ep,useCallback:function(i,s){return wi().memoizedState=[i,s===void 0?null:s],i},useContext:ei,useEffect:A_,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,np(4194308,4,w_.bind(null,s,i),a)},useLayoutEffect:function(i,s){return np(4194308,4,i,s)},useInsertionEffect:function(i,s){np(4,2,i,s)},useMemo:function(i,s){var a=wi();s=s===void 0?null:s;var o=i();if(Kr){Ea(!0);try{i()}finally{Ea(!1)}}return a.memoizedState=[o,s],o},useReducer:function(i,s,a){var o=wi();if(a!==void 0){var f=a(s);if(Kr){Ea(!0);try{a(s)}finally{Ea(!1)}}}else f=s;return o.memoizedState=o.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},o.queue=i,i=i.dispatch=OC.bind(null,Ct,i),[o.memoizedState,i]},useRef:function(i){var s=wi();return i={current:i},s.memoizedState=i},useState:function(i){i=by(i);var s=i.queue,a=N_.bind(null,Ct,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:Ay,useDeferredValue:function(i,s){var a=wi();return _y(a,i,s)},useTransition:function(){var i=by(!1);return i=M_.bind(null,Ct,i.queue,!0,!1),wi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var o=Ct,f=wi();if(Ut){if(a===void 0)throw Error(n(407));a=a()}else{if(a=s(),ie===null)throw Error(n(349));(zt&124)!==0||n_(o,s,a)}f.memoizedState=a;var y={value:a,getSnapshot:s};return f.queue=y,A_(r_.bind(null,o,y,i),[i]),o.flags|=2048,Uo(9,sp(),a_.bind(null,o,y,a,s),null),a},useId:function(){var i=wi(),s=ie.identifierPrefix;if(Ut){var a=xn,o=Tn;a=(o&~(1<<32-Pi(o)-1)).toString(32)+a,s="«"+s+"R"+a,a=tp++,0<a&&(s+="H"+a.toString(32)),s+="»"}else a=TC++,s="«"+s+"r"+a.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:Ey,useFormState:g_,useActionState:g_,useOptimistic:function(i){var s=wi();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=wy.bind(null,Ct,!0,a),a.dispatch=s,[i,s]},useMemoCache:gy,useCacheRefresh:function(){return wi().memoizedState=DC.bind(null,Ct)}},z_={readContext:ei,use:ep,useCallback:x_,useContext:ei,useEffect:__,useImperativeHandle:T_,useInsertionEffect:S_,useLayoutEffect:E_,useMemo:C_,useReducer:ip,useRef:v_,useState:function(){return ip(Mn)},useDebugValue:Ay,useDeferredValue:function(i,s){var a=Ee();return R_(a,Qt.memoizedState,i,s)},useTransition:function(){var i=ip(Mn)[0],s=Ee().memoizedState;return[typeof i=="boolean"?i:Wu(i),s]},useSyncExternalStore:s_,useId:L_,useHostTransitionStatus:Ey,useFormState:m_,useActionState:m_,useOptimistic:function(i,s){var a=Ee();return c_(a,Qt,i,s)},useMemoCache:gy,useCacheRefresh:k_},LC={readContext:ei,use:ep,useCallback:x_,useContext:ei,useEffect:__,useImperativeHandle:T_,useInsertionEffect:S_,useLayoutEffect:E_,useMemo:C_,useReducer:yy,useRef:v_,useState:function(){return yy(Mn)},useDebugValue:Ay,useDeferredValue:function(i,s){var a=Ee();return Qt===null?_y(a,i,s):R_(a,Qt.memoizedState,i,s)},useTransition:function(){var i=yy(Mn)[0],s=Ee().memoizedState;return[typeof i=="boolean"?i:Wu(i),s]},useSyncExternalStore:s_,useId:L_,useHostTransitionStatus:Ey,useFormState:b_,useActionState:b_,useOptimistic:function(i,s){var a=Ee();return Qt!==null?c_(a,Qt,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:gy,useCacheRefresh:k_},Bo=null,th=0;function lp(i){var s=th;return th+=1,Bo===null&&(Bo=[]),QA(Bo,i,s)}function eh(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function op(i,s){throw s.$$typeof===b?Error(n(525)):(i=Object.prototype.toString.call(s),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function I_(i){var s=i._init;return s(i._payload)}function U_(i){function s(H,P){if(i){var z=H.deletions;z===null?(H.deletions=[P],H.flags|=16):z.push(P)}}function a(H,P){if(!i)return null;for(;P!==null;)s(H,P),P=P.sibling;return null}function o(H){for(var P=new Map;H!==null;)H.key!==null?P.set(H.key,H):P.set(H.index,H),H=H.sibling;return P}function f(H,P){return H=wn(H,P),H.index=0,H.sibling=null,H}function y(H,P,z){return H.index=z,i?(z=H.alternate,z!==null?(z=z.index,z<P?(H.flags|=67108866,P):z):(H.flags|=67108866,P)):(H.flags|=1048576,P)}function _(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function R(H,P,z,Q){return P===null||P.tag!==6?(P=Xm(z,H.mode,Q),P.return=H,P):(P=f(P,z),P.return=H,P)}function L(H,P,z,Q){var lt=z.type;return lt===E?K(H,P,z.props.children,Q,z.key):P!==null&&(P.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===Y&&I_(lt)===P.type)?(P=f(P,z.props),eh(P,z),P.return=H,P):(P=Gf(z.type,z.key,z.props,null,H.mode,Q),eh(P,z),P.return=H,P)}function I(H,P,z,Q){return P===null||P.tag!==4||P.stateNode.containerInfo!==z.containerInfo||P.stateNode.implementation!==z.implementation?(P=Ym(z,H.mode,Q),P.return=H,P):(P=f(P,z.children||[]),P.return=H,P)}function K(H,P,z,Q,lt){return P===null||P.tag!==7?(P=Ur(z,H.mode,Q,lt),P.return=H,P):(P=f(P,z),P.return=H,P)}function W(H,P,z){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Xm(""+P,H.mode,z),P.return=H,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case v:return z=Gf(P.type,P.key,P.props,null,H.mode,z),eh(z,P),z.return=H,z;case A:return P=Ym(P,H.mode,z),P.return=H,P;case Y:var Q=P._init;return P=Q(P._payload),W(H,P,z)}if(mt(P)||ft(P))return P=Ur(P,H.mode,z,null),P.return=H,P;if(typeof P.then=="function")return W(H,lp(P),z);if(P.$$typeof===D)return W(H,Kf(H,P),z);op(H,P)}return null}function B(H,P,z,Q){var lt=P!==null?P.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return lt!==null?null:R(H,P,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case v:return z.key===lt?L(H,P,z,Q):null;case A:return z.key===lt?I(H,P,z,Q):null;case Y:return lt=z._init,z=lt(z._payload),B(H,P,z,Q)}if(mt(z)||ft(z))return lt!==null?null:K(H,P,z,Q,null);if(typeof z.then=="function")return B(H,P,lp(z),Q);if(z.$$typeof===D)return B(H,P,Kf(H,z),Q);op(H,z)}return null}function j(H,P,z,Q,lt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return H=H.get(z)||null,R(P,H,""+Q,lt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:return H=H.get(Q.key===null?z:Q.key)||null,L(P,H,Q,lt);case A:return H=H.get(Q.key===null?z:Q.key)||null,I(P,H,Q,lt);case Y:var Ot=Q._init;return Q=Ot(Q._payload),j(H,P,z,Q,lt)}if(mt(Q)||ft(Q))return H=H.get(z)||null,K(P,H,Q,lt,null);if(typeof Q.then=="function")return j(H,P,z,lp(Q),lt);if(Q.$$typeof===D)return j(H,P,z,Kf(P,Q),lt);op(P,Q)}return null}function yt(H,P,z,Q){for(var lt=null,Ot=null,ht=P,gt=P=0,Ie=null;ht!==null&&gt<z.length;gt++){ht.index>gt?(Ie=ht,ht=null):Ie=ht.sibling;var It=B(H,ht,z[gt],Q);if(It===null){ht===null&&(ht=Ie);break}i&&ht&&It.alternate===null&&s(H,ht),P=y(It,P,gt),Ot===null?lt=It:Ot.sibling=It,Ot=It,ht=Ie}if(gt===z.length)return a(H,ht),Ut&&qr(H,gt),lt;if(ht===null){for(;gt<z.length;gt++)ht=W(H,z[gt],Q),ht!==null&&(P=y(ht,P,gt),Ot===null?lt=ht:Ot.sibling=ht,Ot=ht);return Ut&&qr(H,gt),lt}for(ht=o(ht);gt<z.length;gt++)Ie=j(ht,H,gt,z[gt],Q),Ie!==null&&(i&&Ie.alternate!==null&&ht.delete(Ie.key===null?gt:Ie.key),P=y(Ie,P,gt),Ot===null?lt=Ie:Ot.sibling=Ie,Ot=Ie);return i&&ht.forEach(function(Ya){return s(H,Ya)}),Ut&&qr(H,gt),lt}function pt(H,P,z,Q){if(z==null)throw Error(n(151));for(var lt=null,Ot=null,ht=P,gt=P=0,Ie=null,It=z.next();ht!==null&&!It.done;gt++,It=z.next()){ht.index>gt?(Ie=ht,ht=null):Ie=ht.sibling;var Ya=B(H,ht,It.value,Q);if(Ya===null){ht===null&&(ht=Ie);break}i&&ht&&Ya.alternate===null&&s(H,ht),P=y(Ya,P,gt),Ot===null?lt=Ya:Ot.sibling=Ya,Ot=Ya,ht=Ie}if(It.done)return a(H,ht),Ut&&qr(H,gt),lt;if(ht===null){for(;!It.done;gt++,It=z.next())It=W(H,It.value,Q),It!==null&&(P=y(It,P,gt),Ot===null?lt=It:Ot.sibling=It,Ot=It);return Ut&&qr(H,gt),lt}for(ht=o(ht);!It.done;gt++,It=z.next())It=j(ht,H,gt,It.value,Q),It!==null&&(i&&It.alternate!==null&&ht.delete(It.key===null?gt:It.key),P=y(It,P,gt),Ot===null?lt=It:Ot.sibling=It,Ot=It);return i&&ht.forEach(function(kR){return s(H,kR)}),Ut&&qr(H,gt),lt}function Wt(H,P,z,Q){if(typeof z=="object"&&z!==null&&z.type===E&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case v:t:{for(var lt=z.key;P!==null;){if(P.key===lt){if(lt=z.type,lt===E){if(P.tag===7){a(H,P.sibling),Q=f(P,z.props.children),Q.return=H,H=Q;break t}}else if(P.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===Y&&I_(lt)===P.type){a(H,P.sibling),Q=f(P,z.props),eh(Q,z),Q.return=H,H=Q;break t}a(H,P);break}else s(H,P);P=P.sibling}z.type===E?(Q=Ur(z.props.children,H.mode,Q,z.key),Q.return=H,H=Q):(Q=Gf(z.type,z.key,z.props,null,H.mode,Q),eh(Q,z),Q.return=H,H=Q)}return _(H);case A:t:{for(lt=z.key;P!==null;){if(P.key===lt)if(P.tag===4&&P.stateNode.containerInfo===z.containerInfo&&P.stateNode.implementation===z.implementation){a(H,P.sibling),Q=f(P,z.children||[]),Q.return=H,H=Q;break t}else{a(H,P);break}else s(H,P);P=P.sibling}Q=Ym(z,H.mode,Q),Q.return=H,H=Q}return _(H);case Y:return lt=z._init,z=lt(z._payload),Wt(H,P,z,Q)}if(mt(z))return yt(H,P,z,Q);if(ft(z)){if(lt=ft(z),typeof lt!="function")throw Error(n(150));return z=lt.call(z),pt(H,P,z,Q)}if(typeof z.then=="function")return Wt(H,P,lp(z),Q);if(z.$$typeof===D)return Wt(H,P,Kf(H,z),Q);op(H,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,P!==null&&P.tag===6?(a(H,P.sibling),Q=f(P,z),Q.return=H,H=Q):(a(H,P),Q=Xm(z,H.mode,Q),Q.return=H,H=Q),_(H)):a(H,P)}return function(H,P,z,Q){try{th=0;var lt=Wt(H,P,z,Q);return Bo=null,lt}catch(ht){if(ht===Xu||ht===$f)throw ht;var Ot=Hi(29,ht,null,H.mode);return Ot.lanes=Q,Ot.return=H,Ot}finally{}}}var qo=U_(!0),B_=U_(!1),os=$(null),Ks=null;function Oa(i){var s=i.alternate;tt(Re,Re.current&1),tt(os,i),Ks===null&&(s===null||Ho.current!==null||s.memoizedState!==null)&&(Ks=i)}function q_(i){if(i.tag===22){if(tt(Re,Re.current),tt(os,i),Ks===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Ks=i)}}else La()}function La(){tt(Re,Re.current),tt(os,os.current)}function Dn(i){et(os),Ks===i&&(Ks=null),et(Re)}var Re=$(0);function cp(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||p0(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Ty(i,s,a,o){s=i.memoizedState,a=a(o,s),a=a==null?s:m({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var xy={enqueueSetState:function(i,s,a){i=i._reactInternals;var o=Bi(),f=Ra(o);f.payload=s,a!=null&&(f.callback=a),s=Ma(i,f,o),s!==null&&(qi(s,i,o),Vu(s,i,o))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var o=Bi(),f=Ra(o);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Ma(i,f,o),s!==null&&(qi(s,i,o),Vu(s,i,o))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=Bi(),o=Ra(a);o.tag=2,s!=null&&(o.callback=s),s=Ma(i,o,a),s!==null&&(qi(s,i,a),Vu(s,i,a))}};function j_(i,s,a,o,f,y,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(o,y,_):s.prototype&&s.prototype.isPureReactComponent?!Hu(a,o)||!Hu(f,y):!0}function G_(i,s,a,o){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,o),s.state!==i&&xy.enqueueReplaceState(s,s.state,null)}function Qr(i,s){var a=s;if("ref"in s){a={};for(var o in s)o!=="ref"&&(a[o]=s[o])}if(i=i.defaultProps){a===s&&(a=m({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}var up=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function X_(i){up(i)}function Y_(i){console.error(i)}function V_(i){up(i)}function hp(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(o){setTimeout(function(){throw o})}}function K_(i,s,a){try{var o=i.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Cy(i,s,a){return a=Ra(a),a.tag=3,a.payload={element:null},a.callback=function(){hp(i,s)},a}function Q_(i){return i=Ra(i),i.tag=3,i}function $_(i,s,a,o){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var y=o.value;i.payload=function(){return f(y)},i.callback=function(){K_(s,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){K_(s,a,o),typeof f!="function"&&(za===null?za=new Set([this]):za.add(this));var R=o.stack;this.componentDidCatch(o.value,{componentStack:R!==null?R:""})})}function kC(i,s,a,o,f){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(s=a.alternate,s!==null&&qu(s,a,f,!0),a=os.current,a!==null){switch(a.tag){case 13:return Ks===null?Wy():a.alternate===null&&ge===0&&(ge=3),a.flags&=-257,a.flags|=65536,a.lanes=f,o===iy?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([o]):s.add(o),Jy(i,o,f)),!1;case 22:return a.flags|=65536,o===iy?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([o]):a.add(o)),Jy(i,o,f)),!1}throw Error(n(435,a.tag))}return Jy(i,o,f),Wy(),!1}if(Ut)return s=os.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,o!==Qm&&(i=Error(n(422),{cause:o}),Bu(ns(i,a)))):(o!==Qm&&(s=Error(n(423),{cause:o}),Bu(ns(s,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,o=ns(o,a),f=Cy(i.stateNode,o,f),ay(i,f),ge!==4&&(ge=2)),!1;var y=Error(n(520),{cause:o});if(y=ns(y,a),oh===null?oh=[y]:oh.push(y),ge!==4&&(ge=2),s===null)return!0;o=ns(o,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=Cy(a.stateNode,o,i),ay(a,i),!1;case 1:if(s=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(za===null||!za.has(y))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Q_(f),$_(f,i,a,o),ay(a,f),!1}a=a.return}while(a!==null);return!1}var W_=Error(n(461)),He=!1;function Ye(i,s,a,o){s.child=i===null?B_(s,null,a,o):qo(s,i.child,a,o)}function Z_(i,s,a,o,f){a=a.render;var y=s.ref;if("ref"in o){var _={};for(var R in o)R!=="ref"&&(_[R]=o[R])}else _=o;return Yr(s),o=uy(i,s,a,_,y,f),R=hy(),i!==null&&!He?(dy(i,s,f),On(i,s,f)):(Ut&&R&&Vm(s),s.flags|=1,Ye(i,s,o,f),s.child)}function J_(i,s,a,o,f){if(i===null){var y=a.type;return typeof y=="function"&&!Gm(y)&&y.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=y,tS(i,s,y,o,f)):(i=Gf(a.type,null,o,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!Py(i,f)){var _=y.memoizedProps;if(a=a.compare,a=a!==null?a:Hu,a(_,o)&&i.ref===s.ref)return On(i,s,f)}return s.flags|=1,i=wn(y,o),i.ref=s.ref,i.return=s,s.child=i}function tS(i,s,a,o,f){if(i!==null){var y=i.memoizedProps;if(Hu(y,o)&&i.ref===s.ref)if(He=!1,s.pendingProps=o=y,Py(i,f))(i.flags&131072)!==0&&(He=!0);else return s.lanes=i.lanes,On(i,s,f)}return Ry(i,s,a,o,f)}function eS(i,s,a){var o=s.pendingProps,f=o.children,y=i!==null?i.memoizedState:null;if(o.mode==="hidden"){if((s.flags&128)!==0){if(o=y!==null?y.baseLanes|a:a,i!==null){for(f=s.child=i.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;s.childLanes=y&~o}else s.childLanes=0,s.child=null;return iS(i,s,o,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Qf(s,y!==null?y.cachePool:null),y!==null?t_(s,y):ly(),q_(s);else return s.lanes=s.childLanes=536870912,iS(i,s,y!==null?y.baseLanes|a:a,a)}else y!==null?(Qf(s,y.cachePool),t_(s,y),La(),s.memoizedState=null):(i!==null&&Qf(s,null),ly(),La());return Ye(i,s,f,a),s.child}function iS(i,s,a,o){var f=ey();return f=f===null?null:{parent:Ce._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},i!==null&&Qf(s,null),ly(),q_(s),i!==null&&qu(i,s,o,!0),null}function dp(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(n(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function Ry(i,s,a,o,f){return Yr(s),a=uy(i,s,a,o,void 0,f),o=hy(),i!==null&&!He?(dy(i,s,f),On(i,s,f)):(Ut&&o&&Vm(s),s.flags|=1,Ye(i,s,a,f),s.child)}function sS(i,s,a,o,f,y){return Yr(s),s.updateQueue=null,a=i_(s,o,a,f),e_(i),o=hy(),i!==null&&!He?(dy(i,s,y),On(i,s,y)):(Ut&&o&&Vm(s),s.flags|=1,Ye(i,s,a,y),s.child)}function nS(i,s,a,o,f){if(Yr(s),s.stateNode===null){var y=Lo,_=a.contextType;typeof _=="object"&&_!==null&&(y=ei(_)),y=new a(o,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=xy,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=o,y.state=s.memoizedState,y.refs={},sy(s),_=a.contextType,y.context=typeof _=="object"&&_!==null?ei(_):Lo,y.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Ty(s,a,_,o),y.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&xy.enqueueReplaceState(y,y.state,null),Qu(s,o,y,f),Ku(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),o=!0}else if(i===null){y=s.stateNode;var R=s.memoizedProps,L=Qr(a,R);y.props=L;var I=y.context,K=a.contextType;_=Lo,typeof K=="object"&&K!==null&&(_=ei(K));var W=a.getDerivedStateFromProps;K=typeof W=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,K||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||I!==_)&&G_(s,y,o,_),Ca=!1;var B=s.memoizedState;y.state=B,Qu(s,o,y,f),Ku(),I=s.memoizedState,R||B!==I||Ca?(typeof W=="function"&&(Ty(s,a,W,o),I=s.memoizedState),(L=Ca||j_(s,a,L,o,B,I,_))?(K||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=I),y.props=o,y.state=I,y.context=_,o=L):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{y=s.stateNode,ny(i,s),_=s.memoizedProps,K=Qr(a,_),y.props=K,W=s.pendingProps,B=y.context,I=a.contextType,L=Lo,typeof I=="object"&&I!==null&&(L=ei(I)),R=a.getDerivedStateFromProps,(I=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==W||B!==L)&&G_(s,y,o,L),Ca=!1,B=s.memoizedState,y.state=B,Qu(s,o,y,f),Ku();var j=s.memoizedState;_!==W||B!==j||Ca||i!==null&&i.dependencies!==null&&Vf(i.dependencies)?(typeof R=="function"&&(Ty(s,a,R,o),j=s.memoizedState),(K=Ca||j_(s,a,K,o,B,j,L)||i!==null&&i.dependencies!==null&&Vf(i.dependencies))?(I||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(o,j,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(o,j,L)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===i.memoizedProps&&B===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&B===i.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=j),y.props=o,y.state=j,y.context=L,o=K):(typeof y.componentDidUpdate!="function"||_===i.memoizedProps&&B===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&B===i.memoizedState||(s.flags|=1024),o=!1)}return y=o,dp(i,s),o=(s.flags&128)!==0,y||o?(y=s.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&o?(s.child=qo(s,i.child,null,f),s.child=qo(s,null,a,f)):Ye(i,s,a,f),s.memoizedState=y.state,i=s.child):i=On(i,s,f),i}function aS(i,s,a,o){return Uu(),s.flags|=256,Ye(i,s,a,o),s.child}var My={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dy(i){return{baseLanes:i,cachePool:YA()}}function Oy(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=cs),i}function rS(i,s,a){var o=s.pendingProps,f=!1,y=(s.flags&128)!==0,_;if((_=y)||(_=i!==null&&i.memoizedState===null?!1:(Re.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ut){if(f?Oa(s):La(),Ut){var R=pe,L;if(L=R){t:{for(L=R,R=Vs;L.nodeType!==8;){if(!R){R=null;break t}if(L=ws(L.nextSibling),L===null){R=null;break t}}R=L}R!==null?(s.memoizedState={dehydrated:R,treeContext:Br!==null?{id:Tn,overflow:xn}:null,retryLane:536870912,hydrationErrors:null},L=Hi(18,null,null,0),L.stateNode=R,L.return=s,s.child=L,di=s,pe=null,L=!0):L=!1}L||Gr(s)}if(R=s.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return p0(R)?s.lanes=32:s.lanes=536870912,null;Dn(s)}return R=o.children,o=o.fallback,f?(La(),f=s.mode,R=fp({mode:"hidden",children:R},f),o=Ur(o,f,a,null),R.return=s,o.return=s,R.sibling=o,s.child=R,f=s.child,f.memoizedState=Dy(a),f.childLanes=Oy(i,_,a),s.memoizedState=My,o):(Oa(s),Ly(s,R))}if(L=i.memoizedState,L!==null&&(R=L.dehydrated,R!==null)){if(y)s.flags&256?(Oa(s),s.flags&=-257,s=ky(i,s,a)):s.memoizedState!==null?(La(),s.child=i.child,s.flags|=128,s=null):(La(),f=o.fallback,R=s.mode,o=fp({mode:"visible",children:o.children},R),f=Ur(f,R,a,null),f.flags|=2,o.return=s,f.return=s,o.sibling=f,s.child=o,qo(s,i.child,null,a),o=s.child,o.memoizedState=Dy(a),o.childLanes=Oy(i,_,a),s.memoizedState=My,s=f);else if(Oa(s),p0(R)){if(_=R.nextSibling&&R.nextSibling.dataset,_)var I=_.dgst;_=I,o=Error(n(419)),o.stack="",o.digest=_,Bu({value:o,source:null,stack:null}),s=ky(i,s,a)}else if(He||qu(i,s,a,!1),_=(a&i.childLanes)!==0,He||_){if(_=ie,_!==null&&(o=a&-a,o=(o&42)!==0?1:gm(o),o=(o&(_.suspendedLanes|a))!==0?0:o,o!==0&&o!==L.retryLane))throw L.retryLane=o,Oo(i,o),qi(_,i,o),W_;R.data==="$?"||Wy(),s=ky(i,s,a)}else R.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=L.treeContext,pe=ws(R.nextSibling),di=s,Ut=!0,jr=null,Vs=!1,i!==null&&(rs[ls++]=Tn,rs[ls++]=xn,rs[ls++]=Br,Tn=i.id,xn=i.overflow,Br=s),s=Ly(s,o.children),s.flags|=4096);return s}return f?(La(),f=o.fallback,R=s.mode,L=i.child,I=L.sibling,o=wn(L,{mode:"hidden",children:o.children}),o.subtreeFlags=L.subtreeFlags&65011712,I!==null?f=wn(I,f):(f=Ur(f,R,a,null),f.flags|=2),f.return=s,o.return=s,o.sibling=f,s.child=o,o=f,f=s.child,R=i.child.memoizedState,R===null?R=Dy(a):(L=R.cachePool,L!==null?(I=Ce._currentValue,L=L.parent!==I?{parent:I,pool:I}:L):L=YA(),R={baseLanes:R.baseLanes|a,cachePool:L}),f.memoizedState=R,f.childLanes=Oy(i,_,a),s.memoizedState=My,o):(Oa(s),a=i.child,i=a.sibling,a=wn(a,{mode:"visible",children:o.children}),a.return=s,a.sibling=null,i!==null&&(_=s.deletions,_===null?(s.deletions=[i],s.flags|=16):_.push(i)),s.child=a,s.memoizedState=null,a)}function Ly(i,s){return s=fp({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function fp(i,s){return i=Hi(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function ky(i,s,a){return qo(s,i.child,null,a),i=Ly(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function lS(i,s,a){i.lanes|=s;var o=i.alternate;o!==null&&(o.lanes|=s),Wm(i.return,s,a)}function Ny(i,s,a,o,f){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:f}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=f)}function oS(i,s,a){var o=s.pendingProps,f=o.revealOrder,y=o.tail;if(Ye(i,s,o.children,a),o=Re.current,(o&2)!==0)o=o&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&lS(i,a,s);else if(i.tag===19)lS(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}o&=1}switch(tt(Re,o),f){case"forwards":for(a=s.child,f=null;a!==null;)i=a.alternate,i!==null&&cp(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Ny(s,!1,f,a,y);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&cp(i)===null){s.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}Ny(s,!0,a,null,y);break;case"together":Ny(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function On(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),Ha|=s.lanes,(a&s.childLanes)===0)if(i!==null){if(qu(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(n(153));if(s.child!==null){for(i=s.child,a=wn(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=wn(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function Py(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Vf(i)))}function NC(i,s,a){switch(s.tag){case 3:qt(s,s.stateNode.containerInfo),xa(s,Ce,i.memoizedState.cache),Uu();break;case 27:case 5:wu(s);break;case 4:qt(s,s.stateNode.containerInfo);break;case 10:xa(s,s.type,s.memoizedProps.value);break;case 13:var o=s.memoizedState;if(o!==null)return o.dehydrated!==null?(Oa(s),s.flags|=128,null):(a&s.child.childLanes)!==0?rS(i,s,a):(Oa(s),i=On(i,s,a),i!==null?i.sibling:null);Oa(s);break;case 19:var f=(i.flags&128)!==0;if(o=(a&s.childLanes)!==0,o||(qu(i,s,a,!1),o=(a&s.childLanes)!==0),f){if(o)return oS(i,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),tt(Re,Re.current),o)break;return null;case 22:case 23:return s.lanes=0,eS(i,s,a);case 24:xa(s,Ce,i.memoizedState.cache)}return On(i,s,a)}function cS(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)He=!0;else{if(!Py(i,a)&&(s.flags&128)===0)return He=!1,NC(i,s,a);He=(i.flags&131072)!==0}else He=!1,Ut&&(s.flags&1048576)!==0&&IA(s,Yf,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var o=s.elementType,f=o._init;if(o=f(o._payload),s.type=o,typeof o=="function")Gm(o)?(i=Qr(o,i),s.tag=1,s=nS(null,s,o,i,a)):(s.tag=0,s=Ry(null,s,o,i,a));else{if(o!=null){if(f=o.$$typeof,f===k){s.tag=11,s=Z_(null,s,o,i,a);break t}else if(f===X){s.tag=14,s=J_(null,s,o,i,a);break t}}throw s=xt(o)||o,Error(n(306,s,""))}}return s;case 0:return Ry(i,s,s.type,s.pendingProps,a);case 1:return o=s.type,f=Qr(o,s.pendingProps),nS(i,s,o,f,a);case 3:t:{if(qt(s,s.stateNode.containerInfo),i===null)throw Error(n(387));o=s.pendingProps;var y=s.memoizedState;f=y.element,ny(i,s),Qu(s,o,null,a);var _=s.memoizedState;if(o=_.cache,xa(s,Ce,o),o!==y.cache&&Zm(s,[Ce],a,!0),Ku(),o=_.element,y.isDehydrated)if(y={element:o,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=aS(i,s,o,a);break t}else if(o!==f){f=ns(Error(n(424)),s),Bu(f),s=aS(i,s,o,a);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(pe=ws(i.firstChild),di=s,Ut=!0,jr=null,Vs=!0,a=B_(s,null,o,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Uu(),o===f){s=On(i,s,a);break t}Ye(i,s,o,a)}s=s.child}return s;case 26:return dp(i,s),i===null?(a=f1(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ut||(a=s.type,i=s.pendingProps,o=Cp(ot.current).createElement(a),o[ti]=s,o[Si]=i,Ke(o,a,i),Fe(o),s.stateNode=o):s.memoizedState=f1(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return wu(s),i===null&&Ut&&(o=s.stateNode=u1(s.type,s.pendingProps,ot.current),di=s,Vs=!0,f=pe,Ba(s.type)?(g0=f,pe=ws(o.firstChild)):pe=f),Ye(i,s,s.pendingProps.children,a),dp(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ut&&((f=o=pe)&&(o=oR(o,s.type,s.pendingProps,Vs),o!==null?(s.stateNode=o,di=s,pe=ws(o.firstChild),Vs=!1,f=!0):f=!1),f||Gr(s)),wu(s),f=s.type,y=s.pendingProps,_=i!==null?i.memoizedProps:null,o=y.children,h0(f,y)?o=null:_!==null&&h0(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=uy(i,s,xC,null,null,a),yh._currentValue=f),dp(i,s),Ye(i,s,o,a),s.child;case 6:return i===null&&Ut&&((i=a=pe)&&(a=cR(a,s.pendingProps,Vs),a!==null?(s.stateNode=a,di=s,pe=null,i=!0):i=!1),i||Gr(s)),null;case 13:return rS(i,s,a);case 4:return qt(s,s.stateNode.containerInfo),o=s.pendingProps,i===null?s.child=qo(s,null,o,a):Ye(i,s,o,a),s.child;case 11:return Z_(i,s,s.type,s.pendingProps,a);case 7:return Ye(i,s,s.pendingProps,a),s.child;case 8:return Ye(i,s,s.pendingProps.children,a),s.child;case 12:return Ye(i,s,s.pendingProps.children,a),s.child;case 10:return o=s.pendingProps,xa(s,s.type,o.value),Ye(i,s,o.children,a),s.child;case 9:return f=s.type._context,o=s.pendingProps.children,Yr(s),f=ei(f),o=o(f),s.flags|=1,Ye(i,s,o,a),s.child;case 14:return J_(i,s,s.type,s.pendingProps,a);case 15:return tS(i,s,s.type,s.pendingProps,a);case 19:return oS(i,s,a);case 31:return o=s.pendingProps,a=s.mode,o={mode:o.mode,children:o.children},i===null?(a=fp(o,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=wn(i.child,o),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return eS(i,s,a);case 24:return Yr(s),o=ei(Ce),i===null?(f=ey(),f===null&&(f=ie,y=Jm(),f.pooledCache=y,y.refCount++,y!==null&&(f.pooledCacheLanes|=a),f=y),s.memoizedState={parent:o,cache:f},sy(s),xa(s,Ce,f)):((i.lanes&a)!==0&&(ny(i,s),Qu(s,null,null,a),Ku()),f=i.memoizedState,y=s.memoizedState,f.parent!==o?(f={parent:o,cache:o},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),xa(s,Ce,o)):(o=y.cache,xa(s,Ce,o),o!==f.cache&&Zm(s,[Ce],a,!0))),Ye(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function Ln(i){i.flags|=4}function uS(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!b1(s)){if(s=os.current,s!==null&&((zt&4194048)===zt?Ks!==null:(zt&62914560)!==zt&&(zt&536870912)===0||s!==Ks))throw Yu=iy,VA;i.flags|=8192}}function pp(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?qv():536870912,i.lanes|=s,Yo|=s)}function ih(i,s){if(!Ut)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:o.sibling=null}}function ce(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,o=0;if(s)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=o,i.childLanes=a,s}function PC(i,s,a){var o=s.pendingProps;switch(Km(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(s),null;case 1:return ce(s),null;case 3:return a=s.stateNode,o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Rn(Ce),es(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Iu(s)?Ln(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,qA())),ce(s),null;case 26:return a=s.memoizedState,i===null?(Ln(s),a!==null?(ce(s),uS(s,a)):(ce(s),s.flags&=-16777217)):a?a!==i.memoizedState?(Ln(s),ce(s),uS(s,a)):(ce(s),s.flags&=-16777217):(i.memoizedProps!==o&&Ln(s),ce(s),s.flags&=-16777217),null;case 27:Tf(s),a=ot.current;var f=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==o&&Ln(s);else{if(!o){if(s.stateNode===null)throw Error(n(166));return ce(s),null}i=ct.current,Iu(s)?UA(s):(i=u1(f,o,a),s.stateNode=i,Ln(s))}return ce(s),null;case 5:if(Tf(s),a=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==o&&Ln(s);else{if(!o){if(s.stateNode===null)throw Error(n(166));return ce(s),null}if(i=ct.current,Iu(s))UA(s);else{switch(f=Cp(ot.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?i.multiple=!0:o.size&&(i.size=o.size);break;default:i=typeof o.is=="string"?f.createElement(a,{is:o.is}):f.createElement(a)}}i[ti]=s,i[Si]=o;t:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break t;for(;f.sibling===null;){if(f.return===null||f.return===s)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=i;t:switch(Ke(i,a,o),a){case"button":case"input":case"select":case"textarea":i=!!o.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Ln(s)}}return ce(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==o&&Ln(s);else{if(typeof o!="string"&&s.stateNode===null)throw Error(n(166));if(i=ot.current,Iu(s)){if(i=s.stateNode,a=s.memoizedProps,o=null,f=di,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}i[ti]=s,i=!!(i.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||s1(i.nodeValue,a)),i||Gr(s)}else i=Cp(i).createTextNode(o),i[ti]=s,s.stateNode=i}return ce(s),null;case 13:if(o=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Iu(s),o!==null&&o.dehydrated!==null){if(i===null){if(!f)throw Error(n(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[ti]=s}else Uu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ce(s),f=!1}else f=qA(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Dn(s),s):(Dn(s),null)}if(Dn(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=o!==null,i=i!==null&&i.memoizedState!==null,a){o=s.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var y=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(y=o.memoizedState.cachePool.pool),y!==f&&(o.flags|=2048)}return a!==i&&a&&(s.child.flags|=8192),pp(s,s.updateQueue),ce(s),null;case 4:return es(),i===null&&r0(s.stateNode.containerInfo),ce(s),null;case 10:return Rn(s.type),ce(s),null;case 19:if(et(Re),f=s.memoizedState,f===null)return ce(s),null;if(o=(s.flags&128)!==0,y=f.rendering,y===null)if(o)ih(f,!1);else{if(ge!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=cp(i),y!==null){for(s.flags|=128,ih(f,!1),i=y.updateQueue,s.updateQueue=i,pp(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)zA(a,i),a=a.sibling;return tt(Re,Re.current&1|2),s.child}i=i.sibling}f.tail!==null&&Ys()>yp&&(s.flags|=128,o=!0,ih(f,!1),s.lanes=4194304)}else{if(!o)if(i=cp(y),i!==null){if(s.flags|=128,o=!0,i=i.updateQueue,s.updateQueue=i,pp(s,i),ih(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!Ut)return ce(s),null}else 2*Ys()-f.renderingStartTime>yp&&a!==536870912&&(s.flags|=128,o=!0,ih(f,!1),s.lanes=4194304);f.isBackwards?(y.sibling=s.child,s.child=y):(i=f.last,i!==null?i.sibling=y:s.child=y,f.last=y)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Ys(),s.sibling=null,i=Re.current,tt(Re,o?i&1|2:i&1),s):(ce(s),null);case 22:case 23:return Dn(s),oy(),o=s.memoizedState!==null,i!==null?i.memoizedState!==null!==o&&(s.flags|=8192):o&&(s.flags|=8192),o?(a&536870912)!==0&&(s.flags&128)===0&&(ce(s),s.subtreeFlags&6&&(s.flags|=8192)):ce(s),a=s.updateQueue,a!==null&&pp(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==a&&(s.flags|=2048),i!==null&&et(Vr),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Rn(Ce),ce(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function FC(i,s){switch(Km(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Rn(Ce),es(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Tf(s),null;case 13:if(Dn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Uu()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return et(Re),null;case 4:return es(),null;case 10:return Rn(s.type),null;case 22:case 23:return Dn(s),oy(),i!==null&&et(Vr),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Rn(Ce),null;case 25:return null;default:return null}}function hS(i,s){switch(Km(s),s.tag){case 3:Rn(Ce),es();break;case 26:case 27:case 5:Tf(s);break;case 4:es();break;case 13:Dn(s);break;case 19:et(Re);break;case 10:Rn(s.type);break;case 22:case 23:Dn(s),oy(),i!==null&&et(Vr);break;case 24:Rn(Ce)}}function sh(i,s){try{var a=s.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&i)===i){o=void 0;var y=a.create,_=a.inst;o=y(),_.destroy=o}a=a.next}while(a!==f)}}catch(R){te(s,s.return,R)}}function ka(i,s,a){try{var o=s.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var y=f.next;o=y;do{if((o.tag&i)===i){var _=o.inst,R=_.destroy;if(R!==void 0){_.destroy=void 0,f=s;var L=a,I=R;try{I()}catch(K){te(f,L,K)}}}o=o.next}while(o!==y)}}catch(K){te(s,s.return,K)}}function dS(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{JA(s,a)}catch(o){te(i,i.return,o)}}}function fS(i,s,a){a.props=Qr(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(o){te(i,s,o)}}function nh(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var o=i.stateNode;break;case 30:o=i.stateNode;break;default:o=i.stateNode}typeof a=="function"?i.refCleanup=a(o):a.current=o}}catch(f){te(i,s,f)}}function Qs(i,s){var a=i.ref,o=i.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(f){te(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){te(i,s,f)}else a.current=null}function pS(i){var s=i.type,a=i.memoizedProps,o=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(f){te(i,i.return,f)}}function Fy(i,s,a){try{var o=i.stateNode;sR(o,i.type,a,s),o[Si]=s}catch(f){te(i,i.return,f)}}function gS(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ba(i.type)||i.tag===4}function Hy(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||gS(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ba(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function zy(i,s,a){var o=i.tag;if(o===5||o===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=xp));else if(o!==4&&(o===27&&Ba(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for(zy(i,s,a),i=i.sibling;i!==null;)zy(i,s,a),i=i.sibling}function gp(i,s,a){var o=i.tag;if(o===5||o===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(o!==4&&(o===27&&Ba(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(gp(i,s,a),i=i.sibling;i!==null;)gp(i,s,a),i=i.sibling}function mS(i){var s=i.stateNode,a=i.memoizedProps;try{for(var o=i.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Ke(s,o,a),s[ti]=i,s[Si]=a}catch(y){te(i,i.return,y)}}var kn=!1,ve=!1,Iy=!1,yS=typeof WeakSet=="function"?WeakSet:Set,ze=null;function HC(i,s){if(i=i.containerInfo,c0=kp,i=RA(i),Hm(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var f=o.anchorOffset,y=o.focusNode;o=o.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break t}var _=0,R=-1,L=-1,I=0,K=0,W=i,B=null;e:for(;;){for(var j;W!==a||f!==0&&W.nodeType!==3||(R=_+f),W!==y||o!==0&&W.nodeType!==3||(L=_+o),W.nodeType===3&&(_+=W.nodeValue.length),(j=W.firstChild)!==null;)B=W,W=j;for(;;){if(W===i)break e;if(B===a&&++I===f&&(R=_),B===y&&++K===o&&(L=_),(j=W.nextSibling)!==null)break;W=B,B=W.parentNode}W=j}a=R===-1||L===-1?null:{start:R,end:L}}else a=null}a=a||{start:0,end:0}}else a=null;for(u0={focusedElem:i,selectionRange:a},kp=!1,ze=s;ze!==null;)if(s=ze,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,ze=i;else for(;ze!==null;){switch(s=ze,y=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,a=s,f=y.memoizedProps,y=y.memoizedState,o=a.stateNode;try{var yt=Qr(a.type,f,a.elementType===a.type);i=o.getSnapshotBeforeUpdate(yt,y),o.__reactInternalSnapshotBeforeUpdate=i}catch(pt){te(a,a.return,pt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)f0(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":f0(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=s.sibling,i!==null){i.return=s.return,ze=i;break}ze=s.return}}function bS(i,s,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Na(i,a),o&4&&sh(5,a);break;case 1:if(Na(i,a),o&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(_){te(a,a.return,_)}else{var f=Qr(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(_){te(a,a.return,_)}}o&64&&dS(a),o&512&&nh(a,a.return);break;case 3:if(Na(i,a),o&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{JA(i,s)}catch(_){te(a,a.return,_)}}break;case 27:s===null&&o&4&&mS(a);case 26:case 5:Na(i,a),s===null&&o&4&&pS(a),o&512&&nh(a,a.return);break;case 12:Na(i,a);break;case 13:Na(i,a),o&4&&_S(i,a),o&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=YC.bind(null,a),uR(i,a))));break;case 22:if(o=a.memoizedState!==null||kn,!o){s=s!==null&&s.memoizedState!==null||ve,f=kn;var y=ve;kn=o,(ve=s)&&!y?Pa(i,a,(a.subtreeFlags&8772)!==0):Na(i,a),kn=f,ve=y}break;case 30:break;default:Na(i,a)}}function vS(i){var s=i.alternate;s!==null&&(i.alternate=null,vS(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&bm(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var re=null,Ti=!1;function Nn(i,s,a){for(a=a.child;a!==null;)AS(i,s,a),a=a.sibling}function AS(i,s,a){if(Ni&&typeof Ni.onCommitFiberUnmount=="function")try{Ni.onCommitFiberUnmount(Tu,a)}catch{}switch(a.tag){case 26:ve||Qs(a,s),Nn(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ve||Qs(a,s);var o=re,f=Ti;Ba(a.type)&&(re=a.stateNode,Ti=!1),Nn(i,s,a),fh(a.stateNode),re=o,Ti=f;break;case 5:ve||Qs(a,s);case 6:if(o=re,f=Ti,re=null,Nn(i,s,a),re=o,Ti=f,re!==null)if(Ti)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(y){te(a,s,y)}else try{re.removeChild(a.stateNode)}catch(y){te(a,s,y)}break;case 18:re!==null&&(Ti?(i=re,o1(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),_h(i)):o1(re,a.stateNode));break;case 4:o=re,f=Ti,re=a.stateNode.containerInfo,Ti=!0,Nn(i,s,a),re=o,Ti=f;break;case 0:case 11:case 14:case 15:ve||ka(2,a,s),ve||ka(4,a,s),Nn(i,s,a);break;case 1:ve||(Qs(a,s),o=a.stateNode,typeof o.componentWillUnmount=="function"&&fS(a,s,o)),Nn(i,s,a);break;case 21:Nn(i,s,a);break;case 22:ve=(o=ve)||a.memoizedState!==null,Nn(i,s,a),ve=o;break;default:Nn(i,s,a)}}function _S(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{_h(i)}catch(a){te(s,s.return,a)}}function zC(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new yS),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new yS),s;default:throw Error(n(435,i.tag))}}function Uy(i,s){var a=zC(i);s.forEach(function(o){var f=VC.bind(null,i,o);a.has(o)||(a.add(o),o.then(f,f))})}function zi(i,s){var a=s.deletions;if(a!==null)for(var o=0;o<a.length;o++){var f=a[o],y=i,_=s,R=_;t:for(;R!==null;){switch(R.tag){case 27:if(Ba(R.type)){re=R.stateNode,Ti=!1;break t}break;case 5:re=R.stateNode,Ti=!1;break t;case 3:case 4:re=R.stateNode.containerInfo,Ti=!0;break t}R=R.return}if(re===null)throw Error(n(160));AS(y,_,f),re=null,Ti=!1,y=f.alternate,y!==null&&(y.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)SS(s,i),s=s.sibling}var Es=null;function SS(i,s){var a=i.alternate,o=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:zi(s,i),Ii(i),o&4&&(ka(3,i,i.return),sh(3,i),ka(5,i,i.return));break;case 1:zi(s,i),Ii(i),o&512&&(ve||a===null||Qs(a,a.return)),o&64&&kn&&(i=i.updateQueue,i!==null&&(o=i.callbacks,o!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var f=Es;if(zi(s,i),Ii(i),o&512&&(ve||a===null||Qs(a,a.return)),o&4){var y=a!==null?a.memoizedState:null;if(o=i.memoizedState,a===null)if(o===null)if(i.stateNode===null){t:{o=i.type,a=i.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":y=f.getElementsByTagName("title")[0],(!y||y[Ru]||y[ti]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=f.createElement(o),f.head.insertBefore(y,f.querySelector("head > title"))),Ke(y,o,a),y[ti]=i,Fe(y),o=y;break t;case"link":var _=m1("link","href",f).get(o+(a.href||""));if(_){for(var R=0;R<_.length;R++)if(y=_[R],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(R,1);break e}}y=f.createElement(o),Ke(y,o,a),f.head.appendChild(y);break;case"meta":if(_=m1("meta","content",f).get(o+(a.content||""))){for(R=0;R<_.length;R++)if(y=_[R],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(R,1);break e}}y=f.createElement(o),Ke(y,o,a),f.head.appendChild(y);break;default:throw Error(n(468,o))}y[ti]=i,Fe(y),o=y}i.stateNode=o}else y1(f,i.type,i.stateNode);else i.stateNode=g1(f,o,i.memoizedProps);else y!==o?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,o===null?y1(f,i.type,i.stateNode):g1(f,o,i.memoizedProps)):o===null&&i.stateNode!==null&&Fy(i,i.memoizedProps,a.memoizedProps)}break;case 27:zi(s,i),Ii(i),o&512&&(ve||a===null||Qs(a,a.return)),a!==null&&o&4&&Fy(i,i.memoizedProps,a.memoizedProps);break;case 5:if(zi(s,i),Ii(i),o&512&&(ve||a===null||Qs(a,a.return)),i.flags&32){f=i.stateNode;try{wo(f,"")}catch(j){te(i,i.return,j)}}o&4&&i.stateNode!=null&&(f=i.memoizedProps,Fy(i,f,a!==null?a.memoizedProps:f)),o&1024&&(Iy=!0);break;case 6:if(zi(s,i),Ii(i),o&4){if(i.stateNode===null)throw Error(n(162));o=i.memoizedProps,a=i.stateNode;try{a.nodeValue=o}catch(j){te(i,i.return,j)}}break;case 3:if(Dp=null,f=Es,Es=Rp(s.containerInfo),zi(s,i),Es=f,Ii(i),o&4&&a!==null&&a.memoizedState.isDehydrated)try{_h(s.containerInfo)}catch(j){te(i,i.return,j)}Iy&&(Iy=!1,ES(i));break;case 4:o=Es,Es=Rp(i.stateNode.containerInfo),zi(s,i),Ii(i),Es=o;break;case 12:zi(s,i),Ii(i);break;case 13:zi(s,i),Ii(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Yy=Ys()),o&4&&(o=i.updateQueue,o!==null&&(i.updateQueue=null,Uy(i,o)));break;case 22:f=i.memoizedState!==null;var L=a!==null&&a.memoizedState!==null,I=kn,K=ve;if(kn=I||f,ve=K||L,zi(s,i),ve=K,kn=I,Ii(i),o&8192)t:for(s=i.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||L||kn||ve||$r(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){L=a=s;try{if(y=L.stateNode,f)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{R=L.stateNode;var W=L.memoizedProps.style,B=W!=null&&W.hasOwnProperty("display")?W.display:null;R.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(j){te(L,L.return,j)}}}else if(s.tag===6){if(a===null){L=s;try{L.stateNode.nodeValue=f?"":L.memoizedProps}catch(j){te(L,L.return,j)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}o&4&&(o=i.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Uy(i,a))));break;case 19:zi(s,i),Ii(i),o&4&&(o=i.updateQueue,o!==null&&(i.updateQueue=null,Uy(i,o)));break;case 30:break;case 21:break;default:zi(s,i),Ii(i)}}function Ii(i){var s=i.flags;if(s&2){try{for(var a,o=i.return;o!==null;){if(gS(o)){a=o;break}o=o.return}if(a==null)throw Error(n(160));switch(a.tag){case 27:var f=a.stateNode,y=Hy(i);gp(i,y,f);break;case 5:var _=a.stateNode;a.flags&32&&(wo(_,""),a.flags&=-33);var R=Hy(i);gp(i,R,_);break;case 3:case 4:var L=a.stateNode.containerInfo,I=Hy(i);zy(i,I,L);break;default:throw Error(n(161))}}catch(K){te(i,i.return,K)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function ES(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;ES(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Na(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)bS(i,s.alternate,s),s=s.sibling}function $r(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ka(4,s,s.return),$r(s);break;case 1:Qs(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&fS(s,s.return,a),$r(s);break;case 27:fh(s.stateNode);case 26:case 5:Qs(s,s.return),$r(s);break;case 22:s.memoizedState===null&&$r(s);break;case 30:$r(s);break;default:$r(s)}i=i.sibling}}function Pa(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var o=s.alternate,f=i,y=s,_=y.flags;switch(y.tag){case 0:case 11:case 15:Pa(f,y,a),sh(4,y);break;case 1:if(Pa(f,y,a),o=y,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(I){te(o,o.return,I)}if(o=y,f=o.updateQueue,f!==null){var R=o.stateNode;try{var L=f.shared.hiddenCallbacks;if(L!==null)for(f.shared.hiddenCallbacks=null,f=0;f<L.length;f++)ZA(L[f],R)}catch(I){te(o,o.return,I)}}a&&_&64&&dS(y),nh(y,y.return);break;case 27:mS(y);case 26:case 5:Pa(f,y,a),a&&o===null&&_&4&&pS(y),nh(y,y.return);break;case 12:Pa(f,y,a);break;case 13:Pa(f,y,a),a&&_&4&&_S(f,y);break;case 22:y.memoizedState===null&&Pa(f,y,a),nh(y,y.return);break;case 30:break;default:Pa(f,y,a)}s=s.sibling}}function By(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&ju(a))}function qy(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ju(i))}function $s(i,s,a,o){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)wS(i,s,a,o),s=s.sibling}function wS(i,s,a,o){var f=s.flags;switch(s.tag){case 0:case 11:case 15:$s(i,s,a,o),f&2048&&sh(9,s);break;case 1:$s(i,s,a,o);break;case 3:$s(i,s,a,o),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ju(i)));break;case 12:if(f&2048){$s(i,s,a,o),i=s.stateNode;try{var y=s.memoizedProps,_=y.id,R=y.onPostCommit;typeof R=="function"&&R(_,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(L){te(s,s.return,L)}}else $s(i,s,a,o);break;case 13:$s(i,s,a,o);break;case 23:break;case 22:y=s.stateNode,_=s.alternate,s.memoizedState!==null?y._visibility&2?$s(i,s,a,o):ah(i,s):y._visibility&2?$s(i,s,a,o):(y._visibility|=2,jo(i,s,a,o,(s.subtreeFlags&10256)!==0)),f&2048&&By(_,s);break;case 24:$s(i,s,a,o),f&2048&&qy(s.alternate,s);break;default:$s(i,s,a,o)}}function jo(i,s,a,o,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=i,_=s,R=a,L=o,I=_.flags;switch(_.tag){case 0:case 11:case 15:jo(y,_,R,L,f),sh(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?jo(y,_,R,L,f):ah(y,_):(K._visibility|=2,jo(y,_,R,L,f)),f&&I&2048&&By(_.alternate,_);break;case 24:jo(y,_,R,L,f),f&&I&2048&&qy(_.alternate,_);break;default:jo(y,_,R,L,f)}s=s.sibling}}function ah(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,o=s,f=o.flags;switch(o.tag){case 22:ah(a,o),f&2048&&By(o.alternate,o);break;case 24:ah(a,o),f&2048&&qy(o.alternate,o);break;default:ah(a,o)}s=s.sibling}}var rh=8192;function Go(i){if(i.subtreeFlags&rh)for(i=i.child;i!==null;)TS(i),i=i.sibling}function TS(i){switch(i.tag){case 26:Go(i),i.flags&rh&&i.memoizedState!==null&&ER(Es,i.memoizedState,i.memoizedProps);break;case 5:Go(i);break;case 3:case 4:var s=Es;Es=Rp(i.stateNode.containerInfo),Go(i),Es=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=rh,rh=16777216,Go(i),rh=s):Go(i));break;default:Go(i)}}function xS(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function lh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];ze=o,RS(o,i)}xS(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)CS(i),i=i.sibling}function CS(i){switch(i.tag){case 0:case 11:case 15:lh(i),i.flags&2048&&ka(9,i,i.return);break;case 3:lh(i);break;case 12:lh(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,mp(i)):lh(i);break;default:lh(i)}}function mp(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];ze=o,RS(o,i)}xS(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ka(8,s,s.return),mp(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,mp(s));break;default:mp(s)}i=i.sibling}}function RS(i,s){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:ka(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ju(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,ze=o;else t:for(a=i;ze!==null;){o=ze;var f=o.sibling,y=o.return;if(vS(o),o===a){ze=null;break t}if(f!==null){f.return=y,ze=f;break t}ze=y}}}var IC={getCacheForType:function(i){var s=ei(Ce),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a}},UC=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ie=null,kt=null,zt=0,Xt=0,Ui=null,Fa=!1,Xo=!1,jy=!1,Pn=0,ge=0,Ha=0,Wr=0,Gy=0,cs=0,Yo=0,oh=null,xi=null,Xy=!1,Yy=0,yp=1/0,bp=null,za=null,Ve=0,Ia=null,Vo=null,Ko=0,Vy=0,Ky=null,MS=null,ch=0,Qy=null;function Bi(){if((Gt&2)!==0&&zt!==0)return zt&-zt;if(q.T!==null){var i=Po;return i!==0?i:i0()}return Xv()}function DS(){cs===0&&(cs=(zt&536870912)===0||Ut?Bv():536870912);var i=os.current;return i!==null&&(i.flags|=32),cs}function qi(i,s,a){(i===ie&&(Xt===2||Xt===9)||i.cancelPendingCommit!==null)&&(Qo(i,0),Ua(i,zt,cs,!1)),Cu(i,a),((Gt&2)===0||i!==ie)&&(i===ie&&((Gt&2)===0&&(Wr|=a),ge===4&&Ua(i,zt,cs,!1)),Ws(i))}function OS(i,s,a){if((Gt&6)!==0)throw Error(n(327));var o=!a&&(s&124)===0&&(s&i.expiredLanes)===0||xu(i,s),f=o?jC(i,s):Zy(i,s,!0),y=o;do{if(f===0){Xo&&!o&&Ua(i,s,0,!1);break}else{if(a=i.current.alternate,y&&!BC(a)){f=Zy(i,s,!1),y=!1;continue}if(f===2){if(y=s,i.errorRecoveryDisabledLanes&y)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;t:{var R=i;f=oh;var L=R.current.memoizedState.isDehydrated;if(L&&(Qo(R,_).flags|=256),_=Zy(R,_,!1),_!==2){if(jy&&!L){R.errorRecoveryDisabledLanes|=y,Wr|=y,f=4;break t}y=xi,xi=f,y!==null&&(xi===null?xi=y:xi.push.apply(xi,y))}f=_}if(y=!1,f!==2)continue}}if(f===1){Qo(i,0),Ua(i,s,0,!0);break}t:{switch(o=i,y=f,y){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:Ua(o,s,cs,!Fa);break t;case 2:xi=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(f=Yy+300-Ys(),10<f)){if(Ua(o,s,cs,!Fa),Mf(o,0,!0)!==0)break t;o.timeoutHandle=r1(LS.bind(null,o,a,xi,bp,Xy,s,cs,Wr,Yo,Fa,y,2,-0,0),f);break t}LS(o,a,xi,bp,Xy,s,cs,Wr,Yo,Fa,y,0,-0,0)}}break}while(!0);Ws(i)}function LS(i,s,a,o,f,y,_,R,L,I,K,W,B,j){if(i.timeoutHandle=-1,W=s.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(mh={stylesheets:null,count:0,unsuspend:SR},TS(s),W=wR(),W!==null)){i.cancelPendingCommit=W(IS.bind(null,i,s,y,a,o,f,_,R,L,K,1,B,j)),Ua(i,y,_,!I);return}IS(i,s,y,a,o,f,_,R,L)}function BC(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var f=a[o],y=f.getSnapshot;f=f.value;try{if(!Fi(y(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ua(i,s,a,o){s&=~Gy,s&=~Wr,i.suspendedLanes|=s,i.pingedLanes&=~s,o&&(i.warmLanes|=s),o=i.expirationTimes;for(var f=s;0<f;){var y=31-Pi(f),_=1<<y;o[y]=-1,f&=~_}a!==0&&jv(i,a,s)}function vp(){return(Gt&6)===0?(uh(0),!1):!0}function $y(){if(kt!==null){if(Xt===0)var i=kt.return;else i=kt,Cn=Xr=null,fy(i),Bo=null,th=0,i=kt;for(;i!==null;)hS(i.alternate,i),i=i.return;kt=null}}function Qo(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,aR(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),$y(),ie=i,kt=a=wn(i.current,null),zt=s,Xt=0,Ui=null,Fa=!1,Xo=xu(i,s),jy=!1,Yo=cs=Gy=Wr=Ha=ge=0,xi=oh=null,Xy=!1,(s&8)!==0&&(s|=s&32);var o=i.entangledLanes;if(o!==0)for(i=i.entanglements,o&=s;0<o;){var f=31-Pi(o),y=1<<f;s|=i[f],o&=~y}return Pn=s,Bf(),a}function kS(i,s){Ct=null,q.H=rp,s===Xu||s===$f?(s=$A(),Xt=3):s===VA?(s=$A(),Xt=4):Xt=s===W_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ui=s,kt===null&&(ge=1,hp(i,ns(s,i.current)))}function NS(){var i=q.H;return q.H=rp,i===null?rp:i}function PS(){var i=q.A;return q.A=IC,i}function Wy(){ge=4,Fa||(zt&4194048)!==zt&&os.current!==null||(Xo=!0),(Ha&134217727)===0&&(Wr&134217727)===0||ie===null||Ua(ie,zt,cs,!1)}function Zy(i,s,a){var o=Gt;Gt|=2;var f=NS(),y=PS();(ie!==i||zt!==s)&&(bp=null,Qo(i,s)),s=!1;var _=ge;t:do try{if(Xt!==0&&kt!==null){var R=kt,L=Ui;switch(Xt){case 8:$y(),_=6;break t;case 3:case 2:case 9:case 6:os.current===null&&(s=!0);var I=Xt;if(Xt=0,Ui=null,$o(i,R,L,I),a&&Xo){_=0;break t}break;default:I=Xt,Xt=0,Ui=null,$o(i,R,L,I)}}qC(),_=ge;break}catch(K){kS(i,K)}while(!0);return s&&i.shellSuspendCounter++,Cn=Xr=null,Gt=o,q.H=f,q.A=y,kt===null&&(ie=null,zt=0,Bf()),_}function qC(){for(;kt!==null;)FS(kt)}function jC(i,s){var a=Gt;Gt|=2;var o=NS(),f=PS();ie!==i||zt!==s?(bp=null,yp=Ys()+500,Qo(i,s)):Xo=xu(i,s);t:do try{if(Xt!==0&&kt!==null){s=kt;var y=Ui;e:switch(Xt){case 1:Xt=0,Ui=null,$o(i,s,y,1);break;case 2:case 9:if(KA(y)){Xt=0,Ui=null,HS(s);break}s=function(){Xt!==2&&Xt!==9||ie!==i||(Xt=7),Ws(i)},y.then(s,s);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:KA(y)?(Xt=0,Ui=null,HS(s)):(Xt=0,Ui=null,$o(i,s,y,7));break;case 5:var _=null;switch(kt.tag){case 26:_=kt.memoizedState;case 5:case 27:var R=kt;if(!_||b1(_)){Xt=0,Ui=null;var L=R.sibling;if(L!==null)kt=L;else{var I=R.return;I!==null?(kt=I,Ap(I)):kt=null}break e}}Xt=0,Ui=null,$o(i,s,y,5);break;case 6:Xt=0,Ui=null,$o(i,s,y,6);break;case 8:$y(),ge=6;break t;default:throw Error(n(462))}}GC();break}catch(K){kS(i,K)}while(!0);return Cn=Xr=null,q.H=o,q.A=f,Gt=a,kt!==null?0:(ie=null,zt=0,Bf(),ge)}function GC(){for(;kt!==null&&!dx();)FS(kt)}function FS(i){var s=cS(i.alternate,i,Pn);i.memoizedProps=i.pendingProps,s===null?Ap(i):kt=s}function HS(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=sS(a,s,s.pendingProps,s.type,void 0,zt);break;case 11:s=sS(a,s,s.pendingProps,s.type.render,s.ref,zt);break;case 5:fy(s);default:hS(a,s),s=kt=zA(s,Pn),s=cS(a,s,Pn)}i.memoizedProps=i.pendingProps,s===null?Ap(i):kt=s}function $o(i,s,a,o){Cn=Xr=null,fy(s),Bo=null,th=0;var f=s.return;try{if(kC(i,f,s,a,zt)){ge=1,hp(i,ns(a,i.current)),kt=null;return}}catch(y){if(f!==null)throw kt=f,y;ge=1,hp(i,ns(a,i.current)),kt=null;return}s.flags&32768?(Ut||o===1?i=!0:Xo||(zt&536870912)!==0?i=!1:(Fa=i=!0,(o===2||o===9||o===3||o===6)&&(o=os.current,o!==null&&o.tag===13&&(o.flags|=16384))),zS(s,i)):Ap(s)}function Ap(i){var s=i;do{if((s.flags&32768)!==0){zS(s,Fa);return}i=s.return;var a=PC(s.alternate,s,Pn);if(a!==null){kt=a;return}if(s=s.sibling,s!==null){kt=s;return}kt=s=i}while(s!==null);ge===0&&(ge=5)}function zS(i,s){do{var a=FC(i.alternate,i);if(a!==null){a.flags&=32767,kt=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){kt=i;return}kt=i=a}while(i!==null);ge=6,kt=null}function IS(i,s,a,o,f,y,_,R,L){i.cancelPendingCommit=null;do _p();while(Ve!==0);if((Gt&6)!==0)throw Error(n(327));if(s!==null){if(s===i.current)throw Error(n(177));if(y=s.lanes|s.childLanes,y|=qm,Sx(i,a,y,_,R,L),i===ie&&(kt=ie=null,zt=0),Vo=s,Ia=i,Ko=a,Vy=y,Ky=f,MS=o,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,KC(xf,function(){return GS(),null})):(i.callbackNode=null,i.callbackPriority=0),o=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,f=V.p,V.p=2,_=Gt,Gt|=4;try{HC(i,s,a)}finally{Gt=_,V.p=f,q.T=o}}Ve=1,US(),BS(),qS()}}function US(){if(Ve===1){Ve=0;var i=Ia,s=Vo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var o=V.p;V.p=2;var f=Gt;Gt|=4;try{SS(s,i);var y=u0,_=RA(i.containerInfo),R=y.focusedElem,L=y.selectionRange;if(_!==R&&R&&R.ownerDocument&&CA(R.ownerDocument.documentElement,R)){if(L!==null&&Hm(R)){var I=L.start,K=L.end;if(K===void 0&&(K=I),"selectionStart"in R)R.selectionStart=I,R.selectionEnd=Math.min(K,R.value.length);else{var W=R.ownerDocument||document,B=W&&W.defaultView||window;if(B.getSelection){var j=B.getSelection(),yt=R.textContent.length,pt=Math.min(L.start,yt),Wt=L.end===void 0?pt:Math.min(L.end,yt);!j.extend&&pt>Wt&&(_=Wt,Wt=pt,pt=_);var H=xA(R,pt),P=xA(R,Wt);if(H&&P&&(j.rangeCount!==1||j.anchorNode!==H.node||j.anchorOffset!==H.offset||j.focusNode!==P.node||j.focusOffset!==P.offset)){var z=W.createRange();z.setStart(H.node,H.offset),j.removeAllRanges(),pt>Wt?(j.addRange(z),j.extend(P.node,P.offset)):(z.setEnd(P.node,P.offset),j.addRange(z))}}}}for(W=[],j=R;j=j.parentNode;)j.nodeType===1&&W.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<W.length;R++){var Q=W[R];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}kp=!!c0,u0=c0=null}finally{Gt=f,V.p=o,q.T=a}}i.current=s,Ve=2}}function BS(){if(Ve===2){Ve=0;var i=Ia,s=Vo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var o=V.p;V.p=2;var f=Gt;Gt|=4;try{bS(i,s.alternate,s)}finally{Gt=f,V.p=o,q.T=a}}Ve=3}}function qS(){if(Ve===4||Ve===3){Ve=0,fx();var i=Ia,s=Vo,a=Ko,o=MS;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ve=5:(Ve=0,Vo=Ia=null,jS(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(za=null),mm(a),s=s.stateNode,Ni&&typeof Ni.onCommitFiberRoot=="function")try{Ni.onCommitFiberRoot(Tu,s,void 0,(s.current.flags&128)===128)}catch{}if(o!==null){s=q.T,f=V.p,V.p=2,q.T=null;try{for(var y=i.onRecoverableError,_=0;_<o.length;_++){var R=o[_];y(R.value,{componentStack:R.stack})}}finally{q.T=s,V.p=f}}(Ko&3)!==0&&_p(),Ws(i),f=i.pendingLanes,(a&4194090)!==0&&(f&42)!==0?i===Qy?ch++:(ch=0,Qy=i):ch=0,uh(0)}}function jS(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,ju(s)))}function _p(i){return US(),BS(),qS(),GS()}function GS(){if(Ve!==5)return!1;var i=Ia,s=Vy;Vy=0;var a=mm(Ko),o=q.T,f=V.p;try{V.p=32>a?32:a,q.T=null,a=Ky,Ky=null;var y=Ia,_=Ko;if(Ve=0,Vo=Ia=null,Ko=0,(Gt&6)!==0)throw Error(n(331));var R=Gt;if(Gt|=4,CS(y.current),wS(y,y.current,_,a),Gt=R,uh(0,!1),Ni&&typeof Ni.onPostCommitFiberRoot=="function")try{Ni.onPostCommitFiberRoot(Tu,y)}catch{}return!0}finally{V.p=f,q.T=o,jS(i,s)}}function XS(i,s,a){s=ns(a,s),s=Cy(i.stateNode,s,2),i=Ma(i,s,2),i!==null&&(Cu(i,2),Ws(i))}function te(i,s,a){if(i.tag===3)XS(i,i,a);else for(;s!==null;){if(s.tag===3){XS(s,i,a);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(za===null||!za.has(o))){i=ns(a,i),a=Q_(2),o=Ma(s,a,2),o!==null&&($_(a,o,s,i),Cu(o,2),Ws(o));break}}s=s.return}}function Jy(i,s,a){var o=i.pingCache;if(o===null){o=i.pingCache=new UC;var f=new Set;o.set(s,f)}else f=o.get(s),f===void 0&&(f=new Set,o.set(s,f));f.has(a)||(jy=!0,f.add(a),i=XC.bind(null,i,s,a),s.then(i,i))}function XC(i,s,a){var o=i.pingCache;o!==null&&o.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,ie===i&&(zt&a)===a&&(ge===4||ge===3&&(zt&62914560)===zt&&300>Ys()-Yy?(Gt&2)===0&&Qo(i,0):Gy|=a,Yo===zt&&(Yo=0)),Ws(i)}function YS(i,s){s===0&&(s=qv()),i=Oo(i,s),i!==null&&(Cu(i,s),Ws(i))}function YC(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),YS(i,a)}function VC(i,s){var a=0;switch(i.tag){case 13:var o=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:o=i.stateNode;break;case 22:o=i.stateNode._retryCache;break;default:throw Error(n(314))}o!==null&&o.delete(s),YS(i,a)}function KC(i,s){return dm(i,s)}var Sp=null,Wo=null,t0=!1,Ep=!1,e0=!1,Zr=0;function Ws(i){i!==Wo&&i.next===null&&(Wo===null?Sp=Wo=i:Wo=Wo.next=i),Ep=!0,t0||(t0=!0,$C())}function uh(i,s){if(!e0&&Ep){e0=!0;do for(var a=!1,o=Sp;o!==null;){if(i!==0){var f=o.pendingLanes;if(f===0)var y=0;else{var _=o.suspendedLanes,R=o.pingedLanes;y=(1<<31-Pi(42|i)+1)-1,y&=f&~(_&~R),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,$S(o,y))}else y=zt,y=Mf(o,o===ie?y:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(y&3)===0||xu(o,y)||(a=!0,$S(o,y));o=o.next}while(a);e0=!1}}function QC(){VS()}function VS(){Ep=t0=!1;var i=0;Zr!==0&&(nR()&&(i=Zr),Zr=0);for(var s=Ys(),a=null,o=Sp;o!==null;){var f=o.next,y=KS(o,s);y===0?(o.next=null,a===null?Sp=f:a.next=f,f===null&&(Wo=a)):(a=o,(i!==0||(y&3)!==0)&&(Ep=!0)),o=f}uh(i)}function KS(i,s){for(var a=i.suspendedLanes,o=i.pingedLanes,f=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var _=31-Pi(y),R=1<<_,L=f[_];L===-1?((R&a)===0||(R&o)!==0)&&(f[_]=_x(R,s)):L<=s&&(i.expiredLanes|=R),y&=~R}if(s=ie,a=zt,a=Mf(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),o=i.callbackNode,a===0||i===s&&(Xt===2||Xt===9)||i.cancelPendingCommit!==null)return o!==null&&o!==null&&fm(o),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||xu(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(o!==null&&fm(o),mm(a)){case 2:case 8:a=Iv;break;case 32:a=xf;break;case 268435456:a=Uv;break;default:a=xf}return o=QS.bind(null,i),a=dm(a,o),i.callbackPriority=s,i.callbackNode=a,s}return o!==null&&o!==null&&fm(o),i.callbackPriority=2,i.callbackNode=null,2}function QS(i,s){if(Ve!==0&&Ve!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(_p()&&i.callbackNode!==a)return null;var o=zt;return o=Mf(i,i===ie?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),o===0?null:(OS(i,o,s),KS(i,Ys()),i.callbackNode!=null&&i.callbackNode===a?QS.bind(null,i):null)}function $S(i,s){if(_p())return null;OS(i,s,!0)}function $C(){rR(function(){(Gt&6)!==0?dm(zv,QC):VS()})}function i0(){return Zr===0&&(Zr=Bv()),Zr}function WS(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Nf(""+i)}function ZS(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function WC(i,s,a,o,f){if(s==="submit"&&a&&a.stateNode===f){var y=WS((f[Si]||null).action),_=o.submitter;_&&(s=(s=_[Si]||null)?WS(s.formAction):_.getAttribute("formAction"),s!==null&&(y=s,_=null));var R=new zf("action","action",null,o,f);i.push({event:R,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Zr!==0){var L=_?ZS(f,_):new FormData(f);Sy(a,{pending:!0,data:L,method:f.method,action:y},null,L)}}else typeof y=="function"&&(R.preventDefault(),L=_?ZS(f,_):new FormData(f),Sy(a,{pending:!0,data:L,method:f.method,action:y},y,L))},currentTarget:f}]})}}for(var s0=0;s0<Bm.length;s0++){var n0=Bm[s0],ZC=n0.toLowerCase(),JC=n0[0].toUpperCase()+n0.slice(1);Ss(ZC,"on"+JC)}Ss(OA,"onAnimationEnd"),Ss(LA,"onAnimationIteration"),Ss(kA,"onAnimationStart"),Ss("dblclick","onDoubleClick"),Ss("focusin","onFocus"),Ss("focusout","onBlur"),Ss(mC,"onTransitionRun"),Ss(yC,"onTransitionStart"),Ss(bC,"onTransitionCancel"),Ss(NA,"onTransitionEnd"),_o("onMouseEnter",["mouseout","mouseover"]),_o("onMouseLeave",["mouseout","mouseover"]),_o("onPointerEnter",["pointerout","pointerover"]),_o("onPointerLeave",["pointerout","pointerover"]),Fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hh));function JS(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var o=i[a],f=o.event;o=o.listeners;t:{var y=void 0;if(s)for(var _=o.length-1;0<=_;_--){var R=o[_],L=R.instance,I=R.currentTarget;if(R=R.listener,L!==y&&f.isPropagationStopped())break t;y=R,f.currentTarget=I;try{y(f)}catch(K){up(K)}f.currentTarget=null,y=L}else for(_=0;_<o.length;_++){if(R=o[_],L=R.instance,I=R.currentTarget,R=R.listener,L!==y&&f.isPropagationStopped())break t;y=R,f.currentTarget=I;try{y(f)}catch(K){up(K)}f.currentTarget=null,y=L}}}}function Nt(i,s){var a=s[ym];a===void 0&&(a=s[ym]=new Set);var o=i+"__bubble";a.has(o)||(t1(s,i,2,!1),a.add(o))}function a0(i,s,a){var o=0;s&&(o|=4),t1(a,i,o,s)}var wp="_reactListening"+Math.random().toString(36).slice(2);function r0(i){if(!i[wp]){i[wp]=!0,Vv.forEach(function(a){a!=="selectionchange"&&(tR.has(a)||a0(a,!1,i),a0(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[wp]||(s[wp]=!0,a0("selectionchange",!1,s))}}function t1(i,s,a,o){switch(w1(s)){case 2:var f=CR;break;case 8:f=RR;break;default:f=A0}a=f.bind(null,s,a,i),f=void 0,!Rm||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),o?f!==void 0?i.addEventListener(s,a,{capture:!0,passive:f}):i.addEventListener(s,a,!0):f!==void 0?i.addEventListener(s,a,{passive:f}):i.addEventListener(s,a,!1)}function l0(i,s,a,o,f){var y=o;if((s&1)===0&&(s&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var R=o.stateNode.containerInfo;if(R===f)break;if(_===4)for(_=o.return;_!==null;){var L=_.tag;if((L===3||L===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;R!==null;){if(_=bo(R),_===null)return;if(L=_.tag,L===5||L===6||L===26||L===27){o=y=_;continue t}R=R.parentNode}}o=o.return}lA(function(){var I=y,K=xm(a),W=[];t:{var B=PA.get(i);if(B!==void 0){var j=zf,yt=i;switch(i){case"keypress":if(Ff(a)===0)break t;case"keydown":case"keyup":j=Kx;break;case"focusin":yt="focus",j=Lm;break;case"focusout":yt="blur",j=Lm;break;case"beforeblur":case"afterblur":j=Lm;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=uA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Fx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Wx;break;case OA:case LA:case kA:j=Ix;break;case NA:j=Jx;break;case"scroll":case"scrollend":j=Nx;break;case"wheel":j=eC;break;case"copy":case"cut":case"paste":j=Bx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=dA;break;case"toggle":case"beforetoggle":j=sC}var pt=(s&4)!==0,Wt=!pt&&(i==="scroll"||i==="scrollend"),H=pt?B!==null?B+"Capture":null:B;pt=[];for(var P=I,z;P!==null;){var Q=P;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||H===null||(Q=Du(P,H),Q!=null&&pt.push(dh(P,Q,z))),Wt)break;P=P.return}0<pt.length&&(B=new j(B,yt,null,a,K),W.push({event:B,listeners:pt}))}}if((s&7)===0){t:{if(B=i==="mouseover"||i==="pointerover",j=i==="mouseout"||i==="pointerout",B&&a!==Tm&&(yt=a.relatedTarget||a.fromElement)&&(bo(yt)||yt[yo]))break t;if((j||B)&&(B=K.window===K?K:(B=K.ownerDocument)?B.defaultView||B.parentWindow:window,j?(yt=a.relatedTarget||a.toElement,j=I,yt=yt?bo(yt):null,yt!==null&&(Wt=l(yt),pt=yt.tag,yt!==Wt||pt!==5&&pt!==27&&pt!==6)&&(yt=null)):(j=null,yt=I),j!==yt)){if(pt=uA,Q="onMouseLeave",H="onMouseEnter",P="mouse",(i==="pointerout"||i==="pointerover")&&(pt=dA,Q="onPointerLeave",H="onPointerEnter",P="pointer"),Wt=j==null?B:Mu(j),z=yt==null?B:Mu(yt),B=new pt(Q,P+"leave",j,a,K),B.target=Wt,B.relatedTarget=z,Q=null,bo(K)===I&&(pt=new pt(H,P+"enter",yt,a,K),pt.target=z,pt.relatedTarget=Wt,Q=pt),Wt=Q,j&&yt)e:{for(pt=j,H=yt,P=0,z=pt;z;z=Zo(z))P++;for(z=0,Q=H;Q;Q=Zo(Q))z++;for(;0<P-z;)pt=Zo(pt),P--;for(;0<z-P;)H=Zo(H),z--;for(;P--;){if(pt===H||H!==null&&pt===H.alternate)break e;pt=Zo(pt),H=Zo(H)}pt=null}else pt=null;j!==null&&e1(W,B,j,pt,!1),yt!==null&&Wt!==null&&e1(W,Wt,yt,pt,!0)}}t:{if(B=I?Mu(I):window,j=B.nodeName&&B.nodeName.toLowerCase(),j==="select"||j==="input"&&B.type==="file")var lt=AA;else if(bA(B))if(_A)lt=fC;else{lt=hC;var Ot=uC}else j=B.nodeName,!j||j.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?I&&wm(I.elementType)&&(lt=AA):lt=dC;if(lt&&(lt=lt(i,I))){vA(W,lt,a,K);break t}Ot&&Ot(i,B,I),i==="focusout"&&I&&B.type==="number"&&I.memoizedProps.value!=null&&Em(B,"number",B.value)}switch(Ot=I?Mu(I):window,i){case"focusin":(bA(Ot)||Ot.contentEditable==="true")&&(Ro=Ot,zm=I,zu=null);break;case"focusout":zu=zm=Ro=null;break;case"mousedown":Im=!0;break;case"contextmenu":case"mouseup":case"dragend":Im=!1,MA(W,a,K);break;case"selectionchange":if(gC)break;case"keydown":case"keyup":MA(W,a,K)}var ht;if(Nm)t:{switch(i){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else Co?mA(i,a)&&(gt="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(gt="onCompositionStart");gt&&(fA&&a.locale!=="ko"&&(Co||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Co&&(ht=oA()):(Ta=K,Mm="value"in Ta?Ta.value:Ta.textContent,Co=!0)),Ot=Tp(I,gt),0<Ot.length&&(gt=new hA(gt,i,null,a,K),W.push({event:gt,listeners:Ot}),ht?gt.data=ht:(ht=yA(a),ht!==null&&(gt.data=ht)))),(ht=aC?rC(i,a):lC(i,a))&&(gt=Tp(I,"onBeforeInput"),0<gt.length&&(Ot=new hA("onBeforeInput","beforeinput",null,a,K),W.push({event:Ot,listeners:gt}),Ot.data=ht)),WC(W,i,I,a,K)}JS(W,s)})}function dh(i,s,a){return{instance:i,listener:s,currentTarget:a}}function Tp(i,s){for(var a=s+"Capture",o=[];i!==null;){var f=i,y=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||y===null||(f=Du(i,a),f!=null&&o.unshift(dh(i,f,y)),f=Du(i,s),f!=null&&o.push(dh(i,f,y))),i.tag===3)return o;i=i.return}return[]}function Zo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function e1(i,s,a,o,f){for(var y=s._reactName,_=[];a!==null&&a!==o;){var R=a,L=R.alternate,I=R.stateNode;if(R=R.tag,L!==null&&L===o)break;R!==5&&R!==26&&R!==27||I===null||(L=I,f?(I=Du(a,y),I!=null&&_.unshift(dh(a,I,L))):f||(I=Du(a,y),I!=null&&_.push(dh(a,I,L)))),a=a.return}_.length!==0&&i.push({event:s,listeners:_})}var eR=/\r\n?/g,iR=/\u0000|\uFFFD/g;function i1(i){return(typeof i=="string"?i:""+i).replace(eR,`
`).replace(iR,"")}function s1(i,s){return s=i1(s),i1(i)===s}function xp(){}function $t(i,s,a,o,f,y){switch(a){case"children":typeof o=="string"?s==="body"||s==="textarea"&&o===""||wo(i,o):(typeof o=="number"||typeof o=="bigint")&&s!=="body"&&wo(i,""+o);break;case"className":Of(i,"class",o);break;case"tabIndex":Of(i,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Of(i,a,o);break;case"style":aA(i,o,y);break;case"data":if(s!=="object"){Of(i,"data",o);break}case"src":case"href":if(o===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){i.removeAttribute(a);break}o=Nf(""+o),i.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(s!=="input"&&$t(i,s,"name",f.name,f,null),$t(i,s,"formEncType",f.formEncType,f,null),$t(i,s,"formMethod",f.formMethod,f,null),$t(i,s,"formTarget",f.formTarget,f,null)):($t(i,s,"encType",f.encType,f,null),$t(i,s,"method",f.method,f,null),$t(i,s,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){i.removeAttribute(a);break}o=Nf(""+o),i.setAttribute(a,o);break;case"onClick":o!=null&&(i.onclick=xp);break;case"onScroll":o!=null&&Nt("scroll",i);break;case"onScrollEnd":o!=null&&Nt("scrollend",i);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(n(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(n(60));i.innerHTML=a}}break;case"multiple":i.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":i.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){i.removeAttribute("xlink:href");break}a=Nf(""+o),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?i.setAttribute(a,""+o):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":o===!0?i.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?i.setAttribute(a,o):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?i.setAttribute(a,o):i.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?i.removeAttribute(a):i.setAttribute(a,o);break;case"popover":Nt("beforetoggle",i),Nt("toggle",i),Df(i,"popover",o);break;case"xlinkActuate":Sn(i,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Sn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Sn(i,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Sn(i,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Sn(i,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Sn(i,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Sn(i,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Sn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Sn(i,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Df(i,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Lx.get(a)||a,Df(i,a,o))}}function o0(i,s,a,o,f,y){switch(a){case"style":aA(i,o,y);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(n(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(n(60));i.innerHTML=a}}break;case"children":typeof o=="string"?wo(i,o):(typeof o=="number"||typeof o=="bigint")&&wo(i,""+o);break;case"onScroll":o!=null&&Nt("scroll",i);break;case"onScrollEnd":o!=null&&Nt("scrollend",i);break;case"onClick":o!=null&&(i.onclick=xp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kv.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),y=i[Si]||null,y=y!=null?y[a]:null,typeof y=="function"&&i.removeEventListener(s,y,f),typeof o=="function")){typeof y!="function"&&y!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,o,f);break t}a in i?i[a]=o:o===!0?i.setAttribute(a,""):Df(i,a,o)}}}function Ke(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",i),Nt("load",i);var o=!1,f=!1,y;for(y in a)if(a.hasOwnProperty(y)){var _=a[y];if(_!=null)switch(y){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:$t(i,s,y,_,a,null)}}f&&$t(i,s,"srcSet",a.srcSet,a,null),o&&$t(i,s,"src",a.src,a,null);return;case"input":Nt("invalid",i);var R=y=_=f=null,L=null,I=null;for(o in a)if(a.hasOwnProperty(o)){var K=a[o];if(K!=null)switch(o){case"name":f=K;break;case"type":_=K;break;case"checked":L=K;break;case"defaultChecked":I=K;break;case"value":y=K;break;case"defaultValue":R=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(n(137,s));break;default:$t(i,s,o,K,a,null)}}eA(i,y,R,L,I,_,f,!1),Lf(i);return;case"select":Nt("invalid",i),o=_=y=null;for(f in a)if(a.hasOwnProperty(f)&&(R=a[f],R!=null))switch(f){case"value":y=R;break;case"defaultValue":_=R;break;case"multiple":o=R;default:$t(i,s,f,R,a,null)}s=y,a=_,i.multiple=!!o,s!=null?Eo(i,!!o,s,!1):a!=null&&Eo(i,!!o,a,!0);return;case"textarea":Nt("invalid",i),y=f=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(R=a[_],R!=null))switch(_){case"value":o=R;break;case"defaultValue":f=R;break;case"children":y=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(n(91));break;default:$t(i,s,_,R,a,null)}sA(i,o,f,y),Lf(i);return;case"option":for(L in a)if(a.hasOwnProperty(L)&&(o=a[L],o!=null))switch(L){case"selected":i.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:$t(i,s,L,o,a,null)}return;case"dialog":Nt("beforetoggle",i),Nt("toggle",i),Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":Nt("load",i);break;case"video":case"audio":for(o=0;o<hh.length;o++)Nt(hh[o],i);break;case"image":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"embed":case"source":case"link":Nt("error",i),Nt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:$t(i,s,I,o,a,null)}return;default:if(wm(s)){for(K in a)a.hasOwnProperty(K)&&(o=a[K],o!==void 0&&o0(i,s,K,o,a,void 0));return}}for(R in a)a.hasOwnProperty(R)&&(o=a[R],o!=null&&$t(i,s,R,o,a,null))}function sR(i,s,a,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,y=null,_=null,R=null,L=null,I=null,K=null;for(j in a){var W=a[j];if(a.hasOwnProperty(j)&&W!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":L=W;default:o.hasOwnProperty(j)||$t(i,s,j,null,o,W)}}for(var B in o){var j=o[B];if(W=a[B],o.hasOwnProperty(B)&&(j!=null||W!=null))switch(B){case"type":y=j;break;case"name":f=j;break;case"checked":I=j;break;case"defaultChecked":K=j;break;case"value":_=j;break;case"defaultValue":R=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(n(137,s));break;default:j!==W&&$t(i,s,B,j,o,W)}}Sm(i,_,R,L,I,K,y,f);return;case"select":j=_=R=B=null;for(y in a)if(L=a[y],a.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":j=L;default:o.hasOwnProperty(y)||$t(i,s,y,null,o,L)}for(f in o)if(y=o[f],L=a[f],o.hasOwnProperty(f)&&(y!=null||L!=null))switch(f){case"value":B=y;break;case"defaultValue":R=y;break;case"multiple":_=y;default:y!==L&&$t(i,s,f,y,o,L)}s=R,a=_,o=j,B!=null?Eo(i,!!a,B,!1):!!o!=!!a&&(s!=null?Eo(i,!!a,s,!0):Eo(i,!!a,a?[]:"",!1));return;case"textarea":j=B=null;for(R in a)if(f=a[R],a.hasOwnProperty(R)&&f!=null&&!o.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:$t(i,s,R,null,o,f)}for(_ in o)if(f=o[_],y=a[_],o.hasOwnProperty(_)&&(f!=null||y!=null))switch(_){case"value":B=f;break;case"defaultValue":j=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(n(91));break;default:f!==y&&$t(i,s,_,f,o,y)}iA(i,B,j);return;case"option":for(var yt in a)if(B=a[yt],a.hasOwnProperty(yt)&&B!=null&&!o.hasOwnProperty(yt))switch(yt){case"selected":i.selected=!1;break;default:$t(i,s,yt,null,o,B)}for(L in o)if(B=o[L],j=a[L],o.hasOwnProperty(L)&&B!==j&&(B!=null||j!=null))switch(L){case"selected":i.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:$t(i,s,L,B,o,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)B=a[pt],a.hasOwnProperty(pt)&&B!=null&&!o.hasOwnProperty(pt)&&$t(i,s,pt,null,o,B);for(I in o)if(B=o[I],j=a[I],o.hasOwnProperty(I)&&B!==j&&(B!=null||j!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(n(137,s));break;default:$t(i,s,I,B,o,j)}return;default:if(wm(s)){for(var Wt in a)B=a[Wt],a.hasOwnProperty(Wt)&&B!==void 0&&!o.hasOwnProperty(Wt)&&o0(i,s,Wt,void 0,o,B);for(K in o)B=o[K],j=a[K],!o.hasOwnProperty(K)||B===j||B===void 0&&j===void 0||o0(i,s,K,B,o,j);return}}for(var H in a)B=a[H],a.hasOwnProperty(H)&&B!=null&&!o.hasOwnProperty(H)&&$t(i,s,H,null,o,B);for(W in o)B=o[W],j=a[W],!o.hasOwnProperty(W)||B===j||B==null&&j==null||$t(i,s,W,B,o,j)}var c0=null,u0=null;function Cp(i){return i.nodeType===9?i:i.ownerDocument}function n1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a1(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function h0(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var d0=null;function nR(){var i=window.event;return i&&i.type==="popstate"?i===d0?!1:(d0=i,!0):(d0=null,!1)}var r1=typeof setTimeout=="function"?setTimeout:void 0,aR=typeof clearTimeout=="function"?clearTimeout:void 0,l1=typeof Promise=="function"?Promise:void 0,rR=typeof queueMicrotask=="function"?queueMicrotask:typeof l1<"u"?function(i){return l1.resolve(null).then(i).catch(lR)}:r1;function lR(i){setTimeout(function(){throw i})}function Ba(i){return i==="head"}function o1(i,s){var a=s,o=0,f=0;do{var y=a.nextSibling;if(i.removeChild(a),y&&y.nodeType===8)if(a=y.data,a==="/$"){if(0<o&&8>o){a=o;var _=i.ownerDocument;if(a&1&&fh(_.documentElement),a&2&&fh(_.body),a&4)for(a=_.head,fh(a),_=a.firstChild;_;){var R=_.nextSibling,L=_.nodeName;_[Ru]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=R}}if(f===0){i.removeChild(y),_h(s);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:o=a.charCodeAt(0)-48;else o=0;a=y}while(a);_h(s)}function f0(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":f0(a),bm(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function oR(i,s,a,o){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!o&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(o){if(!i[Ru])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=ws(i.nextSibling),i===null)break}return null}function cR(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=ws(i.nextSibling),i===null))return null;return i}function p0(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function uR(i,s){var a=i.ownerDocument;if(i.data!=="$?"||a.readyState==="complete")s();else{var o=function(){s(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),i._reactRetry=o}}function ws(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var g0=null;function c1(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return i;s--}else a==="/$"&&s++}i=i.previousSibling}return null}function u1(i,s,a){switch(s=Cp(a),i){case"html":if(i=s.documentElement,!i)throw Error(n(452));return i;case"head":if(i=s.head,!i)throw Error(n(453));return i;case"body":if(i=s.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function fh(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);bm(i)}var us=new Map,h1=new Set;function Rp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Fn=V.d;V.d={f:hR,r:dR,D:fR,C:pR,L:gR,m:mR,X:bR,S:yR,M:vR};function hR(){var i=Fn.f(),s=vp();return i||s}function dR(i){var s=vo(i);s!==null&&s.tag===5&&s.type==="form"?O_(s):Fn.r(i)}var Jo=typeof document>"u"?null:document;function d1(i,s,a){var o=Jo;if(o&&typeof s=="string"&&s){var f=ss(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),h1.has(f)||(h1.add(f),i={rel:i,crossOrigin:a,href:s},o.querySelector(f)===null&&(s=o.createElement("link"),Ke(s,"link",i),Fe(s),o.head.appendChild(s)))}}function fR(i){Fn.D(i),d1("dns-prefetch",i,null)}function pR(i,s){Fn.C(i,s),d1("preconnect",i,s)}function gR(i,s,a){Fn.L(i,s,a);var o=Jo;if(o&&i&&s){var f='link[rel="preload"][as="'+ss(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ss(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ss(a.imageSizes)+'"]')):f+='[href="'+ss(i)+'"]';var y=f;switch(s){case"style":y=tc(i);break;case"script":y=ec(i)}us.has(y)||(i=m({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),us.set(y,i),o.querySelector(f)!==null||s==="style"&&o.querySelector(ph(y))||s==="script"&&o.querySelector(gh(y))||(s=o.createElement("link"),Ke(s,"link",i),Fe(s),o.head.appendChild(s)))}}function mR(i,s){Fn.m(i,s);var a=Jo;if(a&&i){var o=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+ss(o)+'"][href="'+ss(i)+'"]',y=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ec(i)}if(!us.has(y)&&(i=m({rel:"modulepreload",href:i},s),us.set(y,i),a.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(gh(y)))return}o=a.createElement("link"),Ke(o,"link",i),Fe(o),a.head.appendChild(o)}}}function yR(i,s,a){Fn.S(i,s,a);var o=Jo;if(o&&i){var f=Ao(o).hoistableStyles,y=tc(i);s=s||"default";var _=f.get(y);if(!_){var R={loading:0,preload:null};if(_=o.querySelector(ph(y)))R.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":s},a),(a=us.get(y))&&m0(i,a);var L=_=o.createElement("link");Fe(L),Ke(L,"link",i),L._p=new Promise(function(I,K){L.onload=I,L.onerror=K}),L.addEventListener("load",function(){R.loading|=1}),L.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Mp(_,s,o)}_={type:"stylesheet",instance:_,count:1,state:R},f.set(y,_)}}}function bR(i,s){Fn.X(i,s);var a=Jo;if(a&&i){var o=Ao(a).hoistableScripts,f=ec(i),y=o.get(f);y||(y=a.querySelector(gh(f)),y||(i=m({src:i,async:!0},s),(s=us.get(f))&&y0(i,s),y=a.createElement("script"),Fe(y),Ke(y,"link",i),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},o.set(f,y))}}function vR(i,s){Fn.M(i,s);var a=Jo;if(a&&i){var o=Ao(a).hoistableScripts,f=ec(i),y=o.get(f);y||(y=a.querySelector(gh(f)),y||(i=m({src:i,async:!0,type:"module"},s),(s=us.get(f))&&y0(i,s),y=a.createElement("script"),Fe(y),Ke(y,"link",i),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},o.set(f,y))}}function f1(i,s,a,o){var f=(f=ot.current)?Rp(f):null;if(!f)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=tc(a.href),a=Ao(f).hoistableStyles,o=a.get(s),o||(o={type:"style",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=tc(a.href);var y=Ao(f).hoistableStyles,_=y.get(i);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,_),(y=f.querySelector(ph(i)))&&!y._p&&(_.instance=y,_.state.loading=5),us.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},us.set(i,a),y||AR(f,i,a,_.state))),s&&o===null)throw Error(n(528,""));return _}if(s&&o!==null)throw Error(n(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ec(a),a=Ao(f).hoistableScripts,o=a.get(s),o||(o={type:"script",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function tc(i){return'href="'+ss(i)+'"'}function ph(i){return'link[rel="stylesheet"]['+i+"]"}function p1(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function AR(i,s,a,o){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=i.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),Ke(s,"link",a),Fe(s),i.head.appendChild(s))}function ec(i){return'[src="'+ss(i)+'"]'}function gh(i){return"script[async]"+i}function g1(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var o=i.querySelector('style[data-href~="'+ss(a.href)+'"]');if(o)return s.instance=o,Fe(o),o;var f=m({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(i.ownerDocument||i).createElement("style"),Fe(o),Ke(o,"style",f),Mp(o,a.precedence,i),s.instance=o;case"stylesheet":f=tc(a.href);var y=i.querySelector(ph(f));if(y)return s.state.loading|=4,s.instance=y,Fe(y),y;o=p1(a),(f=us.get(f))&&m0(o,f),y=(i.ownerDocument||i).createElement("link"),Fe(y);var _=y;return _._p=new Promise(function(R,L){_.onload=R,_.onerror=L}),Ke(y,"link",o),s.state.loading|=4,Mp(y,a.precedence,i),s.instance=y;case"script":return y=ec(a.src),(f=i.querySelector(gh(y)))?(s.instance=f,Fe(f),f):(o=a,(f=us.get(y))&&(o=m({},a),y0(o,f)),i=i.ownerDocument||i,f=i.createElement("script"),Fe(f),Ke(f,"link",o),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(o=s.instance,s.state.loading|=4,Mp(o,a.precedence,i));return s.instance}function Mp(i,s,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,y=f,_=0;_<o.length;_++){var R=o[_];if(R.dataset.precedence===s)y=R;else if(y!==f)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function m0(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function y0(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Dp=null;function m1(i,s,a){if(Dp===null){var o=new Map,f=Dp=new Map;f.set(a,o)}else f=Dp,o=f.get(a),o||(o=new Map,f.set(a,o));if(o.has(i))return o;for(o.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var y=a[f];if(!(y[Ru]||y[ti]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(s)||"";_=i+_;var R=o.get(_);R?R.push(y):o.set(_,[y])}}return o}function y1(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function _R(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function b1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var mh=null;function SR(){}function ER(i,s,a){if(mh===null)throw Error(n(475));var o=mh;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=tc(a.href),y=i.querySelector(ph(f));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(o.count++,o=Op.bind(o),i.then(o,o)),s.state.loading|=4,s.instance=y,Fe(y);return}y=i.ownerDocument||i,a=p1(a),(f=us.get(f))&&m0(a,f),y=y.createElement("link"),Fe(y);var _=y;_._p=new Promise(function(R,L){_.onload=R,_.onerror=L}),Ke(y,"link",a),s.instance=y}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(o.count++,s=Op.bind(o),i.addEventListener("load",s),i.addEventListener("error",s))}}function wR(){if(mh===null)throw Error(n(475));var i=mh;return i.stylesheets&&i.count===0&&b0(i,i.stylesheets),0<i.count?function(s){var a=setTimeout(function(){if(i.stylesheets&&b0(i,i.stylesheets),i.unsuspend){var o=i.unsuspend;i.unsuspend=null,o()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(a)}}:null}function Op(){if(this.count--,this.count===0){if(this.stylesheets)b0(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Lp=null;function b0(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Lp=new Map,s.forEach(TR,i),Lp=null,Op.call(i))}function TR(i,s){if(!(s.state.loading&4)){var a=Lp.get(i);if(a)var o=a.get(null);else{a=new Map,Lp.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<f.length;y++){var _=f[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}f=s.instance,_=f.getAttribute("data-precedence"),y=a.get(_)||o,y===o&&a.set(null,f),a.set(_,f),this.count++,o=Op.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),y?y.parentNode.insertBefore(f,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var yh={$$typeof:D,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function xR(i,s,a,o,f,y,_,R){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pm(0),this.hiddenUpdates=pm(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function v1(i,s,a,o,f,y,_,R,L,I,K,W){return i=new xR(i,s,a,_,R,L,I,W),s=1,y===!0&&(s|=24),y=Hi(3,null,null,s),i.current=y,y.stateNode=i,s=Jm(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:o,isDehydrated:a,cache:s},sy(y),i}function A1(i){return i?(i=Lo,i):Lo}function _1(i,s,a,o,f,y){f=A1(f),o.context===null?o.context=f:o.pendingContext=f,o=Ra(s),o.payload={element:a},y=y===void 0?null:y,y!==null&&(o.callback=y),a=Ma(i,o,s),a!==null&&(qi(a,i,s),Vu(a,i,s))}function S1(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function v0(i,s){S1(i,s),(i=i.alternate)&&S1(i,s)}function E1(i){if(i.tag===13){var s=Oo(i,67108864);s!==null&&qi(s,i,67108864),v0(i,67108864)}}var kp=!0;function CR(i,s,a,o){var f=q.T;q.T=null;var y=V.p;try{V.p=2,A0(i,s,a,o)}finally{V.p=y,q.T=f}}function RR(i,s,a,o){var f=q.T;q.T=null;var y=V.p;try{V.p=8,A0(i,s,a,o)}finally{V.p=y,q.T=f}}function A0(i,s,a,o){if(kp){var f=_0(o);if(f===null)l0(i,s,o,Np,a),T1(i,o);else if(DR(f,i,s,a,o))o.stopPropagation();else if(T1(i,o),s&4&&-1<MR.indexOf(i)){for(;f!==null;){var y=vo(f);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=Pr(y.pendingLanes);if(_!==0){var R=y;for(R.pendingLanes|=2,R.entangledLanes|=2;_;){var L=1<<31-Pi(_);R.entanglements[1]|=L,_&=~L}Ws(y),(Gt&6)===0&&(yp=Ys()+500,uh(0))}}break;case 13:R=Oo(y,2),R!==null&&qi(R,y,2),vp(),v0(y,2)}if(y=_0(o),y===null&&l0(i,s,o,Np,a),y===f)break;f=y}f!==null&&o.stopPropagation()}else l0(i,s,o,null,a)}}function _0(i){return i=xm(i),S0(i)}var Np=null;function S0(i){if(Np=null,i=bo(i),i!==null){var s=l(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=h(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Np=i,null}function w1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(px()){case zv:return 2;case Iv:return 8;case xf:case gx:return 32;case Uv:return 268435456;default:return 32}default:return 32}}var E0=!1,qa=null,ja=null,Ga=null,bh=new Map,vh=new Map,Xa=[],MR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T1(i,s){switch(i){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":ja=null;break;case"mouseover":case"mouseout":Ga=null;break;case"pointerover":case"pointerout":bh.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":vh.delete(s.pointerId)}}function Ah(i,s,a,o,f,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:a,eventSystemFlags:o,nativeEvent:y,targetContainers:[f]},s!==null&&(s=vo(s),s!==null&&E1(s)),i):(i.eventSystemFlags|=o,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function DR(i,s,a,o,f){switch(s){case"focusin":return qa=Ah(qa,i,s,a,o,f),!0;case"dragenter":return ja=Ah(ja,i,s,a,o,f),!0;case"mouseover":return Ga=Ah(Ga,i,s,a,o,f),!0;case"pointerover":var y=f.pointerId;return bh.set(y,Ah(bh.get(y)||null,i,s,a,o,f)),!0;case"gotpointercapture":return y=f.pointerId,vh.set(y,Ah(vh.get(y)||null,i,s,a,o,f)),!0}return!1}function x1(i){var s=bo(i.target);if(s!==null){var a=l(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){i.blockedOn=s,Ex(i.priority,function(){if(a.tag===13){var o=Bi();o=gm(o);var f=Oo(a,o);f!==null&&qi(f,a,o),v0(a,o)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Pp(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=_0(i.nativeEvent);if(a===null){a=i.nativeEvent;var o=new a.constructor(a.type,a);Tm=o,a.target.dispatchEvent(o),Tm=null}else return s=vo(a),s!==null&&E1(s),i.blockedOn=a,!1;s.shift()}return!0}function C1(i,s,a){Pp(i)&&a.delete(s)}function OR(){E0=!1,qa!==null&&Pp(qa)&&(qa=null),ja!==null&&Pp(ja)&&(ja=null),Ga!==null&&Pp(Ga)&&(Ga=null),bh.forEach(C1),vh.forEach(C1)}function Fp(i,s){i.blockedOn===s&&(i.blockedOn=null,E0||(E0=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,OR)))}var Hp=null;function R1(i){Hp!==i&&(Hp=i,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){Hp===i&&(Hp=null);for(var s=0;s<i.length;s+=3){var a=i[s],o=i[s+1],f=i[s+2];if(typeof o!="function"){if(S0(o||a)===null)continue;break}var y=vo(a);y!==null&&(i.splice(s,3),s-=3,Sy(y,{pending:!0,data:f,method:a.method,action:o},o,f))}}))}function _h(i){function s(L){return Fp(L,i)}qa!==null&&Fp(qa,i),ja!==null&&Fp(ja,i),Ga!==null&&Fp(Ga,i),bh.forEach(s),vh.forEach(s);for(var a=0;a<Xa.length;a++){var o=Xa[a];o.blockedOn===i&&(o.blockedOn=null)}for(;0<Xa.length&&(a=Xa[0],a.blockedOn===null);)x1(a),a.blockedOn===null&&Xa.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var f=a[o],y=a[o+1],_=f[Si]||null;if(typeof y=="function")_||R1(a);else if(_){var R=null;if(y&&y.hasAttribute("formAction")){if(f=y,_=y[Si]||null)R=_.formAction;else if(S0(f)!==null)continue}else R=_.action;typeof R=="function"?a[o+1]=R:(a.splice(o,3),o-=3),R1(a)}}}function w0(i){this._internalRoot=i}zp.prototype.render=w0.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(n(409));var a=s.current,o=Bi();_1(a,o,i,s,null,null)},zp.prototype.unmount=w0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;_1(i.current,2,null,i,null,null),vp(),s[yo]=null}};function zp(i){this._internalRoot=i}zp.prototype.unstable_scheduleHydration=function(i){if(i){var s=Xv();i={blockedOn:null,target:i,priority:s};for(var a=0;a<Xa.length&&s!==0&&s<Xa[a].priority;a++);Xa.splice(a,0,i),a===0&&x1(i)}};var M1=t.version;if(M1!=="19.1.0")throw Error(n(527,M1,"19.1.0"));V.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=p(s),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var LR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ip=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ip.isDisabled&&Ip.supportsFiber)try{Tu=Ip.inject(LR),Ni=Ip}catch{}}return Th.createRoot=function(i,s){if(!r(i))throw Error(n(299));var a=!1,o="",f=X_,y=Y_,_=V_,R=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks)),s=v1(i,1,!1,null,null,a,o,f,y,_,R,null),i[yo]=s.current,r0(i),new w0(s)},Th.hydrateRoot=function(i,s,a){if(!r(i))throw Error(n(299));var o=!1,f="",y=X_,_=Y_,R=V_,L=null,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(R=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(L=a.unstable_transitionCallbacks),a.formState!==void 0&&(I=a.formState)),s=v1(i,1,!0,s,a??null,o,f,y,_,R,L,I),s.context=A1(null),a=s.current,o=Bi(),o=gm(o),f=Ra(o),f.callback=null,Ma(a,f,o),a=o,s.current.lanes=a,Cu(s,a),Ws(s),i[yo]=s.current,r0(i),new zp(s)},Th.version="19.1.0",Th}var V1;function S2(){if(V1)return L0.exports;V1=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(t){console.error(t)}}return c(),L0.exports=_2(),L0.exports}var E2=S2(),Zg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(c){return this.listeners.add(c),this.onSubscribe(),()=>{this.listeners.delete(c),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Jg=typeof window>"u"||"Deno"in globalThis;function xs(){}function w2(c,t){return typeof c=="function"?c(t):c}function T2(c){return typeof c=="number"&&c>=0&&c!==1/0}function x2(c,t){return Math.max(c+(t||0)-Date.now(),0)}function K1(c,t){return typeof c=="function"?c(t):c}function C2(c,t){return typeof c=="function"?c(t):c}function Q1(c,t){const{type:e="all",exact:n,fetchStatus:r,predicate:l,queryKey:h,stale:d}=c;if(h){if(n){if(t.queryHash!==Av(h,t.options))return!1}else if(!$h(t.queryKey,h))return!1}if(e!=="all"){const p=t.isActive();if(e==="active"&&!p||e==="inactive"&&p)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||r&&r!==t.state.fetchStatus||l&&!l(t))}function $1(c,t){const{exact:e,status:n,predicate:r,mutationKey:l}=c;if(l){if(!t.options.mutationKey)return!1;if(e){if(Qh(t.options.mutationKey)!==Qh(l))return!1}else if(!$h(t.options.mutationKey,l))return!1}return!(n&&t.state.status!==n||r&&!r(t))}function Av(c,t){return((t==null?void 0:t.queryKeyHashFn)||Qh)(c)}function Qh(c){return JSON.stringify(c,(t,e)=>G0(e)?Object.keys(e).sort().reduce((n,r)=>(n[r]=e[r],n),{}):e)}function $h(c,t){return c===t?!0:typeof c!=typeof t?!1:c&&t&&typeof c=="object"&&typeof t=="object"?Object.keys(t).every(e=>$h(c[e],t[e])):!1}function YE(c,t){if(c===t)return c;const e=W1(c)&&W1(t);if(e||G0(c)&&G0(t)){const n=e?c:Object.keys(c),r=n.length,l=e?t:Object.keys(t),h=l.length,d=e?[]:{};let p=0;for(let g=0;g<h;g++){const m=e?g:l[g];(!e&&n.includes(m)||e)&&c[m]===void 0&&t[m]===void 0?(d[m]=void 0,p++):(d[m]=YE(c[m],t[m]),d[m]===c[m]&&c[m]!==void 0&&p++)}return r===h&&p===r?c:d}return t}function _k(c,t){if(!t||Object.keys(c).length!==Object.keys(t).length)return!1;for(const e in c)if(c[e]!==t[e])return!1;return!0}function W1(c){return Array.isArray(c)&&c.length===Object.keys(c).length}function G0(c){if(!Z1(c))return!1;const t=c.constructor;if(t===void 0)return!0;const e=t.prototype;return!(!Z1(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(c)!==Object.prototype)}function Z1(c){return Object.prototype.toString.call(c)==="[object Object]"}function R2(c){return new Promise(t=>{setTimeout(t,c)})}function M2(c,t,e){return typeof e.structuralSharing=="function"?e.structuralSharing(c,t):e.structuralSharing!==!1?YE(c,t):t}function D2(c,t,e=0){const n=[...c,t];return e&&n.length>e?n.slice(1):n}function O2(c,t,e=0){const n=[t,...c];return e&&n.length>e?n.slice(0,-1):n}var _v=Symbol();function VE(c,t){return!c.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!c.queryFn||c.queryFn===_v?()=>Promise.reject(new Error(`Missing queryFn: '${c.queryHash}'`)):c.queryFn}function Sk(c,t){return typeof c=="function"?c(...t):!!c}var al,Wa,pc,_E,L2=(_E=class extends Zg{constructor(){super();x(this,al);x(this,Wa);x(this,pc);S(this,pc,t=>{if(!Jg&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){u(this,Wa)||this.setEventListener(u(this,pc))}onUnsubscribe(){var t;this.hasListeners()||((t=u(this,Wa))==null||t.call(this),S(this,Wa,void 0))}setEventListener(t){var e;S(this,pc,t),(e=u(this,Wa))==null||e.call(this),S(this,Wa,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){u(this,al)!==t&&(S(this,al,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof u(this,al)=="boolean"?u(this,al):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},al=new WeakMap,Wa=new WeakMap,pc=new WeakMap,_E),KE=new L2,gc,Za,mc,SE,k2=(SE=class extends Zg{constructor(){super();x(this,gc,!0);x(this,Za);x(this,mc);S(this,mc,t=>{if(!Jg&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}})}onSubscribe(){u(this,Za)||this.setEventListener(u(this,mc))}onUnsubscribe(){var t;this.hasListeners()||((t=u(this,Za))==null||t.call(this),S(this,Za,void 0))}setEventListener(t){var e;S(this,mc,t),(e=u(this,Za))==null||e.call(this),S(this,Za,t(this.setOnline.bind(this)))}setOnline(t){u(this,gc)!==t&&(S(this,gc,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return u(this,gc)}},gc=new WeakMap,Za=new WeakMap,mc=new WeakMap,SE),Cg=new k2;function N2(){let c,t;const e=new Promise((r,l)=>{c=r,t=l});e.status="pending",e.catch(()=>{});function n(r){Object.assign(e,r),delete e.resolve,delete e.reject}return e.resolve=r=>{n({status:"fulfilled",value:r}),c(r)},e.reject=r=>{n({status:"rejected",reason:r}),t(r)},e}function P2(c){return Math.min(1e3*2**c,3e4)}function QE(c){return(c??"online")==="online"?Cg.isOnline():!0}var $E=class extends Error{constructor(c){super("CancelledError"),this.revert=c==null?void 0:c.revert,this.silent=c==null?void 0:c.silent}};function P0(c){return c instanceof $E}function WE(c){let t=!1,e=0,n=!1,r;const l=N2(),h=T=>{var M;n||(v(new $E(T)),(M=c.abort)==null||M.call(c))},d=()=>{t=!0},p=()=>{t=!1},g=()=>KE.isFocused()&&(c.networkMode==="always"||Cg.isOnline())&&c.canRun(),m=()=>QE(c.networkMode)&&c.canRun(),b=T=>{var M;n||(n=!0,(M=c.onSuccess)==null||M.call(c,T),r==null||r(),l.resolve(T))},v=T=>{var M;n||(n=!0,(M=c.onError)==null||M.call(c,T),r==null||r(),l.reject(T))},A=()=>new Promise(T=>{var M;r=C=>{(n||g())&&T(C)},(M=c.onPause)==null||M.call(c)}).then(()=>{var T;r=void 0,n||(T=c.onContinue)==null||T.call(c)}),E=()=>{if(n)return;let T;const M=e===0?c.initialPromise:void 0;try{T=M??c.fn()}catch(C){T=Promise.reject(C)}Promise.resolve(T).then(b).catch(C=>{var U;if(n)return;const O=c.retry??(Jg?0:3),D=c.retryDelay??P2,k=typeof D=="function"?D(e,C):D,F=O===!0||typeof O=="number"&&e<O||typeof O=="function"&&O(e,C);if(t||!F){v(C);return}e++,(U=c.onFail)==null||U.call(c,e,C),R2(k).then(()=>g()?void 0:A()).then(()=>{t?v(C):E()})})};return{promise:l,cancel:h,continue:()=>(r==null||r(),l),cancelRetry:d,continueRetry:p,canStart:m,start:()=>(m()?E():A().then(E),l)}}var F2=c=>setTimeout(c,0);function H2(){let c=[],t=0,e=d=>{d()},n=d=>{d()},r=F2;const l=d=>{t?c.push(d):r(()=>{e(d)})},h=()=>{const d=c;c=[],d.length&&r(()=>{n(()=>{d.forEach(p=>{e(p)})})})};return{batch:d=>{let p;t++;try{p=d()}finally{t--,t||h()}return p},batchCalls:d=>(...p)=>{l(()=>{d(...p)})},schedule:l,setNotifyFunction:d=>{e=d},setBatchNotifyFunction:d=>{n=d},setScheduler:d=>{r=d}}}var mi=H2(),rl,EE,ZE=(EE=class{constructor(){x(this,rl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),T2(this.gcTime)&&S(this,rl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(c){this.gcTime=Math.max(this.gcTime||0,c??(Jg?1/0:5*60*1e3))}clearGcTimeout(){u(this,rl)&&(clearTimeout(u(this,rl)),S(this,rl,void 0))}},rl=new WeakMap,EE),yc,bc,ds,ll,ai,td,ol,Rs,In,wE,z2=(wE=class extends ZE{constructor(t){super();x(this,Rs);x(this,yc);x(this,bc);x(this,ds);x(this,ll);x(this,ai);x(this,td);x(this,ol);S(this,ol,!1),S(this,td,t.defaultOptions),this.setOptions(t.options),this.observers=[],S(this,ll,t.client),S(this,ds,u(this,ll).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,S(this,yc,U2(this.options)),this.state=t.state??u(this,yc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=u(this,ai))==null?void 0:t.promise}setOptions(t){this.options={...u(this,td),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&u(this,ds).remove(this)}setData(t,e){const n=M2(this.state.data,t,this.options);return w(this,Rs,In).call(this,{data:n,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),n}setState(t,e){w(this,Rs,In).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var n,r;const e=(n=u(this,ai))==null?void 0:n.promise;return(r=u(this,ai))==null||r.cancel(t),e?e.then(xs).catch(xs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(u(this,yc))}isActive(){return this.observers.some(t=>C2(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_v||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!x2(this.state.dataUpdatedAt,t)}onFocus(){var e;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(e=u(this,ai))==null||e.continue()}onOnline(){var e;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(e=u(this,ai))==null||e.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),u(this,ds).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(u(this,ai)&&(u(this,ol)?u(this,ai).cancel({revert:!0}):u(this,ai).cancelRetry()),this.scheduleGc()),u(this,ds).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||w(this,Rs,In).call(this,{type:"invalidate"})}fetch(t,e){var p,g,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(e!=null&&e.cancelRefetch))this.cancel({silent:!0});else if(u(this,ai))return u(this,ai).continueRetry(),u(this,ai).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(v=>v.options.queryFn);b&&this.setOptions(b.options)}const n=new AbortController,r=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(S(this,ol,!0),n.signal)})},l=()=>{const b=VE(this.options,e),v={client:u(this,ll),queryKey:this.queryKey,meta:this.meta};return r(v),S(this,ol,!1),this.options.persister?this.options.persister(b,v,this):b(v)},h={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:u(this,ll),state:this.state,fetchFn:l};r(h),(p=this.options.behavior)==null||p.onFetch(h,this),S(this,bc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=h.fetchOptions)==null?void 0:g.meta))&&w(this,Rs,In).call(this,{type:"fetch",meta:(m=h.fetchOptions)==null?void 0:m.meta});const d=b=>{var v,A,E,T;P0(b)&&b.silent||w(this,Rs,In).call(this,{type:"error",error:b}),P0(b)||((A=(v=u(this,ds).config).onError)==null||A.call(v,b,this),(T=(E=u(this,ds).config).onSettled)==null||T.call(E,this.state.data,b,this)),this.scheduleGc()};return S(this,ai,WE({initialPromise:e==null?void 0:e.initialPromise,fn:h.fetchFn,abort:n.abort.bind(n),onSuccess:b=>{var v,A,E,T;if(b===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(b)}catch(M){d(M);return}(A=(v=u(this,ds).config).onSuccess)==null||A.call(v,b,this),(T=(E=u(this,ds).config).onSettled)==null||T.call(E,b,this.state.error,this),this.scheduleGc()},onError:d,onFail:(b,v)=>{w(this,Rs,In).call(this,{type:"failed",failureCount:b,error:v})},onPause:()=>{w(this,Rs,In).call(this,{type:"pause"})},onContinue:()=>{w(this,Rs,In).call(this,{type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0})),u(this,ai).start()}},yc=new WeakMap,bc=new WeakMap,ds=new WeakMap,ll=new WeakMap,ai=new WeakMap,td=new WeakMap,ol=new WeakMap,Rs=new WeakSet,In=function(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...I2(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return P0(r)&&r.revert&&u(this,bc)?{...u(this,bc),fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),mi.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),u(this,ds).notify({query:this,type:"updated",action:t})})},wE);function I2(c,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:QE(t.networkMode)?"fetching":"paused",...c===void 0&&{error:null,status:"pending"}}}function U2(c){const t=typeof c.initialData=="function"?c.initialData():c.initialData,e=t!==void 0,n=e?typeof c.initialDataUpdatedAt=="function"?c.initialDataUpdatedAt():c.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:e?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var Js,TE,B2=(TE=class extends Zg{constructor(t={}){super();x(this,Js);this.config=t,S(this,Js,new Map)}build(t,e,n){const r=e.queryKey,l=e.queryHash??Av(r,e);let h=this.get(l);return h||(h=new z2({client:t,queryKey:r,queryHash:l,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(h)),h}add(t){u(this,Js).has(t.queryHash)||(u(this,Js).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=u(this,Js).get(t.queryHash);e&&(t.destroy(),e===t&&u(this,Js).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){mi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return u(this,Js).get(t)}getAll(){return[...u(this,Js).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Q1(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>Q1(t,n)):e}notify(t){mi.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){mi.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){mi.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Js=new WeakMap,TE),tn,gi,cl,en,Va,xE,q2=(xE=class extends ZE{constructor(t){super();x(this,en);x(this,tn);x(this,gi);x(this,cl);this.mutationId=t.mutationId,S(this,gi,t.mutationCache),S(this,tn,[]),this.state=t.state||j2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){u(this,tn).includes(t)||(u(this,tn).push(t),this.clearGcTimeout(),u(this,gi).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){S(this,tn,u(this,tn).filter(e=>e!==t)),this.scheduleGc(),u(this,gi).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){u(this,tn).length||(this.state.status==="pending"?this.scheduleGc():u(this,gi).remove(this))}continue(){var t;return((t=u(this,cl))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,h,d,p,g,m,b,v,A,E,T,M,C,O,D,k,F,U,X,Y;const e=()=>{w(this,en,Va).call(this,{type:"continue"})};S(this,cl,WE({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(Z,rt)=>{w(this,en,Va).call(this,{type:"failed",failureCount:Z,error:rt})},onPause:()=>{w(this,en,Va).call(this,{type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>u(this,gi).canRun(this)}));const n=this.state.status==="pending",r=!u(this,cl).canStart();try{if(n)e();else{w(this,en,Va).call(this,{type:"pending",variables:t,isPaused:r}),await((h=(l=u(this,gi).config).onMutate)==null?void 0:h.call(l,t,this));const rt=await((p=(d=this.options).onMutate)==null?void 0:p.call(d,t));rt!==this.state.context&&w(this,en,Va).call(this,{type:"pending",context:rt,variables:t,isPaused:r})}const Z=await u(this,cl).start();return await((m=(g=u(this,gi).config).onSuccess)==null?void 0:m.call(g,Z,t,this.state.context,this)),await((v=(b=this.options).onSuccess)==null?void 0:v.call(b,Z,t,this.state.context)),await((E=(A=u(this,gi).config).onSettled)==null?void 0:E.call(A,Z,null,this.state.variables,this.state.context,this)),await((M=(T=this.options).onSettled)==null?void 0:M.call(T,Z,null,t,this.state.context)),w(this,en,Va).call(this,{type:"success",data:Z}),Z}catch(Z){try{throw await((O=(C=u(this,gi).config).onError)==null?void 0:O.call(C,Z,t,this.state.context,this)),await((k=(D=this.options).onError)==null?void 0:k.call(D,Z,t,this.state.context)),await((U=(F=u(this,gi).config).onSettled)==null?void 0:U.call(F,void 0,Z,this.state.variables,this.state.context,this)),await((Y=(X=this.options).onSettled)==null?void 0:Y.call(X,void 0,Z,t,this.state.context)),Z}finally{w(this,en,Va).call(this,{type:"error",error:Z})}}finally{u(this,gi).runNext(this)}}},tn=new WeakMap,gi=new WeakMap,cl=new WeakMap,en=new WeakSet,Va=function(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),mi.batch(()=>{u(this,tn).forEach(n=>{n.onMutationUpdate(t)}),u(this,gi).notify({mutation:this,type:"updated",action:t})})},xE);function j2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var jn,Ms,ed,CE,G2=(CE=class extends Zg{constructor(t={}){super();x(this,jn);x(this,Ms);x(this,ed);this.config=t,S(this,jn,new Set),S(this,Ms,new Map),S(this,ed,0)}build(t,e,n){const r=new q2({mutationCache:this,mutationId:++Ue(this,ed)._,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){u(this,jn).add(t);const e=Bp(t);if(typeof e=="string"){const n=u(this,Ms).get(e);n?n.push(t):u(this,Ms).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(u(this,jn).delete(t)){const e=Bp(t);if(typeof e=="string"){const n=u(this,Ms).get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&u(this,Ms).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Bp(t);if(typeof e=="string"){const n=u(this,Ms).get(e),r=n==null?void 0:n.find(l=>l.state.status==="pending");return!r||r===t}else return!0}runNext(t){var n;const e=Bp(t);if(typeof e=="string"){const r=(n=u(this,Ms).get(e))==null?void 0:n.find(l=>l!==t&&l.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){mi.batch(()=>{u(this,jn).forEach(t=>{this.notify({type:"removed",mutation:t})}),u(this,jn).clear(),u(this,Ms).clear()})}getAll(){return Array.from(u(this,jn))}find(t){const e={exact:!0,...t};return this.getAll().find(n=>$1(e,n))}findAll(t={}){return this.getAll().filter(e=>$1(t,e))}notify(t){mi.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return mi.batch(()=>Promise.all(t.map(e=>e.continue().catch(xs))))}},jn=new WeakMap,Ms=new WeakMap,ed=new WeakMap,CE);function Bp(c){var t;return(t=c.options.scope)==null?void 0:t.id}function J1(c){return{onFetch:(t,e)=>{var m,b,v,A,E;const n=t.options,r=(v=(b=(m=t.fetchOptions)==null?void 0:m.meta)==null?void 0:b.fetchMore)==null?void 0:v.direction,l=((A=t.state.data)==null?void 0:A.pages)||[],h=((E=t.state.data)==null?void 0:E.pageParams)||[];let d={pages:[],pageParams:[]},p=0;const g=async()=>{let T=!1;const M=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>(t.signal.aborted?T=!0:t.signal.addEventListener("abort",()=>{T=!0}),t.signal)})},C=VE(t.options,t.fetchOptions),O=async(D,k,F)=>{if(T)return Promise.reject();if(k==null&&D.pages.length)return Promise.resolve(D);const U={client:t.client,queryKey:t.queryKey,pageParam:k,direction:F?"backward":"forward",meta:t.options.meta};M(U);const X=await C(U),{maxPages:Y}=t.options,Z=F?O2:D2;return{pages:Z(D.pages,X,Y),pageParams:Z(D.pageParams,k,Y)}};if(r&&l.length){const D=r==="backward",k=D?X2:tE,F={pages:l,pageParams:h},U=k(n,F);d=await O(F,U,D)}else{const D=c??l.length;do{const k=p===0?h[0]??n.initialPageParam:tE(n,d);if(p>0&&k==null)break;d=await O(d,k),p++}while(p<D)}return d};t.options.persister?t.fetchFn=()=>{var T,M;return(M=(T=t.options).persister)==null?void 0:M.call(T,g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},e)}:t.fetchFn=g}}}function tE(c,{pages:t,pageParams:e}){const n=t.length-1;return t.length>0?c.getNextPageParam(t[n],t,e[n],e):void 0}function X2(c,{pages:t,pageParams:e}){var n;return t.length>0?(n=c.getPreviousPageParam)==null?void 0:n.call(c,t[0],t,e[0],e):void 0}var me,Ja,tr,vc,Ac,er,_c,Sc,RE,Y2=(RE=class{constructor(c={}){x(this,me);x(this,Ja);x(this,tr);x(this,vc);x(this,Ac);x(this,er);x(this,_c);x(this,Sc);S(this,me,c.queryCache||new B2),S(this,Ja,c.mutationCache||new G2),S(this,tr,c.defaultOptions||{}),S(this,vc,new Map),S(this,Ac,new Map),S(this,er,0)}mount(){Ue(this,er)._++,u(this,er)===1&&(S(this,_c,KE.subscribe(async c=>{c&&(await this.resumePausedMutations(),u(this,me).onFocus())})),S(this,Sc,Cg.subscribe(async c=>{c&&(await this.resumePausedMutations(),u(this,me).onOnline())})))}unmount(){var c,t;Ue(this,er)._--,u(this,er)===0&&((c=u(this,_c))==null||c.call(this),S(this,_c,void 0),(t=u(this,Sc))==null||t.call(this),S(this,Sc,void 0))}isFetching(c){return u(this,me).findAll({...c,fetchStatus:"fetching"}).length}isMutating(c){return u(this,Ja).findAll({...c,status:"pending"}).length}getQueryData(c){var e;const t=this.defaultQueryOptions({queryKey:c});return(e=u(this,me).get(t.queryHash))==null?void 0:e.state.data}ensureQueryData(c){const t=this.defaultQueryOptions(c),e=u(this,me).build(this,t),n=e.state.data;return n===void 0?this.fetchQuery(c):(c.revalidateIfStale&&e.isStaleByTime(K1(t.staleTime,e))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(c){return u(this,me).findAll(c).map(({queryKey:t,state:e})=>{const n=e.data;return[t,n]})}setQueryData(c,t,e){const n=this.defaultQueryOptions({queryKey:c}),r=u(this,me).get(n.queryHash),l=r==null?void 0:r.state.data,h=w2(t,l);if(h!==void 0)return u(this,me).build(this,n).setData(h,{...e,manual:!0})}setQueriesData(c,t,e){return mi.batch(()=>u(this,me).findAll(c).map(({queryKey:n})=>[n,this.setQueryData(n,t,e)]))}getQueryState(c){var e;const t=this.defaultQueryOptions({queryKey:c});return(e=u(this,me).get(t.queryHash))==null?void 0:e.state}removeQueries(c){const t=u(this,me);mi.batch(()=>{t.findAll(c).forEach(e=>{t.remove(e)})})}resetQueries(c,t){const e=u(this,me);return mi.batch(()=>(e.findAll(c).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...c},t)))}cancelQueries(c,t={}){const e={revert:!0,...t},n=mi.batch(()=>u(this,me).findAll(c).map(r=>r.cancel(e)));return Promise.all(n).then(xs).catch(xs)}invalidateQueries(c,t={}){return mi.batch(()=>(u(this,me).findAll(c).forEach(e=>{e.invalidate()}),(c==null?void 0:c.refetchType)==="none"?Promise.resolve():this.refetchQueries({...c,type:(c==null?void 0:c.refetchType)??(c==null?void 0:c.type)??"active"},t)))}refetchQueries(c,t={}){const e={...t,cancelRefetch:t.cancelRefetch??!0},n=mi.batch(()=>u(this,me).findAll(c).filter(r=>!r.isDisabled()).map(r=>{let l=r.fetch(void 0,e);return e.throwOnError||(l=l.catch(xs)),r.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(n).then(xs)}fetchQuery(c){const t=this.defaultQueryOptions(c);t.retry===void 0&&(t.retry=!1);const e=u(this,me).build(this,t);return e.isStaleByTime(K1(t.staleTime,e))?e.fetch(t):Promise.resolve(e.state.data)}prefetchQuery(c){return this.fetchQuery(c).then(xs).catch(xs)}fetchInfiniteQuery(c){return c.behavior=J1(c.pages),this.fetchQuery(c)}prefetchInfiniteQuery(c){return this.fetchInfiniteQuery(c).then(xs).catch(xs)}ensureInfiniteQueryData(c){return c.behavior=J1(c.pages),this.ensureQueryData(c)}resumePausedMutations(){return Cg.isOnline()?u(this,Ja).resumePausedMutations():Promise.resolve()}getQueryCache(){return u(this,me)}getMutationCache(){return u(this,Ja)}getDefaultOptions(){return u(this,tr)}setDefaultOptions(c){S(this,tr,c)}setQueryDefaults(c,t){u(this,vc).set(Qh(c),{queryKey:c,defaultOptions:t})}getQueryDefaults(c){const t=[...u(this,vc).values()],e={};return t.forEach(n=>{$h(c,n.queryKey)&&Object.assign(e,n.defaultOptions)}),e}setMutationDefaults(c,t){u(this,Ac).set(Qh(c),{mutationKey:c,defaultOptions:t})}getMutationDefaults(c){const t=[...u(this,Ac).values()],e={};return t.forEach(n=>{$h(c,n.mutationKey)&&Object.assign(e,n.defaultOptions)}),e}defaultQueryOptions(c){if(c._defaulted)return c;const t={...u(this,tr).queries,...this.getQueryDefaults(c.queryKey),...c,_defaulted:!0};return t.queryHash||(t.queryHash=Av(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===_v&&(t.enabled=!1),t}defaultMutationOptions(c){return c!=null&&c._defaulted?c:{...u(this,tr).mutations,...(c==null?void 0:c.mutationKey)&&this.getMutationDefaults(c.mutationKey),...c,_defaulted:!0}}clear(){u(this,me).clear(),u(this,Ja).clear()}},me=new WeakMap,Ja=new WeakMap,tr=new WeakMap,vc=new WeakMap,Ac=new WeakMap,er=new WeakMap,_c=new WeakMap,Sc=new WeakMap,RE),JE=G.createContext(void 0),Ek=c=>{const t=G.useContext(JE);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},V2=({client:c,children:t})=>(G.useEffect(()=>(c.mount(),()=>{c.unmount()}),[c]),ui.jsx(JE.Provider,{value:c,children:t}));function tw(c){var t,e,n="";if(typeof c=="string"||typeof c=="number")n+=c;else if(typeof c=="object")if(Array.isArray(c)){var r=c.length;for(t=0;t<r;t++)c[t]&&(e=tw(c[t]))&&(n&&(n+=" "),n+=e)}else for(e in c)c[e]&&(n&&(n+=" "),n+=e);return n}function ro(){for(var c,t,e=0,n="",r=arguments.length;e<r;e++)(c=arguments[e])&&(t=tw(c))&&(n&&(n+=" "),n+=t);return n}function K2(c){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e),e.styleSheet?e.styleSheet.cssText=c:e.appendChild(document.createTextNode(c))}K2(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Af=c=>typeof c=="number"&&!isNaN(c),lo=c=>typeof c=="string",Aa=c=>typeof c=="function",Q2=c=>lo(c)||Af(c),X0=c=>lo(c)||Aa(c)?c:null,$2=(c,t)=>c===!1||Af(c)&&c>0?c:t,Y0=c=>G.isValidElement(c)||lo(c)||Aa(c)||Af(c);function W2(c,t,e=300){let{scrollHeight:n,style:r}=c;requestAnimationFrame(()=>{r.minHeight="initial",r.height=n+"px",r.transition=`all ${e}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(t,e)})})}function Z2({enter:c,exit:t,appendPosition:e=!1,collapse:n=!0,collapseDuration:r=300}){return function({children:l,position:h,preventExitTransition:d,done:p,nodeRef:g,isIn:m,playToast:b}){let v=e?`${c}--${h}`:c,A=e?`${t}--${h}`:t,E=G.useRef(0);return G.useLayoutEffect(()=>{let T=g.current,M=v.split(" "),C=O=>{O.target===g.current&&(b(),T.removeEventListener("animationend",C),T.removeEventListener("animationcancel",C),E.current===0&&O.type!=="animationcancel"&&T.classList.remove(...M))};T.classList.add(...M),T.addEventListener("animationend",C),T.addEventListener("animationcancel",C)},[]),G.useEffect(()=>{let T=g.current,M=()=>{T.removeEventListener("animationend",M),n?W2(T,p,r):p()};m||(d?M():(E.current=1,T.className+=` ${A}`,T.addEventListener("animationend",M)))},[m]),ne.createElement(ne.Fragment,null,l)}}function eE(c,t){return{content:ew(c.content,c.props),containerId:c.props.containerId,id:c.props.toastId,theme:c.props.theme,type:c.props.type,data:c.props.data||{},isLoading:c.props.isLoading,icon:c.props.icon,reason:c.removalReason,status:t}}function ew(c,t,e=!1){return G.isValidElement(c)&&!lo(c.type)?G.cloneElement(c,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):Aa(c)?c({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):c}function J2({closeToast:c,theme:t,ariaLabel:e="close"}){return ne.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:n=>{n.stopPropagation(),c(!0)},"aria-label":e},ne.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ne.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function tD({delay:c,isRunning:t,closeToast:e,type:n="default",hide:r,className:l,controlledProgress:h,progress:d,rtl:p,isIn:g,theme:m}){let b=r||h&&d===0,v={animationDuration:`${c}ms`,animationPlayState:t?"running":"paused"};h&&(v.transform=`scaleX(${d})`);let A=ro("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":p}),E=Aa(l)?l({rtl:p,type:n,defaultClassName:A}):ro(A,l),T={[h&&d>=1?"onTransitionEnd":"onAnimationEnd"]:h&&d<1?null:()=>{g&&e()}};return ne.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":b},ne.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${n}`}),ne.createElement("div",{role:"progressbar","aria-hidden":b?"true":"false","aria-label":"notification timer",className:E,style:v,...T}))}var eD=1,iw=()=>`${eD++}`;function iD(c,t,e){let n=1,r=0,l=[],h=[],d=t,p=new Map,g=new Set,m=O=>(g.add(O),()=>g.delete(O)),b=()=>{h=Array.from(p.values()),g.forEach(O=>O())},v=({containerId:O,toastId:D,updateId:k})=>{let F=O?O!==c:c!==1,U=p.has(D)&&k==null;return F||U},A=(O,D)=>{p.forEach(k=>{var F;(D==null||D===k.props.toastId)&&((F=k.toggle)==null||F.call(k,O))})},E=O=>{var D,k;(k=(D=O.props)==null?void 0:D.onClose)==null||k.call(D,O.removalReason),O.isActive=!1},T=O=>{if(O==null)p.forEach(E);else{let D=p.get(O);D&&E(D)}b()},M=()=>{r-=l.length,l=[]},C=O=>{var D,k;let{toastId:F,updateId:U}=O.props,X=U==null;O.staleId&&p.delete(O.staleId),O.isActive=!0,p.set(F,O),b(),e(eE(O,X?"added":"updated")),X&&((k=(D=O.props).onOpen)==null||k.call(D))};return{id:c,props:d,observe:m,toggle:A,removeToast:T,toasts:p,clearQueue:M,buildToast:(O,D)=>{if(v(D))return;let{toastId:k,updateId:F,data:U,staleId:X,delay:Y}=D,Z=F==null;Z&&r++;let rt={...d,style:d.toastStyle,key:n++,...Object.fromEntries(Object.entries(D).filter(([ft,At])=>At!=null)),toastId:k,updateId:F,data:U,isIn:!1,className:X0(D.className||d.toastClassName),progressClassName:X0(D.progressClassName||d.progressClassName),autoClose:D.isLoading?!1:$2(D.autoClose,d.autoClose),closeToast(ft){p.get(k).removalReason=ft,T(k)},deleteToast(){let ft=p.get(k);if(ft!=null){if(e(eE(ft,"removed")),p.delete(k),r--,r<0&&(r=0),l.length>0){C(l.shift());return}b()}}};rt.closeButton=d.closeButton,D.closeButton===!1||Y0(D.closeButton)?rt.closeButton=D.closeButton:D.closeButton===!0&&(rt.closeButton=Y0(d.closeButton)?d.closeButton:!0);let nt={content:O,props:rt,staleId:X};d.limit&&d.limit>0&&r>d.limit&&Z?l.push(nt):Af(Y)?setTimeout(()=>{C(nt)},Y):C(nt)},setProps(O){d=O},setToggle:(O,D)=>{let k=p.get(O);k&&(k.toggle=D)},isToastActive:O=>{var D;return(D=p.get(O))==null?void 0:D.isActive},getSnapshot:()=>h}}var bi=new Map,Wh=[],V0=new Set,sD=c=>V0.forEach(t=>t(c)),sw=()=>bi.size>0;function nD(){Wh.forEach(c=>aw(c.content,c.options)),Wh=[]}var aD=(c,{containerId:t})=>{var e;return(e=bi.get(t||1))==null?void 0:e.toasts.get(c)};function nw(c,t){var e;if(t)return!!((e=bi.get(t))!=null&&e.isToastActive(c));let n=!1;return bi.forEach(r=>{r.isToastActive(c)&&(n=!0)}),n}function rD(c){if(!sw()){Wh=Wh.filter(t=>c!=null&&t.options.toastId!==c);return}if(c==null||Q2(c))bi.forEach(t=>{t.removeToast(c)});else if(c&&("containerId"in c||"id"in c)){let t=bi.get(c.containerId);t?t.removeToast(c.id):bi.forEach(e=>{e.removeToast(c.id)})}}var lD=(c={})=>{bi.forEach(t=>{t.props.limit&&(!c.containerId||t.id===c.containerId)&&t.clearQueue()})};function aw(c,t){Y0(c)&&(sw()||Wh.push({content:c,options:t}),bi.forEach(e=>{e.buildToast(c,t)}))}function oD(c){var t;(t=bi.get(c.containerId||1))==null||t.setToggle(c.id,c.fn)}function rw(c,t){bi.forEach(e=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===e.id)&&e.toggle(c,t==null?void 0:t.id)})}function cD(c){let t=c.containerId||1;return{subscribe(e){let n=iD(t,c,sD);bi.set(t,n);let r=n.observe(e);return nD(),()=>{r(),bi.delete(t)}},setProps(e){var n;(n=bi.get(t))==null||n.setProps(e)},getSnapshot(){var e;return(e=bi.get(t))==null?void 0:e.getSnapshot()}}}function uD(c){return V0.add(c),()=>{V0.delete(c)}}function hD(c){return c&&(lo(c.toastId)||Af(c.toastId))?c.toastId:iw()}function _f(c,t){return aw(c,t),t.toastId}function tm(c,t){return{...t,type:t&&t.type||c,toastId:hD(t)}}function em(c){return(t,e)=>_f(t,tm(c,e))}function ee(c,t){return _f(c,tm("default",t))}ee.loading=(c,t)=>_f(c,tm("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function dD(c,{pending:t,error:e,success:n},r){let l;t&&(l=lo(t)?ee.loading(t,r):ee.loading(t.render,{...r,...t}));let h={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(g,m,b)=>{if(m==null){ee.dismiss(l);return}let v={type:g,...h,...r,data:b},A=lo(m)?{render:m}:m;return l?ee.update(l,{...v,...A}):ee(A.render,{...v,...A}),b},p=Aa(c)?c():c;return p.then(g=>d("success",n,g)).catch(g=>d("error",e,g)),p}ee.promise=dD;ee.success=em("success");ee.info=em("info");ee.error=em("error");ee.warning=em("warning");ee.warn=ee.warning;ee.dark=(c,t)=>_f(c,tm("default",{theme:"dark",...t}));function fD(c){rD(c)}ee.dismiss=fD;ee.clearWaitingQueue=lD;ee.isActive=nw;ee.update=(c,t={})=>{let e=aD(c,t);if(e){let{props:n,content:r}=e,l={delay:100,...n,...t,toastId:t.toastId||c,updateId:iw()};l.toastId!==c&&(l.staleId=c);let h=l.render||r;delete l.render,_f(h,l)}};ee.done=c=>{ee.update(c,{progress:1})};ee.onChange=uD;ee.play=c=>rw(!0,c);ee.pause=c=>rw(!1,c);function pD(c){var t;let{subscribe:e,getSnapshot:n,setProps:r}=G.useRef(cD(c)).current;r(c);let l=(t=G.useSyncExternalStore(e,n,n))==null?void 0:t.slice();function h(d){if(!l)return[];let p=new Map;return c.newestOnTop&&l.reverse(),l.forEach(g=>{let{position:m}=g.props;p.has(m)||p.set(m,[]),p.get(m).push(g)}),Array.from(p,g=>d(g[0],g[1]))}return{getToastToRender:h,isToastActive:nw,count:l==null?void 0:l.length}}function gD(c){let[t,e]=G.useState(!1),[n,r]=G.useState(!1),l=G.useRef(null),h=G.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:p,closeToast:g,onClick:m,closeOnClick:b}=c;oD({id:c.toastId,containerId:c.containerId,fn:e}),G.useEffect(()=>{if(c.pauseOnFocusLoss)return v(),()=>{A()}},[c.pauseOnFocusLoss]);function v(){document.hasFocus()||C(),window.addEventListener("focus",M),window.addEventListener("blur",C)}function A(){window.removeEventListener("focus",M),window.removeEventListener("blur",C)}function E(X){if(c.draggable===!0||c.draggable===X.pointerType){O();let Y=l.current;h.canCloseOnClick=!0,h.canDrag=!0,Y.style.transition="none",c.draggableDirection==="x"?(h.start=X.clientX,h.removalDistance=Y.offsetWidth*(c.draggablePercent/100)):(h.start=X.clientY,h.removalDistance=Y.offsetHeight*(c.draggablePercent===80?c.draggablePercent*1.5:c.draggablePercent)/100)}}function T(X){let{top:Y,bottom:Z,left:rt,right:nt}=l.current.getBoundingClientRect();X.nativeEvent.type!=="touchend"&&c.pauseOnHover&&X.clientX>=rt&&X.clientX<=nt&&X.clientY>=Y&&X.clientY<=Z?C():M()}function M(){e(!0)}function C(){e(!1)}function O(){h.didMove=!1,document.addEventListener("pointermove",k),document.addEventListener("pointerup",F)}function D(){document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",F)}function k(X){let Y=l.current;if(h.canDrag&&Y){h.didMove=!0,t&&C(),c.draggableDirection==="x"?h.delta=X.clientX-h.start:h.delta=X.clientY-h.start,h.start!==X.clientX&&(h.canCloseOnClick=!1);let Z=c.draggableDirection==="x"?`${h.delta}px, var(--y)`:`0, calc(${h.delta}px + var(--y))`;Y.style.transform=`translate3d(${Z},0)`,Y.style.opacity=`${1-Math.abs(h.delta/h.removalDistance)}`}}function F(){D();let X=l.current;if(h.canDrag&&h.didMove&&X){if(h.canDrag=!1,Math.abs(h.delta)>h.removalDistance){r(!0),c.closeToast(!0),c.collapseAll();return}X.style.transition="transform 0.2s, opacity 0.2s",X.style.removeProperty("transform"),X.style.removeProperty("opacity")}}let U={onPointerDown:E,onPointerUp:T};return d&&p&&(U.onMouseEnter=C,c.stacked||(U.onMouseLeave=M)),b&&(U.onClick=X=>{m&&m(X),h.canCloseOnClick&&g(!0)}),{playToast:M,pauseToast:C,isRunning:t,preventExitTransition:n,toastRef:l,eventHandlers:U}}var mD=typeof window<"u"?G.useLayoutEffect:G.useEffect,im=({theme:c,type:t,isLoading:e,...n})=>ne.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:c==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...n});function yD(c){return ne.createElement(im,{...c},ne.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function bD(c){return ne.createElement(im,{...c},ne.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function vD(c){return ne.createElement(im,{...c},ne.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function AD(c){return ne.createElement(im,{...c},ne.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function _D(){return ne.createElement("div",{className:"Toastify__spinner"})}var K0={info:bD,warning:yD,success:vD,error:AD,spinner:_D},SD=c=>c in K0;function ED({theme:c,type:t,isLoading:e,icon:n}){let r=null,l={theme:c,type:t};return n===!1||(Aa(n)?r=n({...l,isLoading:e}):G.isValidElement(n)?r=G.cloneElement(n,l):e?r=K0.spinner():SD(t)&&(r=K0[t](l))),r}var wD=c=>{let{isRunning:t,preventExitTransition:e,toastRef:n,eventHandlers:r,playToast:l}=gD(c),{closeButton:h,children:d,autoClose:p,onClick:g,type:m,hideProgressBar:b,closeToast:v,transition:A,position:E,className:T,style:M,progressClassName:C,updateId:O,role:D,progress:k,rtl:F,toastId:U,deleteToast:X,isIn:Y,isLoading:Z,closeOnClick:rt,theme:nt,ariaLabel:ft}=c,At=ro("Toastify__toast",`Toastify__toast-theme--${nt}`,`Toastify__toast--${m}`,{"Toastify__toast--rtl":F},{"Toastify__toast--close-on-click":rt}),xt=Aa(T)?T({rtl:F,position:E,type:m,defaultClassName:At}):ro(At,T),mt=ED(c),q=!!k||!p,V={closeToast:v,type:m,theme:nt},J=null;return h===!1||(Aa(h)?J=h(V):G.isValidElement(h)?J=G.cloneElement(h,V):J=J2(V)),ne.createElement(A,{isIn:Y,done:X,position:E,preventExitTransition:e,nodeRef:n,playToast:l},ne.createElement("div",{id:U,tabIndex:0,onClick:g,"data-in":Y,className:xt,...r,style:M,ref:n,...Y&&{role:D,"aria-label":ft}},mt!=null&&ne.createElement("div",{className:ro("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!Z})},mt),ew(d,c,!t),J,!c.customProgressBar&&ne.createElement(tD,{...O&&!q?{key:`p-${O}`}:{},rtl:F,theme:nt,delay:p,isRunning:t,isIn:Y,closeToast:v,hide:b,type:m,className:C,controlledProgress:q,progress:k||0})))},TD=(c,t=!1)=>({enter:`Toastify--animate Toastify__${c}-enter`,exit:`Toastify--animate Toastify__${c}-exit`,appendPosition:t}),xD=Z2(TD("bounce",!0)),CD={position:"top-right",transition:xD,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:c=>c.altKey&&c.code==="KeyT"};function RD(c){let t={...CD,...c},e=c.stacked,[n,r]=G.useState(!0),l=G.useRef(null),{getToastToRender:h,isToastActive:d,count:p}=pD(t),{className:g,style:m,rtl:b,containerId:v,hotKeys:A}=t;function E(M){let C=ro("Toastify__toast-container",`Toastify__toast-container--${M}`,{"Toastify__toast-container--rtl":b});return Aa(g)?g({position:M,rtl:b,defaultClassName:C}):ro(C,X0(g))}function T(){e&&(r(!0),ee.play())}return mD(()=>{var M;if(e){let C=l.current.querySelectorAll('[data-in="true"]'),O=12,D=(M=t.position)==null?void 0:M.includes("top"),k=0,F=0;Array.from(C).reverse().forEach((U,X)=>{let Y=U;Y.classList.add("Toastify__toast--stacked"),X>0&&(Y.dataset.collapsed=`${n}`),Y.dataset.pos||(Y.dataset.pos=D?"top":"bot");let Z=k*(n?.2:1)+(n?0:O*X);Y.style.setProperty("--y",`${D?Z:Z*-1}px`),Y.style.setProperty("--g",`${O}`),Y.style.setProperty("--s",`${1-(n?F:0)}`),k+=Y.offsetHeight,F+=.025})}},[n,p,e]),G.useEffect(()=>{function M(C){var O;let D=l.current;A(C)&&((O=D.querySelector('[tabIndex="0"]'))==null||O.focus(),r(!1),ee.pause()),C.key==="Escape"&&(document.activeElement===D||D!=null&&D.contains(document.activeElement))&&(r(!0),ee.play())}return document.addEventListener("keydown",M),()=>{document.removeEventListener("keydown",M)}},[A]),ne.createElement("section",{ref:l,className:"Toastify",id:v,onMouseEnter:()=>{e&&(r(!1),ee.pause())},onMouseLeave:T,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},h((M,C)=>{let O=C.length?{...m}:{...m,pointerEvents:"none"};return ne.createElement("div",{tabIndex:-1,className:E(M),"data-stacked":e,style:O,key:`c-${M}`},C.map(({content:D,props:k})=>ne.createElement(wD,{...k,stacked:e,collapseAll:T,isIn:d(k.toastId,k.containerId),key:`t-${k.key}`},D)))}))}var Xh={};Xh.d=(c,t)=>{for(var e in t)Xh.o(t,e)&&!Xh.o(c,e)&&Object.defineProperty(c,e,{enumerable:!0,get:t[e]})};Xh.o=(c,t)=>Object.prototype.hasOwnProperty.call(c,t);var _t=globalThis.pdfjsLib={};Xh.d(_t,{AbortException:()=>go,AnnotationEditorLayer:()=>av,AnnotationEditorParamsType:()=>vt,AnnotationEditorType:()=>wt,AnnotationEditorUIManager:()=>co,AnnotationLayer:()=>xL,AnnotationMode:()=>$a,ColorPicker:()=>Og,DOMSVGFactory:()=>kv,DrawLayer:()=>cv,FeatureTest:()=>vi,GlobalWorkerOptions:()=>pa,ImageKind:()=>$p,InvalidPDFException:()=>ow,MissingPDFException:()=>po,OPS:()=>Cs,OutputScale:()=>J0,PDFDataRangeTransport:()=>nT,PDFDateString:()=>xv,PDFWorker:()=>fc,PasswordResponses:()=>LD,PermissionFlag:()=>OD,PixelsPerInch:()=>Mr,RenderingCancelledException:()=>wv,TextLayer:()=>Zh,UnexpectedResponseException:()=>rm,Util:()=>ut,VerbosityLevel:()=>sm,XfaLayer:()=>rT,build:()=>rL,createValidAbsoluteUrl:()=>FD,fetchData:()=>om,getDocument:()=>WO,getFilenameFromUrl:()=>XD,getPdfFilenameFromUrl:()=>YD,getXfaPageViewport:()=>VD,isDataScheme:()=>cm,isPdfFile:()=>Tv,noContextMenu:()=>_s,normalizeUnicode:()=>qD,setLayerDimensions:()=>oo,shadow:()=>Ht,version:()=>aL});const hi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),lw=[1,0,0,1,0,0],Q0=[.001,0,0,.001,0,0],MD=1e7,F0=1.35,Zi={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},$a={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},DD="pdfjs_internal_editor_",wt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},vt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},OD={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},si={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},$p={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Me={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},xh={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},sm={ERRORS:0,WARNINGS:1,INFOS:5},Cs={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},LD={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let nm=sm.WARNINGS;function kD(c){Number.isInteger(c)&&(nm=c)}function ND(){return nm}function am(c){nm>=sm.INFOS&&console.log(`Info: ${c}`)}function Rt(c){nm>=sm.WARNINGS&&console.log(`Warning: ${c}`)}function ae(c){throw new Error(c)}function Ne(c,t){c||ae(t)}function PD(c){switch(c==null?void 0:c.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function FD(c,t=null,e=null){if(!c)return null;try{if(e&&typeof c=="string"){if(e.addDefaultProtocol&&c.startsWith("www.")){const r=c.match(/\./g);(r==null?void 0:r.length)>=2&&(c=`http://${c}`)}if(e.tryConvertEncoding)try{c=BD(c)}catch{}}const n=t?new URL(c,t):new URL(c);if(PD(n))return n}catch{}return null}function Ht(c,t,e,n=!1){return Object.defineProperty(c,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const Nr=function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();class $0 extends Nr{constructor(t,e){super(t,"PasswordException"),this.code=e}}class W0 extends Nr{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class ow extends Nr{constructor(t){super(t,"InvalidPDFException")}}class po extends Nr{constructor(t){super(t,"MissingPDFException")}}class rm extends Nr{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class HD extends Nr{constructor(t){super(t,"FormatError")}}class go extends Nr{constructor(t){super(t,"AbortException")}}function cw(c){(typeof c!="object"||(c==null?void 0:c.length)===void 0)&&ae("Invalid argument for bytesToString");const t=c.length,e=8192;if(t<e)return String.fromCharCode.apply(null,c);const n=[];for(let r=0;r<t;r+=e){const l=Math.min(r+e,t),h=c.subarray(r,l);n.push(String.fromCharCode.apply(null,h))}return n.join("")}function lm(c){typeof c!="string"&&ae("Invalid argument for stringToBytes");const t=c.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=c.charCodeAt(n)&255;return e}function zD(c){return String.fromCharCode(c>>24&255,c>>16&255,c>>8&255,c&255)}function Sv(c){const t=Object.create(null);for(const[e,n]of c)t[e]=n;return t}function ID(){const c=new Uint8Array(4);return c[0]=1,new Uint32Array(c.buffer,0,1)[0]===1}function UD(){try{return new Function(""),!0}catch{return!1}}class vi{static get isLittleEndian(){return Ht(this,"isLittleEndian",ID())}static get isEvalSupported(){return Ht(this,"isEvalSupported",UD())}static get isOffscreenCanvasSupported(){return Ht(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ht(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Ht(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return Ht(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const H0=Array.from(Array(256).keys(),c=>c.toString(16).padStart(2,"0"));var ya,Wp,Z0;class ut{static makeHexColor(t,e,n){return`#${H0[t]}${H0[e]}${H0[n]}`}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const n=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];return[n,r]}static applyInverseTransform(t,e){const n=e[0]*e[3]-e[1]*e[2],r=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,l=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n;return[r,l]}static getAxialAlignedBoundingBox(t,e){const n=this.applyTransform(t,e),r=this.applyTransform(t.slice(2,4),e),l=this.applyTransform([t[0],t[3]],e),h=this.applyTransform([t[2],t[1]],e);return[Math.min(n[0],r[0],l[0],h[0]),Math.min(n[1],r[1],l[1],h[1]),Math.max(n[0],r[0],l[0],h[0]),Math.max(n[1],r[1],l[1],h[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],l=t[2]*e[0]+t[3]*e[2],h=t[2]*e[1]+t[3]*e[3],d=(n+h)/2,p=Math.sqrt((n+h)**2-4*(n*h-l*r))/2,g=d+p||1,m=d-p||1;return[Math.sqrt(g),Math.sqrt(m)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>r)return null;const l=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),h=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return l>h?null:[n,l,r,h]}static bezierBoundingBox(t,e,n,r,l,h,d,p,g){return g?(g[0]=Math.min(g[0],t,d),g[1]=Math.min(g[1],e,p),g[2]=Math.max(g[2],t,d),g[3]=Math.max(g[3],e,p)):g=[Math.min(t,d),Math.min(e,p),Math.max(t,d),Math.max(e,p)],w(this,ya,Z0).call(this,t,n,l,d,e,r,h,p,3*(-t+3*(n-l)+d),6*(t-2*n+l),3*(n-t),g),w(this,ya,Z0).call(this,t,n,l,d,e,r,h,p,3*(-e+3*(r-h)+p),6*(e-2*r+h),3*(r-e),g),g}}ya=new WeakSet,Wp=function(t,e,n,r,l,h,d,p,g,m){if(g<=0||g>=1)return;const b=1-g,v=g*g,A=v*g,E=b*(b*(b*t+3*g*e)+3*v*n)+A*r,T=b*(b*(b*l+3*g*h)+3*v*d)+A*p;m[0]=Math.min(m[0],E),m[1]=Math.min(m[1],T),m[2]=Math.max(m[2],E),m[3]=Math.max(m[3],T)},Z0=function(t,e,n,r,l,h,d,p,g,m,b,v){if(Math.abs(g)<1e-12){Math.abs(m)>=1e-12&&w(this,ya,Wp).call(this,t,e,n,r,l,h,d,p,-b/m,v);return}const A=m**2-4*b*g;if(A<0)return;const E=Math.sqrt(A),T=2*g;w(this,ya,Wp).call(this,t,e,n,r,l,h,d,p,(-m+E)/T,v),w(this,ya,Wp).call(this,t,e,n,r,l,h,d,p,(-m-E)/T,v)},x(ut,ya);function BD(c){return decodeURIComponent(escape(c))}let z0=null,iE=null;function qD(c){return z0||(z0=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,iE=new Map([["ﬅ","ſt"]])),c.replaceAll(z0,(t,e,n)=>e?e.normalize("NFKC"):iE.get(n))}function jD(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const c=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(c);else for(let t=0;t<32;t++)c[t]=Math.floor(Math.random()*255);return cw(c)}const Ev="pdfjs_internal_id_",Hn={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function GD(c){return Uint8Array.prototype.toBase64?c.toBase64():btoa(cw(c))}const Un="http://www.w3.org/2000/svg",sl=class sl{};bt(sl,"CSS",96),bt(sl,"PDF",72),bt(sl,"PDF_TO_CSS_UNITS",sl.CSS/sl.PDF);let Mr=sl;async function om(c,t="text"){if(Mh(c,document.baseURI)){const e=await fetch(c);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const r=new XMLHttpRequest;r.open("GET",c,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class Sf{constructor({viewBox:t,scale:e,rotation:n,offsetX:r=0,offsetY:l=0,dontFlip:h=!1}){this.viewBox=t,this.scale=e,this.rotation=n,this.offsetX=r,this.offsetY=l;const d=(t[2]+t[0])/2,p=(t[3]+t[1])/2;let g,m,b,v;switch(n%=360,n<0&&(n+=360),n){case 180:g=-1,m=0,b=0,v=1;break;case 90:g=0,m=1,b=1,v=0;break;case 270:g=0,m=-1,b=-1,v=0;break;case 0:g=1,m=0,b=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}h&&(b=-b,v=-v);let A,E,T,M;g===0?(A=Math.abs(p-t[1])*e+r,E=Math.abs(d-t[0])*e+l,T=(t[3]-t[1])*e,M=(t[2]-t[0])*e):(A=Math.abs(d-t[0])*e+r,E=Math.abs(p-t[1])*e+l,T=(t[2]-t[0])*e,M=(t[3]-t[1])*e),this.transform=[g*e,m*e,b*e,v*e,A-g*e*d-b*e*p,E-m*e*d-v*e*p],this.width=T,this.height=M}get rawDims(){const{viewBox:t}=this;return Ht(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:l=!1}={}){return new Sf({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:l})}convertToViewportPoint(t,e){return ut.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=ut.applyTransform([t[0],t[1]],this.transform),n=ut.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){return ut.applyInverseTransform([t,e],this.transform)}}class wv extends Nr{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function cm(c){const t=c.length;let e=0;for(;e<t&&c[e].trim()==="";)e++;return c.substring(e,e+5).toLowerCase()==="data:"}function Tv(c){return typeof c=="string"&&/\.pdf$/i.test(c)}function XD(c){return[c]=c.split(/[#?]/,1),c.substring(c.lastIndexOf("/")+1)}function YD(c,t="document.pdf"){if(typeof c!="string")return t;if(cm(c))return Rt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=e.exec(c);let l=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(l&&(l=l[0],l.includes("%")))try{l=n.exec(decodeURIComponent(l))[0]}catch{}return l||t}class sE{constructor(){bt(this,"started",Object.create(null));bt(this,"times",[])}time(t){t in this.started&&Rt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Rt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:r,end:l}of this.times)t.push(`${n.padEnd(e)} ${l-r}ms
`);return t.join("")}}function Mh(c,t){try{const{protocol:e}=t?new URL(c,t):new URL(c);return e==="http:"||e==="https:"}catch{return!1}}function _s(c){c.preventDefault()}function nE(c){console.log("Deprecated API usage: "+c)}var id;class xv{static toDateObject(t){if(!t||typeof t!="string")return null;u(this,id)||S(this,id,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=u(this,id).exec(t);if(!e)return null;const n=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let l=parseInt(e[3],10);l=l>=1&&l<=31?l:1;let h=parseInt(e[4],10);h=h>=0&&h<=23?h:0;let d=parseInt(e[5],10);d=d>=0&&d<=59?d:0;let p=parseInt(e[6],10);p=p>=0&&p<=59?p:0;const g=e[7]||"Z";let m=parseInt(e[8],10);m=m>=0&&m<=23?m:0;let b=parseInt(e[9],10)||0;return b=b>=0&&b<=59?b:0,g==="-"?(h+=m,d+=b):g==="+"&&(h-=m,d-=b),new Date(Date.UTC(n,r,l,h,d,p))}}id=new WeakMap,x(xv,id);function VD(c,{scale:t=1,rotation:e=0}){const{width:n,height:r}=c.attributes.style,l=[0,0,parseInt(n),parseInt(r)];return new Sf({viewBox:l,scale:t,rotation:e})}function Cv(c){if(c.startsWith("#")){const t=parseInt(c.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return c.startsWith("rgb(")?c.slice(4,-1).split(",").map(t=>parseInt(t)):c.startsWith("rgba(")?c.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Rt(`Not a valid color format: "${c}"`),[0,0,0])}function KD(c){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of c.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;c.set(e,Cv(n))}t.remove()}function fe(c){const{a:t,b:e,c:n,d:r,e:l,f:h}=c.getTransform();return[t,e,n,r,l,h]}function zn(c){const{a:t,b:e,c:n,d:r,e:l,f:h}=c.getTransform().invertSelf();return[t,e,n,r,l,h]}function oo(c,t,e=!1,n=!0){if(t instanceof Sf){const{pageWidth:r,pageHeight:l}=t.rawDims,{style:h}=c,d=vi.isCSSRoundSupported,p=`var(--scale-factor) * ${r}px`,g=`var(--scale-factor) * ${l}px`,m=d?`round(down, ${p}, var(--scale-round-x, 1px))`:`calc(${p})`,b=d?`round(down, ${g}, var(--scale-round-y, 1px))`:`calc(${g})`;!e||t.rotation%180===0?(h.width=m,h.height=b):(h.width=b,h.height=m)}n&&c.setAttribute("data-main-rotation",t.rotation)}class J0{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var ir,ul,Ds,hl,sd,nd,kg,uw,Ai,hw,dw,Zp,fw,eb;const Bn=class Bn{constructor(t){x(this,Ai);x(this,ir,null);x(this,ul,null);x(this,Ds);x(this,hl,null);x(this,sd,null);S(this,Ds,t),u(Bn,nd)||S(Bn,nd,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=S(this,ir,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=u(this,Ds)._uiManager._signal;t.addEventListener("contextmenu",_s,{signal:e}),t.addEventListener("pointerdown",w(Bn,kg,uw),{signal:e});const n=S(this,hl,document.createElement("div"));n.className="buttons",t.append(n);const r=u(this,Ds).toolbarPosition;if(r){const{style:l}=t,h=u(this,Ds)._uiManager.direction==="ltr"?1-r[0]:r[0];l.insetInlineEnd=`${100*h}%`,l.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return w(this,Ai,fw).call(this),t}get div(){return u(this,ir)}hide(){var t;u(this,ir).classList.add("hidden"),(t=u(this,ul))==null||t.hideDropdown()}show(){var t;u(this,ir).classList.remove("hidden"),(t=u(this,sd))==null||t.shown()}async addAltText(t){const e=await t.render();w(this,Ai,Zp).call(this,e),u(this,hl).prepend(e,u(this,Ai,eb)),S(this,sd,t)}addColorPicker(t){S(this,ul,t);const e=t.renderButton();w(this,Ai,Zp).call(this,e),u(this,hl).prepend(e,u(this,Ai,eb))}remove(){var t;u(this,ir).remove(),(t=u(this,ul))==null||t.destroy(),S(this,ul,null)}};ir=new WeakMap,ul=new WeakMap,Ds=new WeakMap,hl=new WeakMap,sd=new WeakMap,nd=new WeakMap,kg=new WeakSet,uw=function(t){t.stopPropagation()},Ai=new WeakSet,hw=function(t){u(this,Ds)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},dw=function(t){u(this,Ds)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},Zp=function(t){const e=u(this,Ds)._uiManager._signal;t.addEventListener("focusin",w(this,Ai,hw).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",w(this,Ai,dw).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",_s,{signal:e})},fw=function(){const{editorType:t,_uiManager:e}=u(this,Ds),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",u(Bn,nd)[t]),w(this,Ai,Zp).call(this,n),n.addEventListener("click",r=>{e.delete()},{signal:e._signal}),u(this,hl).append(n)},eb=function(){const t=document.createElement("div");return t.className="divider",t},x(Bn,kg),x(Bn,nd,null);let tb=Bn;var ad,dl,fl,Or,pw,gw,mw;class QD{constructor(t){x(this,Or);x(this,ad,null);x(this,dl,null);x(this,fl);S(this,fl,t)}show(t,e,n){const[r,l]=w(this,Or,gw).call(this,e,n),{style:h}=u(this,dl)||S(this,dl,w(this,Or,pw).call(this));t.append(u(this,dl)),h.insetInlineEnd=`${100*r}%`,h.top=`calc(${100*l}% + var(--editor-toolbar-vert-offset))`}hide(){u(this,dl).remove()}}ad=new WeakMap,dl=new WeakMap,fl=new WeakMap,Or=new WeakSet,pw=function(){const t=S(this,dl,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",_s,{signal:u(this,fl)._signal});const e=S(this,ad,document.createElement("div"));return e.className="buttons",t.append(e),w(this,Or,mw).call(this),t},gw=function(t,e){let n=0,r=0;for(const l of t){const h=l.y+l.height;if(h<n)continue;const d=l.x+(e?l.width:0);if(h>n){r=d,n=h;continue}e?d>r&&(r=d):d<r&&(r=d)}return[e?1-r:r,n]},mw=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=u(this,fl)._signal;t.addEventListener("contextmenu",_s,{signal:n}),t.addEventListener("click",()=>{u(this,fl).highlightSelection("floating_button")},{signal:n}),u(this,ad).append(t)};function Rg(c,t,e){for(const n of e)t.addEventListener(n,c[n].bind(c))}function $D(c){return Math.round(Math.min(255,Math.max(1,255*c))).toString(16).padStart(2,"0")}var Ng;class WD{constructor(){x(this,Ng,0)}get id(){return`${DD}${Ue(this,Ng)._++}`}}Ng=new WeakMap;var Ec,rd,ri,wc,Jp;const Pv=class Pv{constructor(){x(this,wc);x(this,Ec,jD());x(this,rd,0);x(this,ri,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const l=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Ht(this,"_isSVGFittingCanvas",l)}async getFromFile(t){const{lastModified:e,name:n,size:r,type:l}=t;return w(this,wc,Jp).call(this,`${e}_${n}_${r}_${l}`,t)}async getFromUrl(t){return w(this,wc,Jp).call(this,t,t)}async getFromBlob(t,e){const n=await e;return w(this,wc,Jp).call(this,t,n)}async getFromId(t){u(this,ri)||S(this,ri,new Map);const e=u(this,ri).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){u(this,ri)||S(this,ri,new Map);let n=u(this,ri).get(t);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${u(this,Ec)}_${Ue(this,rd)._++}`,refCounter:1,isSvg:!1},u(this,ri).set(t,n),u(this,ri).set(n.id,n),n}getSvgUrl(t){const e=u(this,ri).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var r;u(this,ri)||S(this,ri,new Map);const e=u(this,ri).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const l=new OffscreenCanvas(n.width,n.height);l.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=l.convertToBlob()}(r=n.close)==null||r.call(n),e.bitmap=null}isValidId(t){return t.startsWith(`image_${u(this,Ec)}_`)}};Ec=new WeakMap,rd=new WeakMap,ri=new WeakMap,wc=new WeakSet,Jp=async function(t,e){u(this,ri)||S(this,ri,new Map);let n=u(this,ri).get(t);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${u(this,Ec)}_${Ue(this,rd)._++}`,refCounter:0,isSvg:!1});let r;if(typeof e=="string"?(n.url=e,r=await om(e,"blob")):e instanceof File?r=n.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const l=Pv._isSVGFittingCanvas,h=new FileReader,d=new Image,p=new Promise((g,m)=>{d.onload=()=>{n.bitmap=d,n.isSvg=!0,g()},h.onload=async()=>{const b=n.svgUrl=h.result;d.src=await l?`${b}#svgView(preserveAspectRatio(none))`:b},d.onerror=h.onerror=m});h.readAsDataURL(r),await p}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){console.error(r),n=null}return u(this,ri).set(t,n),n&&u(this,ri).set(n.id,n),n};let ib=Pv;var Be,sr,ld,qe;class ZD{constructor(t=128){x(this,Be,[]);x(this,sr,!1);x(this,ld);x(this,qe,-1);S(this,ld,t)}add({cmd:t,undo:e,post:n,mustExec:r,type:l=NaN,overwriteIfSameType:h=!1,keepUndo:d=!1}){if(r&&t(),u(this,sr))return;const p={cmd:t,undo:e,post:n,type:l};if(u(this,qe)===-1){u(this,Be).length>0&&(u(this,Be).length=0),S(this,qe,0),u(this,Be).push(p);return}if(h&&u(this,Be)[u(this,qe)].type===l){d&&(p.undo=u(this,Be)[u(this,qe)].undo),u(this,Be)[u(this,qe)]=p;return}const g=u(this,qe)+1;g===u(this,ld)?u(this,Be).splice(0,1):(S(this,qe,g),g<u(this,Be).length&&u(this,Be).splice(g)),u(this,Be).push(p)}undo(){if(u(this,qe)===-1)return;S(this,sr,!0);const{undo:t,post:e}=u(this,Be)[u(this,qe)];t(),e==null||e(),S(this,sr,!1),S(this,qe,u(this,qe)-1)}redo(){if(u(this,qe)<u(this,Be).length-1){S(this,qe,u(this,qe)+1),S(this,sr,!0);const{cmd:t,post:e}=u(this,Be)[u(this,qe)];t(),e==null||e(),S(this,sr,!1)}}hasSomethingToUndo(){return u(this,qe)!==-1}hasSomethingToRedo(){return u(this,qe)<u(this,Be).length-1}destroy(){S(this,Be,null)}}Be=new WeakMap,sr=new WeakMap,ld=new WeakMap,qe=new WeakMap;var Pg,yw;class Ef{constructor(t){x(this,Pg);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=vi.platform;for(const[n,r,l={}]of t)for(const h of n){const d=h.startsWith("mac+");e&&d?(this.callbacks.set(h.slice(4),{callback:r,options:l}),this.allKeys.add(h.split("+").at(-1))):!e&&!d&&(this.callbacks.set(h,{callback:r,options:l}),this.allKeys.add(h.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(w(this,Pg,yw).call(this,e));if(!n)return;const{callback:r,options:{bubbles:l=!1,args:h=[],checker:d=null}}=n;d&&!d(t,e)||(r.bind(t,...h,e)(),l||(e.stopPropagation(),e.preventDefault()))}}Pg=new WeakSet,yw=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const Fg=class Fg{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return KD(t),Ht(this,"_colors",t)}convert(t){const e=Cv(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,r]of this._colors)if(r.every((l,h)=>l===e[h]))return Fg._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?ut.makeHexColor(...e):t}};bt(Fg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let sb=Fg;var Tc,Gi,Oe,$e,xc,Gn,Cc,Os,nr,Rc,pl,sn,Ls,gl,od,cd,Mc,ud,nn,ar,Dc,rr,an,Hg,lr,hd,or,ml,dd,fd,je,Yt,Xn,yl,pd,gd,cr,rn,Yn,md,fs,st,tg,nb,bw,vw,eg,Aw,_w,Sw,ab,Ew,rb,lb,ww,fi,Ka,Tw,xw,ob,Cw,Dh,cb;const hc=class hc{constructor(t,e,n,r,l,h,d,p,g,m,b){x(this,st);x(this,Tc,new AbortController);x(this,Gi,null);x(this,Oe,new Map);x(this,$e,new Map);x(this,xc,null);x(this,Gn,null);x(this,Cc,null);x(this,Os,new ZD);x(this,nr,null);x(this,Rc,0);x(this,pl,new Set);x(this,sn,null);x(this,Ls,null);x(this,gl,new Set);x(this,od,!1);x(this,cd,!1);x(this,Mc,!1);x(this,ud,null);x(this,nn,null);x(this,ar,null);x(this,Dc,null);x(this,rr,!1);x(this,an,null);x(this,Hg,new WD);x(this,lr,!1);x(this,hd,!1);x(this,or,null);x(this,ml,null);x(this,dd,null);x(this,fd,null);x(this,je,wt.NONE);x(this,Yt,new Set);x(this,Xn,null);x(this,yl,null);x(this,pd,null);x(this,gd,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});x(this,cr,[0,0]);x(this,rn,null);x(this,Yn,null);x(this,md,null);x(this,fs,null);const v=this._signal=u(this,Tc).signal;S(this,Yn,t),S(this,md,e),S(this,xc,n),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:v}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),r._on("setpreference",this.onSetPreference.bind(this),{signal:v}),r._on("switchannotationeditorparams",A=>this.updateParams(A.type,A.value),{signal:v}),w(this,st,Aw).call(this),w(this,st,ww).call(this),w(this,st,ab).call(this),S(this,Gn,l.annotationStorage),S(this,ud,l.filterFactory),S(this,yl,h),S(this,Dc,d||null),S(this,od,p),S(this,cd,g),S(this,Mc,m),S(this,fd,b||null),this.viewParameters={realScale:Mr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=hc.prototype,e=h=>u(h,Yn).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&h.hasSomethingToControl(),n=(h,{target:d})=>{if(d instanceof HTMLInputElement){const{type:p}=d;return p!=="text"&&p!=="number"}return!0},r=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return Ht(this,"_keyboardManager",new Ef([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(h,{target:d})=>!(d instanceof HTMLButtonElement)&&u(h,Yn).contains(d)&&!h.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(h,{target:d})=>!(d instanceof HTMLButtonElement)&&u(h,Yn).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-l,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[l,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-l],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,l],checker:e}]]))}destroy(){var t,e,n,r;(t=u(this,fs))==null||t.resolve(),S(this,fs,null),(e=u(this,Tc))==null||e.abort(),S(this,Tc,null),this._signal=null;for(const l of u(this,$e).values())l.destroy();u(this,$e).clear(),u(this,Oe).clear(),u(this,gl).clear(),S(this,Gi,null),u(this,Yt).clear(),u(this,Os).destroy(),(n=u(this,xc))==null||n.destroy(),(r=u(this,an))==null||r.hide(),S(this,an,null),u(this,nn)&&(clearTimeout(u(this,nn)),S(this,nn,null)),u(this,rn)&&(clearTimeout(u(this,rn)),S(this,rn,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return u(this,fd)}get useNewAltTextFlow(){return u(this,cd)}get useNewAltTextWhenAddingImage(){return u(this,Mc)}get hcmFilter(){return Ht(this,"hcmFilter",u(this,yl)?u(this,ud).addHCMFilter(u(this,yl).foreground,u(this,yl).background):"none")}get direction(){return Ht(this,"direction",getComputedStyle(u(this,Yn)).direction)}get highlightColors(){return Ht(this,"highlightColors",u(this,Dc)?new Map(u(this,Dc).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Ht(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){S(this,dd,t)}editAltText(t,e=!1){var n;(n=u(this,xc))==null||n.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":S(this,Mc,e);break}}onPageChanging({pageNumber:t}){S(this,Rc,t-1)}focusMainContainer(){u(this,Yn).focus()}findParent(t,e){for(const n of u(this,$e).values()){const{x:r,y:l,width:h,height:d}=n.div.getBoundingClientRect();if(t>=r&&t<=r+h&&e>=l&&e<=l+d)return n}return null}disableUserSelect(t=!1){u(this,md).classList.toggle("noUserSelect",t)}addShouldRescale(t){u(this,gl).add(t)}removeShouldRescale(t){u(this,gl).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Mr.PDF_TO_CSS_UNITS;for(const e of u(this,gl))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:l,focusOffset:h}=e,d=e.toString(),g=w(this,st,tg).call(this,e).closest(".textLayer"),m=this.getSelectionBoxes(g);if(!m)return;e.empty();const b=w(this,st,nb).call(this,g),v=u(this,je)===wt.NONE,A=()=>{b==null||b.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:n,anchorOffset:r,focusNode:l,focusOffset:h,text:d}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(wt.HIGHLIGHT,A);return}A()}addToAnnotationStorage(t){!t.isEmpty()&&u(this,Gn)&&!u(this,Gn).has(t.id)&&u(this,Gn).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,u(this,rr)&&(S(this,rr,!1),w(this,st,eg).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of u(this,Yt))if(e.div.contains(t)){S(this,ml,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!u(this,ml))return;const[t,e]=u(this,ml);S(this,ml,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){w(this,st,ab).call(this),w(this,st,rb).call(this)}removeEditListeners(){w(this,st,Ew).call(this),w(this,st,lb).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of u(this,Ls))if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of u(this,Ls))if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var n;if(t.preventDefault(),(n=u(this,Gi))==null||n.commitOrRemove(),!this.hasSelection)return;const e=[];for(const r of u(this,Yt)){const l=r.serialize(!0);l&&e.push(l)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const l of e.items)for(const h of u(this,Ls))if(h.isHandlingMimeForPasting(l.type)){h.paste(l,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(l){Rt(`paste: "${l.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const l=[];for(const p of n){const g=await r.deserialize(p);if(!g)return;l.push(g)}const h=()=>{for(const p of l)w(this,st,ob).call(this,p);w(this,st,cb).call(this,l)},d=()=>{for(const p of l)p.remove()};this.addCommands({cmd:h,undo:d,mustExec:!0})}catch(l){Rt(`paste: "${l.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),u(this,je)!==wt.NONE&&!this.isEditorHandlingKeyboard&&hc._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,u(this,rr)&&(S(this,rr,!1),w(this,st,eg).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(w(this,st,_w).call(this),w(this,st,rb).call(this),w(this,st,fi).call(this,{isEditing:u(this,je)!==wt.NONE,isEmpty:w(this,st,Dh).call(this),hasSomethingToUndo:u(this,Os).hasSomethingToUndo(),hasSomethingToRedo:u(this,Os).hasSomethingToRedo(),hasSelectedEditor:!1})):(w(this,st,Sw).call(this),w(this,st,lb).call(this),w(this,st,fi).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!u(this,Ls)){S(this,Ls,t);for(const e of u(this,Ls))w(this,st,Ka).call(this,e.defaultPropertiesToUpdate)}}getId(){return u(this,Hg).id}get currentLayer(){return u(this,$e).get(u(this,Rc))}getLayer(t){return u(this,$e).get(t)}get currentPageIndex(){return u(this,Rc)}addLayer(t){u(this,$e).set(t.pageIndex,t),u(this,lr)?t.enable():t.disable()}removeLayer(t){u(this,$e).delete(t.pageIndex)}async updateMode(t,e=null,n=!1){if(u(this,je)!==t&&!(u(this,fs)&&(await u(this,fs).promise,!u(this,fs)))){if(S(this,fs,Promise.withResolvers()),S(this,je,t),t===wt.NONE){this.setEditingState(!1),w(this,st,xw).call(this),u(this,fs).resolve();return}this.setEditingState(!0),await w(this,st,Tw).call(this),this.unselectAll();for(const r of u(this,$e).values())r.updateMode(t);if(!e){n&&this.addNewEditorFromKeyboard(),u(this,fs).resolve();return}for(const r of u(this,Oe).values())r.annotationElementId===e?(this.setSelected(r),r.enterInEditMode()):r.unselect();u(this,fs).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==u(this,je)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var n;if(u(this,Ls)){switch(t){case vt.CREATE:this.currentLayer.addNewEditor();return;case vt.HIGHLIGHT_DEFAULT_COLOR:(n=u(this,dd))==null||n.updateColor(e);break;case vt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(u(this,pd)||S(this,pd,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const r of u(this,Yt))r.updateParams(t,e);for(const r of u(this,Ls))r.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){var l;for(const h of u(this,Oe).values())h.editorType===t&&h.show(e);(((l=u(this,pd))==null?void 0:l.get(vt.HIGHLIGHT_SHOW_ALL))??!0)!==e&&w(this,st,Ka).call(this,[[vt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(u(this,hd)!==t){S(this,hd,t);for(const e of u(this,$e).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const n of u(this,Oe).values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return u(this,Oe).get(t)}addEditor(t){u(this,Oe).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(u(this,nn)&&clearTimeout(u(this,nn)),S(this,nn,setTimeout(()=>{this.focusMainContainer(),S(this,nn,null)},0))),u(this,Oe).delete(t.id),this.unselect(t),(!t.annotationElementId||!u(this,pl).has(t.annotationElementId))&&((e=u(this,Gn))==null||e.remove(t.id))}addDeletedAnnotationElement(t){u(this,pl).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return u(this,pl).has(t)}removeDeletedAnnotationElement(t){u(this,pl).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){u(this,Gi)!==t&&(S(this,Gi,t),t&&w(this,st,Ka).call(this,t.propertiesToUpdate))}updateUI(t){u(this,st,Cw)===t&&w(this,st,Ka).call(this,t.propertiesToUpdate)}toggleSelected(t){if(u(this,Yt).has(t)){u(this,Yt).delete(t),t.unselect(),w(this,st,fi).call(this,{hasSelectedEditor:this.hasSelection});return}u(this,Yt).add(t),t.select(),w(this,st,Ka).call(this,t.propertiesToUpdate),w(this,st,fi).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of u(this,Yt))e!==t&&e.unselect();u(this,Yt).clear(),u(this,Yt).add(t),t.select(),w(this,st,Ka).call(this,t.propertiesToUpdate),w(this,st,fi).call(this,{hasSelectedEditor:!0})}isSelected(t){return u(this,Yt).has(t)}get firstSelectedEditor(){return u(this,Yt).values().next().value}unselect(t){t.unselect(),u(this,Yt).delete(t),w(this,st,fi).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return u(this,Yt).size!==0}get isEnterHandled(){return u(this,Yt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){u(this,Os).undo(),w(this,st,fi).call(this,{hasSomethingToUndo:u(this,Os).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:w(this,st,Dh).call(this)})}redo(){u(this,Os).redo(),w(this,st,fi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,Os).hasSomethingToRedo(),isEmpty:w(this,st,Dh).call(this)})}addCommands(t){u(this,Os).add(t),w(this,st,fi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:w(this,st,Dh).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...u(this,Yt)],e=()=>{for(const r of t)r.remove()},n=()=>{for(const r of t)w(this,st,ob).call(this,r)};this.addCommands({cmd:e,undo:n,mustExec:!0})}commitOrRemove(){var t;(t=u(this,Gi))==null||t.commitOrRemove()}hasSomethingToControl(){return u(this,Gi)||this.hasSelection}selectAll(){for(const t of u(this,Yt))t.commit();w(this,st,cb).call(this,u(this,Oe).values())}unselectAll(){if(!(u(this,Gi)&&(u(this,Gi).commitOrRemove(),u(this,je)!==wt.NONE))&&this.hasSelection){for(const t of u(this,Yt))t.unselect();u(this,Yt).clear(),w(this,st,fi).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;u(this,cr)[0]+=t,u(this,cr)[1]+=e;const[r,l]=u(this,cr),h=[...u(this,Yt)],d=1e3;u(this,rn)&&clearTimeout(u(this,rn)),S(this,rn,setTimeout(()=>{S(this,rn,null),u(this,cr)[0]=u(this,cr)[1]=0,this.addCommands({cmd:()=>{for(const p of h)u(this,Oe).has(p.id)&&p.translateInPage(r,l)},undo:()=>{for(const p of h)u(this,Oe).has(p.id)&&p.translateInPage(-r,-l)},mustExec:!1})},d));for(const p of h)p.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),S(this,sn,new Map);for(const t of u(this,Yt))u(this,sn).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!u(this,sn))return!1;this.disableUserSelect(!1);const t=u(this,sn);S(this,sn,null);let e=!1;for(const[{x:r,y:l,pageIndex:h},d]of t)d.newX=r,d.newY=l,d.newPageIndex=h,e||(e=r!==d.savedX||l!==d.savedY||h!==d.savedPageIndex);if(!e)return!1;const n=(r,l,h,d)=>{if(u(this,Oe).has(r.id)){const p=u(this,$e).get(d);p?r._setParentAndPosition(p,l,h):(r.pageIndex=d,r.x=l,r.y=h)}};return this.addCommands({cmd:()=>{for(const[r,{newX:l,newY:h,newPageIndex:d}]of t)n(r,l,h,d)},undo:()=>{for(const[r,{savedX:l,savedY:h,savedPageIndex:d}]of t)n(r,l,h,d)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(u(this,sn))for(const n of u(this,sn).keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||u(this,Yt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return u(this,Gi)===t}getActive(){return u(this,Gi)}getMode(){return u(this,je)}get imageManager(){return Ht(this,"imageManager",new ib)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let g=0,m=e.rangeCount;g<m;g++)if(!t.contains(e.getRangeAt(g).commonAncestorContainer))return null;const{x:n,y:r,width:l,height:h}=t.getBoundingClientRect();let d;switch(t.getAttribute("data-main-rotation")){case"90":d=(g,m,b,v)=>({x:(m-r)/h,y:1-(g+b-n)/l,width:v/h,height:b/l});break;case"180":d=(g,m,b,v)=>({x:1-(g+b-n)/l,y:1-(m+v-r)/h,width:b/l,height:v/h});break;case"270":d=(g,m,b,v)=>({x:1-(m+v-r)/h,y:(g-n)/l,width:v/h,height:b/l});break;default:d=(g,m,b,v)=>({x:(g-n)/l,y:(m-r)/h,width:b/l,height:v/h});break}const p=[];for(let g=0,m=e.rangeCount;g<m;g++){const b=e.getRangeAt(g);if(!b.collapsed)for(const{x:v,y:A,width:E,height:T}of b.getClientRects())E===0||T===0||p.push(d(v,A,E,T))}return p.length===0?null:p}addChangedExistingAnnotation({annotationElementId:t,id:e}){(u(this,Cc)||S(this,Cc,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=u(this,Cc))==null||e.delete(t)}renderAnnotationElement(t){var r;const e=(r=u(this,Cc))==null?void 0:r.get(t.data.id);if(!e)return;const n=u(this,Gn).getRawValue(e);n&&(u(this,je)===wt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}};Tc=new WeakMap,Gi=new WeakMap,Oe=new WeakMap,$e=new WeakMap,xc=new WeakMap,Gn=new WeakMap,Cc=new WeakMap,Os=new WeakMap,nr=new WeakMap,Rc=new WeakMap,pl=new WeakMap,sn=new WeakMap,Ls=new WeakMap,gl=new WeakMap,od=new WeakMap,cd=new WeakMap,Mc=new WeakMap,ud=new WeakMap,nn=new WeakMap,ar=new WeakMap,Dc=new WeakMap,rr=new WeakMap,an=new WeakMap,Hg=new WeakMap,lr=new WeakMap,hd=new WeakMap,or=new WeakMap,ml=new WeakMap,dd=new WeakMap,fd=new WeakMap,je=new WeakMap,Yt=new WeakMap,Xn=new WeakMap,yl=new WeakMap,pd=new WeakMap,gd=new WeakMap,cr=new WeakMap,rn=new WeakMap,Yn=new WeakMap,md=new WeakMap,fs=new WeakMap,st=new WeakSet,tg=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},nb=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of u(this,$e).values())if(n.hasTextLayer(t))return n;return null},bw=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=w(this,st,tg).call(this,t).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(u(this,an)||S(this,an,new QD(this)),u(this,an).show(n,r,this.direction==="ltr"))},vw=function(){var l,h,d;const t=document.getSelection();if(!t||t.isCollapsed){u(this,Xn)&&((l=u(this,an))==null||l.hide(),S(this,Xn,null),w(this,st,fi).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===u(this,Xn))return;const r=w(this,st,tg).call(this,t).closest(".textLayer");if(!r){u(this,Xn)&&((h=u(this,an))==null||h.hide(),S(this,Xn,null),w(this,st,fi).call(this,{hasSelectedText:!1}));return}if((d=u(this,an))==null||d.hide(),S(this,Xn,e),w(this,st,fi).call(this,{hasSelectedText:!0}),!(u(this,je)!==wt.HIGHLIGHT&&u(this,je)!==wt.NONE)&&(u(this,je)===wt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),S(this,rr,this.isShiftKeyDown),!this.isShiftKeyDown)){const p=u(this,je)===wt.HIGHLIGHT?w(this,st,nb).call(this,r):null;p==null||p.toggleDrawing();const g=new AbortController,m=this.combinedSignal(g),b=v=>{v.type==="pointerup"&&v.button!==0||(g.abort(),p==null||p.toggleDrawing(!0),v.type==="pointerup"&&w(this,st,eg).call(this,"main_toolbar"))};window.addEventListener("pointerup",b,{signal:m}),window.addEventListener("blur",b,{signal:m})}},eg=function(t=""){u(this,je)===wt.HIGHLIGHT?this.highlightSelection(t):u(this,od)&&w(this,st,bw).call(this)},Aw=function(){document.addEventListener("selectionchange",w(this,st,vw).bind(this),{signal:this._signal})},_w=function(){if(u(this,ar))return;S(this,ar,new AbortController);const t=this.combinedSignal(u(this,ar));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},Sw=function(){var t;(t=u(this,ar))==null||t.abort(),S(this,ar,null)},ab=function(){if(u(this,or))return;S(this,or,new AbortController);const t=this.combinedSignal(u(this,or));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},Ew=function(){var t;(t=u(this,or))==null||t.abort(),S(this,or,null)},rb=function(){if(u(this,nr))return;S(this,nr,new AbortController);const t=this.combinedSignal(u(this,nr));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},lb=function(){var t;(t=u(this,nr))==null||t.abort(),S(this,nr,null)},ww=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},fi=function(t){Object.entries(t).some(([n,r])=>u(this,gd)[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,gd),t)}),u(this,je)===wt.HIGHLIGHT&&t.hasSelectedEditor===!1&&w(this,st,Ka).call(this,[[vt.HIGHLIGHT_FREE,!0]]))},Ka=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},Tw=async function(){if(!u(this,lr)){S(this,lr,!0);const t=[];for(const e of u(this,$e).values())t.push(e.enable());await Promise.all(t);for(const e of u(this,Oe).values())e.enable()}},xw=function(){if(this.unselectAll(),u(this,lr)){S(this,lr,!1);for(const t of u(this,$e).values())t.disable();for(const t of u(this,Oe).values())t.disable()}},ob=function(t){const e=u(this,$e).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},Cw=function(){let t=null;for(t of u(this,Yt));return t},Dh=function(){if(u(this,Oe).size===0)return!0;if(u(this,Oe).size===1)for(const t of u(this,Oe).values())return t.isEmpty();return!1},cb=function(t){for(const e of u(this,Yt))e.unselect();u(this,Yt).clear();for(const e of t)e.isEmpty()||(u(this,Yt).add(e),e.select());w(this,st,fi).call(this,{hasSelectedEditor:this.hasSelection})},bt(hc,"TRANSLATE_SMALL",1),bt(hc,"TRANSLATE_BIG",10);let co=hc;var Ge,ln,ks,Oc,on,Xi,Lc,cn,Mi,Vn,bl,un,ur,js,Oh,ig;const pi=class pi{constructor(t){x(this,js);x(this,Ge,null);x(this,ln,!1);x(this,ks,null);x(this,Oc,null);x(this,on,null);x(this,Xi,null);x(this,Lc,!1);x(this,cn,null);x(this,Mi,null);x(this,Vn,null);x(this,bl,null);x(this,un,!1);S(this,Mi,t),S(this,un,t._uiManager.useNewAltTextFlow),u(pi,ur)||S(pi,ur,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){pi._l10n??(pi._l10n=t)}async render(){const t=S(this,ks,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=S(this,Oc,document.createElement("span"));t.append(e),u(this,un)?(t.classList.add("new"),t.setAttribute("data-l10n-id",u(pi,ur).missing),e.setAttribute("data-l10n-id",u(pi,ur)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=u(this,Mi)._uiManager._signal;t.addEventListener("contextmenu",_s,{signal:n}),t.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:n});const r=l=>{l.preventDefault(),u(this,Mi)._uiManager.editAltText(u(this,Mi)),u(this,un)&&u(this,Mi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:u(this,js,Oh)}})};return t.addEventListener("click",r,{capture:!0,signal:n}),t.addEventListener("keydown",l=>{l.target===t&&l.key==="Enter"&&(S(this,Lc,!0),r(l))},{signal:n}),await w(this,js,ig).call(this),t}finish(){u(this,ks)&&(u(this,ks).focus({focusVisible:u(this,Lc)}),S(this,Lc,!1))}isEmpty(){return u(this,un)?u(this,Ge)===null:!u(this,Ge)&&!u(this,ln)}hasData(){return u(this,un)?u(this,Ge)!==null||!!u(this,Vn):this.isEmpty()}get guessedText(){return u(this,Vn)}async setGuessedText(t){u(this,Ge)===null&&(S(this,Vn,t),S(this,bl,await pi._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),w(this,js,ig).call(this))}toggleAltTextBadge(t=!1){var e;if(!u(this,un)||u(this,Ge)){(e=u(this,cn))==null||e.remove(),S(this,cn,null);return}if(!u(this,cn)){const n=S(this,cn,document.createElement("div"));n.className="noAltTextBadge",u(this,Mi).div.append(n)}u(this,cn).classList.toggle("hidden",!t)}serialize(t){let e=u(this,Ge);return!t&&u(this,Vn)===e&&(e=u(this,bl)),{altText:e,decorative:u(this,ln),guessedText:u(this,Vn),textWithDisclaimer:u(this,bl)}}get data(){return{altText:u(this,Ge),decorative:u(this,ln)}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:r,cancel:l=!1}){n&&(S(this,Vn,n),S(this,bl,r)),!(u(this,Ge)===t&&u(this,ln)===e)&&(l||(S(this,Ge,t),S(this,ln,e)),w(this,js,ig).call(this))}toggle(t=!1){u(this,ks)&&(!t&&u(this,Xi)&&(clearTimeout(u(this,Xi)),S(this,Xi,null)),u(this,ks).disabled=!t)}shown(){u(this,Mi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:u(this,js,Oh)}})}destroy(){var t,e;(t=u(this,ks))==null||t.remove(),S(this,ks,null),S(this,Oc,null),S(this,on,null),(e=u(this,cn))==null||e.remove(),S(this,cn,null)}};Ge=new WeakMap,ln=new WeakMap,ks=new WeakMap,Oc=new WeakMap,on=new WeakMap,Xi=new WeakMap,Lc=new WeakMap,cn=new WeakMap,Mi=new WeakMap,Vn=new WeakMap,bl=new WeakMap,un=new WeakMap,ur=new WeakMap,js=new WeakSet,Oh=function(){return u(this,Ge)&&"added"||u(this,Ge)===null&&this.guessedText&&"review"||"missing"},ig=async function(){var r,l,h;const t=u(this,ks);if(!t)return;if(u(this,un)){if(t.classList.toggle("done",!!u(this,Ge)),t.setAttribute("data-l10n-id",u(pi,ur)[u(this,js,Oh)]),(r=u(this,Oc))==null||r.setAttribute("data-l10n-id",u(pi,ur)[`${u(this,js,Oh)}-label`]),!u(this,Ge)){(l=u(this,on))==null||l.remove();return}}else{if(!u(this,Ge)&&!u(this,ln)){t.classList.remove("done"),(h=u(this,on))==null||h.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=u(this,on);if(!e){S(this,on,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${u(this,Mi).id}`;const d=100,p=u(this,Mi)._uiManager._signal;p.addEventListener("abort",()=>{clearTimeout(u(this,Xi)),S(this,Xi,null)},{once:!0}),t.addEventListener("mouseenter",()=>{S(this,Xi,setTimeout(()=>{S(this,Xi,null),u(this,on).classList.add("show"),u(this,Mi)._reportTelemetry({action:"alt_text_tooltip"})},d))},{signal:p}),t.addEventListener("mouseleave",()=>{var g;u(this,Xi)&&(clearTimeout(u(this,Xi)),S(this,Xi,null)),(g=u(this,on))==null||g.classList.remove("show")},{signal:p})}u(this,ln)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=u(this,Ge)),e.parentNode||t.append(e);const n=u(this,Mi).getImageForAltText();n==null||n.setAttribute("aria-describedby",e.id)},x(pi,ur,null),bt(pi,"_l10n",null);let Mg=pi;var vl,Ns,he,kc,Al,We,_l,hr,yd,Sl,dr,bd,El,Kn,hn,Nc,Pc,ps,vd,zg,Tt,ub,Ad,hb,db,Rw,Mw,fb,pb,gb,Dw,mb,Ow,Lw,kw,yb,Lh;const jt=class jt{constructor(t){x(this,Tt);x(this,vl,null);x(this,Ns,null);x(this,he,null);x(this,kc,!1);x(this,Al,!1);x(this,We,null);x(this,_l,null);x(this,hr,null);x(this,yd,"");x(this,Sl,!1);x(this,dr,null);x(this,bd,!1);x(this,El,!1);x(this,Kn,!1);x(this,hn,null);x(this,Nc,0);x(this,Pc,0);x(this,ps,null);bt(this,"_editToolbar",null);bt(this,"_initialOptions",Object.create(null));bt(this,"_initialData",null);bt(this,"_isVisible",!0);bt(this,"_uiManager",null);bt(this,"_focusEventsAllowed",!0);x(this,vd,!1);x(this,zg,jt._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:r,pageX:l,pageY:h}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[l,h];const[d,p]=this.parentDimensions;this.x=t.x/d,this.y=t.y/p,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=jt.prototype._resizeWithKeyboard,e=co.TRANSLATE_SMALL,n=co.TRANSLATE_BIG;return Ht(this,"_resizerKeyboardManager",new Ef([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],jt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ht(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new JD({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(jt._l10n??(jt._l10n=t),jt._l10nResizer||(jt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),jt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);jt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){ae("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return u(this,vd)}set _isDraggable(t){var e;S(this,vd,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=u(this,zg)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):w(this,Tt,Lh).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(u(this,Sl)?S(this,Sl,!1):this.parent.setSelected(this))}focusout(t){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,r){const[l,h]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(t+n)/l,this.y=(e+r)/h,this.fixAndSetPosition()}translate(t,e){w(this,Tt,ub).call(this,this.parentDimensions,t,e)}translateInPage(t,e){u(this,dr)||S(this,dr,[this.x,this.y]),w(this,Tt,ub).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){u(this,dr)||S(this,dr,[this.x,this.y]);const[n,r]=this.parentDimensions;if(this.x+=t/n,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:h}=this;const[d,p]=this.getBaseTranslation();l+=d,h+=p,this.div.style.left=`${(100*l).toFixed(2)}%`,this.div.style.top=`${(100*h).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!u(this,dr)&&(u(this,dr)[0]!==this.x||u(this,dr)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=jt,r=n/t,l=n/e;switch(this.rotation){case 90:return[-r,l];case 180:return[r,l];case 270:return[r,-l];default:return[-r,-l]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,n]=this.pageDimensions;let{x:r,y:l,width:h,height:d}=this;if(h*=e,d*=n,r*=e,l*=n,this._mustFixPosition)switch(t){case 0:r=Math.max(0,Math.min(e-h,r)),l=Math.max(0,Math.min(n-d,l));break;case 90:r=Math.max(0,Math.min(e-d,r)),l=Math.min(n,Math.max(h,l));break;case 180:r=Math.min(e,Math.max(h,r)),l=Math.min(n,Math.max(d,l));break;case 270:r=Math.min(e,Math.max(d,r)),l=Math.max(0,Math.min(n-h,l));break}this.x=r/=e,this.y=l/=n;const[p,g]=this.getBaseTranslation();r+=p,l+=g;const{style:m}=this.div;m.left=`${(100*r).toFixed(2)}%`,m.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var n;return w(n=jt,Ad,hb).call(n,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var n;return w(n=jt,Ad,hb).call(n,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(t,e){const[n,r]=this.parentDimensions;this.div.style.width=`${(100*t/n).toFixed(2)}%`,u(this,Al)||(this.div.style.height=`${(100*e/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,r=n.endsWith("%"),l=!u(this,Al)&&e.endsWith("%");if(r&&l)return;const[h,d]=this.parentDimensions;r||(t.width=`${(100*parseFloat(n)/h).toFixed(2)}%`),!u(this,Al)&&!l&&(t.height=`${(100*parseFloat(e)/d).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=u(this,he))==null||t.finish()}async addEditToolbar(){return this._editToolbar||u(this,El)?this._editToolbar:(this._editToolbar=new tb(this),this.div.append(this._editToolbar.render()),u(this,he)&&await this._editToolbar.addAltText(u(this,he)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=u(this,he))==null||t.destroy())}addContainer(t){var n;const e=(n=this._editToolbar)==null?void 0:n.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){u(this,he)||(Mg.initialize(jt._l10n),S(this,he,new Mg(this)),u(this,vl)&&(u(this,he).data=u(this,vl),S(this,vl,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=u(this,he))==null?void 0:t.data}set altTextData(t){u(this,he)&&(u(this,he).data=t)}get guessedAltText(){var t;return(t=u(this,he))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=u(this,he))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=u(this,he))==null?void 0:e.serialize(t)}hasAltText(){return!!u(this,he)&&!u(this,he).isEmpty()}hasAltTextData(){var t;return((t=u(this,he))==null?void 0:t.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=u(this,kc)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),w(this,Tt,mb).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[n,r]=this.getInitialTranslation();return this.translate(n,r),Rg(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=vi.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(S(this,Sl,!0),this._isDraggable){w(this,Tt,Dw).call(this,t);return}w(this,Tt,gb).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){u(this,hn)&&clearTimeout(u(this,hn)),S(this,hn,setTimeout(()=>{var t;S(this,hn,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition()}getRect(t,e,n=this.rotation){const r=this.parentScale,[l,h]=this.pageDimensions,[d,p]=this.pageTranslation,g=t/r,m=e/r,b=this.x*l,v=this.y*h,A=this.width*l,E=this.height*h;switch(n){case 0:return[b+g+d,h-v-m-E+p,b+g+A+d,h-v-m+p];case 90:return[b+m+d,h-v+g+p,b+m+E+d,h-v+g+A+p];case 180:return[b-g-A+d,h-v+m+p,b-g+d,h-v+m+E+p];case 270:return[b-m-E+d,h-v-g-A+p,b-m+d,h-v-g+p];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,r,l,h]=t,d=l-n,p=h-r;switch(this.rotation){case 0:return[n,e-h,d,p];case 90:return[n,e-r,p,d];case 180:return[l,e-r,d,p];case 270:return[l,e-h,p,d];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){S(this,El,!0)}disableEditMode(){S(this,El,!1)}isInEditMode(){return u(this,El)}shouldGetKeyboardEvents(){return u(this,Kn)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){w(this,Tt,mb).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){ae("An editor must be serializable")}static async deserialize(t,e,n){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n});r.rotation=t.rotation,S(r,vl,t.accessibilityData);const[l,h]=r.pageDimensions,[d,p,g,m]=r.getRectInCurrentCoords(t.rect,h);return r.x=d/l,r.y=p/h,r.width=g/l,r.height=m/h,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=u(this,hr))==null||t.abort(),S(this,hr,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),u(this,hn)&&(clearTimeout(u(this,hn)),S(this,hn,null)),w(this,Tt,Lh).call(this),this.removeEditToolbar(),u(this,ps)){for(const e of u(this,ps).values())clearTimeout(e);S(this,ps,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(w(this,Tt,Rw).call(this),u(this,We).classList.remove("hidden"),Rg(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),S(this,_l,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=u(this,We).children;if(!u(this,Ns)){S(this,Ns,Array.from(e));const h=w(this,Tt,Ow).bind(this),d=w(this,Tt,Lw).bind(this),p=this._uiManager._signal;for(const g of u(this,Ns)){const m=g.getAttribute("data-resizer-name");g.setAttribute("role","spinbutton"),g.addEventListener("keydown",h,{signal:p}),g.addEventListener("blur",d,{signal:p}),g.addEventListener("focus",w(this,Tt,kw).bind(this,m),{signal:p}),g.setAttribute("data-l10n-id",jt._l10nResizer[m])}}const n=u(this,Ns)[0];let r=0;for(const h of e){if(h===n)break;r++}const l=(360-this.rotation+this.parentRotation)%360/90*(u(this,Ns).length/4);if(l!==r){if(l<r)for(let d=0;d<r-l;d++)u(this,We).append(u(this,We).firstChild);else if(l>r)for(let d=0;d<l-r;d++)u(this,We).firstChild.before(u(this,We).lastChild);let h=0;for(const d of e){const g=u(this,Ns)[h++].getAttribute("data-resizer-name");d.setAttribute("data-l10n-id",jt._l10nResizer[g])}}w(this,Tt,yb).call(this,0),S(this,Kn,!0),u(this,We).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){u(this,Kn)&&w(this,Tt,pb).call(this,u(this,yd),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){w(this,Tt,Lh).call(this),this.div.focus()}select(){var t,e,n;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,l;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((l=this._editToolbar)==null||l.show())});return}(e=this._editToolbar)==null||e.show(),(n=u(this,he))==null||n.toggleAltTextBadge(!1)}unselect(){var t,e,n,r,l;(t=u(this,We))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(l=u(this,he))==null||l.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return u(this,bd)}set isEditing(t){S(this,bd,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){S(this,Al,!0);const n=t/e,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){u(this,ps)||S(this,ps,new Map);const{action:n}=t;let r=u(this,ps).get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),u(this,ps).delete(n),u(this,ps).size===0&&S(this,ps,null)},jt._telemetryTimeout),u(this,ps).set(n,r);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),S(this,kc,!1)}disable(){this.div&&(this.div.tabIndex=-1),S(this,kc,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};vl=new WeakMap,Ns=new WeakMap,he=new WeakMap,kc=new WeakMap,Al=new WeakMap,We=new WeakMap,_l=new WeakMap,hr=new WeakMap,yd=new WeakMap,Sl=new WeakMap,dr=new WeakMap,bd=new WeakMap,El=new WeakMap,Kn=new WeakMap,hn=new WeakMap,Nc=new WeakMap,Pc=new WeakMap,ps=new WeakMap,vd=new WeakMap,zg=new WeakMap,Tt=new WeakSet,ub=function([t,e],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/t,this.y+=r/e,this.fixAndSetPosition()},Ad=new WeakSet,hb=function(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},db=function(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}},Rw=function(){if(u(this,We))return;S(this,We,document.createElement("div")),u(this,We).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const r=document.createElement("div");u(this,We).append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",w(this,Tt,Mw).bind(this,n),{signal:e}),r.addEventListener("contextmenu",_s,{signal:e}),r.tabIndex=-1}this.div.prepend(u(this,We))},Mw=function(t,e){var E;e.preventDefault();const{isMac:n}=vi.platform;if(e.button!==0||e.ctrlKey&&n)return;(E=u(this,he))==null||E.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const l=new AbortController,h=this._uiManager.combinedSignal(l);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",w(this,Tt,pb).bind(this,t),{passive:!0,capture:!0,signal:h}),window.addEventListener("contextmenu",_s,{signal:h});const d=this.x,p=this.y,g=this.width,m=this.height,b=this.parent.div.style.cursor,v=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const A=()=>{var T;l.abort(),this.parent.togglePointerEvents(!0),(T=u(this,he))==null||T.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=b,this.div.style.cursor=v,w(this,Tt,fb).call(this,d,p,g,m)};window.addEventListener("pointerup",A,{signal:h}),window.addEventListener("blur",A,{signal:h})},fb=function(t,e,n,r){const l=this.x,h=this.y,d=this.width,p=this.height;l===t&&h===e&&d===n&&p===r||this.addCommands({cmd:()=>{this.width=d,this.height=p,this.x=l,this.y=h;const[g,m]=this.parentDimensions;this.setDims(g*d,m*p),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=r,this.x=t,this.y=e;const[g,m]=this.parentDimensions;this.setDims(g*n,m*r),this.fixAndSetPosition()},mustExec:!0})},pb=function(t,e){const[n,r]=this.parentDimensions,l=this.x,h=this.y,d=this.width,p=this.height,g=jt.MIN_SIZE/n,m=jt.MIN_SIZE/r,b=V=>Math.round(V*1e4)/1e4,v=w(this,Tt,db).call(this,this.rotation),A=(V,J)=>[v[0]*V+v[2]*J,v[1]*V+v[3]*J],E=w(this,Tt,db).call(this,360-this.rotation),T=(V,J)=>[E[0]*V+E[2]*J,E[1]*V+E[3]*J];let M,C,O=!1,D=!1;switch(t){case"topLeft":O=!0,M=(V,J)=>[0,0],C=(V,J)=>[V,J];break;case"topMiddle":M=(V,J)=>[V/2,0],C=(V,J)=>[V/2,J];break;case"topRight":O=!0,M=(V,J)=>[V,0],C=(V,J)=>[0,J];break;case"middleRight":D=!0,M=(V,J)=>[V,J/2],C=(V,J)=>[0,J/2];break;case"bottomRight":O=!0,M=(V,J)=>[V,J],C=(V,J)=>[0,0];break;case"bottomMiddle":M=(V,J)=>[V/2,J],C=(V,J)=>[V/2,0];break;case"bottomLeft":O=!0,M=(V,J)=>[0,J],C=(V,J)=>[V,0];break;case"middleLeft":D=!0,M=(V,J)=>[0,J/2],C=(V,J)=>[V,J/2];break}const k=M(d,p),F=C(d,p);let U=A(...F);const X=b(l+U[0]),Y=b(h+U[1]);let Z=1,rt=1,[nt,ft]=this.screenToPageTranslation(e.movementX,e.movementY);if([nt,ft]=T(nt/n,ft/r),O){const V=Math.hypot(d,p);Z=rt=Math.max(Math.min(Math.hypot(F[0]-k[0]-nt,F[1]-k[1]-ft)/V,1/d,1/p),g/d,m/p)}else D?Z=Math.max(g,Math.min(1,Math.abs(F[0]-k[0]-nt)))/d:rt=Math.max(m,Math.min(1,Math.abs(F[1]-k[1]-ft)))/p;const At=b(d*Z),xt=b(p*rt);U=A(...C(At,xt));const mt=X-U[0],q=Y-U[1];this.width=At,this.height=xt,this.x=mt,this.y=q,this.setDims(n*At,r*xt),this.fixAndSetPosition()},gb=function(t){const{isMac:e}=vi.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},Dw=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const n=new AbortController,r=this._uiManager.combinedSignal(n);if(e){this.div.classList.add("moving"),S(this,Nc,t.clientX),S(this,Pc,t.clientY);const h=d=>{const{clientX:p,clientY:g}=d,[m,b]=this.screenToPageTranslation(p-u(this,Nc),g-u(this,Pc));S(this,Nc,p),S(this,Pc,g),this._uiManager.dragSelectedEditors(m,b)};window.addEventListener("pointermove",h,{passive:!0,capture:!0,signal:r})}const l=()=>{n.abort(),e&&this.div.classList.remove("moving"),S(this,Sl,!1),this._uiManager.endDragSession()||w(this,Tt,gb).call(this,t)};window.addEventListener("pointerup",l,{signal:r}),window.addEventListener("blur",l,{signal:r})},mb=function(){if(u(this,hr)||!this.div)return;S(this,hr,new AbortController);const t=this._uiManager.combinedSignal(u(this,hr));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},Ow=function(t){jt._resizerKeyboardManager.exec(this,t)},Lw=function(t){var e;u(this,Kn)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==u(this,We)&&w(this,Tt,Lh).call(this)},kw=function(t){S(this,yd,u(this,Kn)?t:"")},yb=function(t){if(u(this,Ns))for(const e of u(this,Ns))e.tabIndex=t},Lh=function(){if(S(this,Kn,!1),w(this,Tt,yb).call(this,-1),u(this,_l)){const{savedX:t,savedY:e,savedWidth:n,savedHeight:r}=u(this,_l);w(this,Tt,fb).call(this,t,e,n,r),S(this,_l,null)}},x(jt,Ad),bt(jt,"_l10n",null),bt(jt,"_l10nResizer",null),bt(jt,"_borderLineWidth",-1),bt(jt,"_colorManager",new sb),bt(jt,"_zIndex",1),bt(jt,"_telemetryTimeout",1e3);let Kt=jt;class JD extends Kt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const aE=3285377520,hs=4294901760,Zs=65535;class Nw{constructor(t){this.h1=t?t&4294967295:aE,this.h2=t?t&4294967295:aE}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let T=0,M=t.length;T<M;T++){const C=t.charCodeAt(T);C<=255?e[n++]=C:(e[n++]=C>>>8,e[n++]=C&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,l=n-r*4,h=new Uint32Array(e.buffer,0,r);let d=0,p=0,g=this.h1,m=this.h2;const b=3432918353,v=461845907,A=b&Zs,E=v&Zs;for(let T=0;T<r;T++)T&1?(d=h[T],d=d*b&hs|d*A&Zs,d=d<<15|d>>>17,d=d*v&hs|d*E&Zs,g^=d,g=g<<13|g>>>19,g=g*5+3864292196):(p=h[T],p=p*b&hs|p*A&Zs,p=p<<15|p>>>17,p=p*v&hs|p*E&Zs,m^=p,m=m<<13|m>>>19,m=m*5+3864292196);switch(d=0,l){case 3:d^=e[r*4+2]<<16;case 2:d^=e[r*4+1]<<8;case 1:d^=e[r*4],d=d*b&hs|d*A&Zs,d=d<<15|d>>>17,d=d*v&hs|d*E&Zs,r&1?g^=d:m^=d}this.h1=g,this.h2=m}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&hs|t*36045&Zs,e=e*4283543511&hs|((e<<16|t>>>16)*2950163797&hs)>>>16,t^=e>>>1,t=t*444984403&hs|t*60499&Zs,e=e*3301882366&hs|((e<<16|t>>>16)*3120437893&hs)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const bb=Object.freeze({map:null,hash:"",transfer:void 0});var wl,Tl,Xe,Ig,Pw;class Rv{constructor(){x(this,Ig);x(this,wl,!1);x(this,Tl,null);x(this,Xe,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=u(this,Xe).get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return u(this,Xe).get(t)}remove(t){if(u(this,Xe).delete(t),u(this,Xe).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of u(this,Xe).values())if(e instanceof Kt)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=u(this,Xe).get(t);let r=!1;if(n!==void 0)for(const[l,h]of Object.entries(e))n[l]!==h&&(r=!0,n[l]=h);else r=!0,u(this,Xe).set(t,e);r&&w(this,Ig,Pw).call(this),e instanceof Kt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return u(this,Xe).has(t)}getAll(){return u(this,Xe).size>0?Sv(u(this,Xe)):null}setAll(t){for(const[e,n]of Object.entries(t))this.setValue(e,n)}get size(){return u(this,Xe).size}resetModified(){u(this,wl)&&(S(this,wl,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Fw(this)}get serializable(){if(u(this,Xe).size===0)return bb;const t=new Map,e=new Nw,n=[],r=Object.create(null);let l=!1;for(const[h,d]of u(this,Xe)){const p=d instanceof Kt?d.serialize(!1,r):d;p&&(t.set(h,p),e.update(`${h}:${JSON.stringify(p)}`),l||(l=!!p.bitmap))}if(l)for(const h of t.values())h.bitmap&&n.push(h.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:bb}get editorStats(){let t=null;const e=new Map;for(const n of u(this,Xe).values()){if(!(n instanceof Kt))continue;const r=n.telemetryFinalData;if(!r)continue;const{type:l}=r;e.has(l)||e.set(l,Object.getPrototypeOf(n).constructor),t||(t=Object.create(null));const h=t[l]||(t[l]=new Map);for(const[d,p]of Object.entries(r)){if(d==="type")continue;let g=h.get(d);g||(g=new Map,h.set(d,g));const m=g.get(p)??0;g.set(p,m+1)}}for(const[n,r]of e)t[n]=r.computeTelemetryFinalData(t[n]);return t}resetModifiedIds(){S(this,Tl,null)}get modifiedIds(){if(u(this,Tl))return u(this,Tl);const t=[];for(const e of u(this,Xe).values())!(e instanceof Kt)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return S(this,Tl,{ids:new Set(t),hash:t.join(",")})}}wl=new WeakMap,Tl=new WeakMap,Xe=new WeakMap,Ig=new WeakSet,Pw=function(){u(this,wl)||(S(this,wl,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var _d;class Fw extends Rv{constructor(e){super();x(this,_d);const{map:n,hash:r,transfer:l}=e.serializable,h=structuredClone(n,l?{transfer:l}:null);S(this,_d,{map:h,hash:r,transfer:l})}get print(){ae("Should not call PrintAnnotationStorage.print")}get serializable(){return u(this,_d)}get modifiedIds(){return Ht(this,"modifiedIds",{ids:new Set,hash:""})}}_d=new WeakMap;var Fc;class tO{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){x(this,Fc,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),u(this,Fc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||u(this,Fc).has(t.loadedName))){if(Ne(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:r,style:l}=t,h=new FontFace(n,r,l);this.addNativeFontFace(h);try{await h.load(),u(this,Fc).add(n),e==null||e(t)}catch{Rt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(h)}return}ae("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw Rt(`Failed to load font '${n.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return Ht(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(hi||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Ht(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(Ne(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const l=n.shift();setTimeout(l.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:e,callback:t};return n.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ht(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(k,F){return k.charCodeAt(F)<<24|k.charCodeAt(F+1)<<16|k.charCodeAt(F+2)<<8|k.charCodeAt(F+3)&255}function r(k,F,U,X){const Y=k.substring(0,F),Z=k.substring(F+U);return Y+X+Z}let l,h;const d=this._document.createElement("canvas");d.width=1,d.height=1;const p=d.getContext("2d");let g=0;function m(k,F){if(++g>30){Rt("Load test font never loaded."),F();return}if(p.font="30px "+k,p.fillText(".",0,20),p.getImageData(0,0,1,1).data[3]>0){F();return}setTimeout(m.bind(null,k,F))}const b=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=r(v,976,b.length,b);const E=16,T=1482184792;let M=n(v,E);for(l=0,h=b.length-3;l<h;l+=4)M=M-T+n(b,l)|0;l<b.length&&(M=M-T+n(b+"XXX",l)|0),v=r(v,E,4,zD(M));const C=`url(data:font/opentype;base64,${btoa(v)});`,O=`@font-face {font-family:"${b}";src:${C}}`;this.insertRule(O);const D=this._document.createElement("div");D.style.visibility="hidden",D.style.width=D.style.height="10px",D.style.position="absolute",D.style.top=D.style.left="0px";for(const k of[t.loadedName,b]){const F=this._document.createElement("span");F.textContent="Hi",F.style.fontFamily=k,D.append(F)}this._document.body.append(D),m(b,()=>{D.remove(),e.complete()})}}Fc=new WeakMap;class eO{constructor(t,{disableFontFace:e=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const r in t)this[r]=t[r];this.disableFontFace=e===!0,this._inspectFont=n}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${GD(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return(n=this._inspectFont)==null||n.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let n;try{n=t.get(this.loadedName+"_path_"+e)}catch(l){Rt(`getPathGenerator - ignoring character: "${l}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[e]=function(l,h){};const r=[];for(let l=0,h=n.length;l<h;)switch(n[l++]){case Hn.BEZIER_CURVE_TO:{const[d,p,g,m,b,v]=n.slice(l,l+6);r.push(A=>A.bezierCurveTo(d,p,g,m,b,v)),l+=6}break;case Hn.MOVE_TO:{const[d,p]=n.slice(l,l+2);r.push(g=>g.moveTo(d,p)),l+=2}break;case Hn.LINE_TO:{const[d,p]=n.slice(l,l+2);r.push(g=>g.lineTo(d,p)),l+=2}break;case Hn.QUADRATIC_CURVE_TO:{const[d,p,g,m]=n.slice(l,l+4);r.push(b=>b.quadraticCurveTo(d,p,g,m)),l+=4}break;case Hn.RESTORE:r.push(d=>d.restore());break;case Hn.SAVE:r.push(d=>d.save());break;case Hn.SCALE:Ne(r.length===2,"Scale command is only valid at the third position.");break;case Hn.TRANSFORM:{const[d,p,g,m,b,v]=n.slice(l,l+6);r.push(A=>A.transform(d,p,g,m,b,v)),l+=6}break;case Hn.TRANSLATE:{const[d,p]=n.slice(l,l+2);r.push(g=>g.translate(d,p)),l+=2}break}return this.compiledGlyphs[e]=function(h,d){r[0](h),r[1](h),h.scale(d,-d);for(let p=2,g=r.length;p<g;p++)r[p](h)}}}var Sd;class Hw{constructor({enableHWA:t=!1}){x(this,Sd,!1);S(this,Sd,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!u(this,Sd)})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){ae("Abstract method `_createCanvas` called.")}}Sd=new WeakMap;class iO extends Hw{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class zw{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){ae("Abstract method `_fetch` called.")}}class Iw extends zw{async _fetch(t){const e=await om(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):lm(e)}}class Uw{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,r,l){return"none"}destroy(t=!1){}}var xl,Cl,dn,Qn,li,Ug,Rl,at,ni,ic,sc,sg,nc,Bw,vb,ac,kh,Nh,Ab,Ph;class sO extends Uw{constructor({docId:e,ownerDocument:n=globalThis.document}){super();x(this,at);x(this,xl);x(this,Cl);x(this,dn);x(this,Qn);x(this,li);x(this,Ug);x(this,Rl,0);S(this,Qn,e),S(this,li,n)}addFilter(e){if(!e)return"none";let n=u(this,at,ni).get(e);if(n)return n;const[r,l,h]=w(this,at,sg).call(this,e),d=e.length===1?r:`${r}${l}${h}`;if(n=u(this,at,ni).get(d),n)return u(this,at,ni).set(e,n),n;const p=`g_${u(this,Qn)}_transfer_map_${Ue(this,Rl)._++}`,g=w(this,at,nc).call(this,p);u(this,at,ni).set(e,g),u(this,at,ni).set(d,g);const m=w(this,at,ac).call(this,p);return w(this,at,Nh).call(this,r,l,h,m),g}addHCMFilter(e,n){var E;const r=`${e}-${n}`,l="base";let h=u(this,at,ic).get(l);if((h==null?void 0:h.key)===r||(h?((E=h.filter)==null||E.remove(),h.key=r,h.url="none",h.filter=null):(h={key:r,url:"none",filter:null},u(this,at,ic).set(l,h)),!e||!n))return h.url;const d=w(this,at,Ph).call(this,e);e=ut.makeHexColor(...d);const p=w(this,at,Ph).call(this,n);if(n=ut.makeHexColor(...p),u(this,at,sc).style.color="",e==="#000000"&&n==="#ffffff"||e===n)return h.url;const g=new Array(256);for(let T=0;T<=255;T++){const M=T/255;g[T]=M<=.03928?M/12.92:((M+.055)/1.055)**2.4}const m=g.join(","),b=`g_${u(this,Qn)}_hcm_filter`,v=h.filter=w(this,at,ac).call(this,b);w(this,at,Nh).call(this,m,m,m,v),w(this,at,vb).call(this,v);const A=(T,M)=>{const C=d[T]/255,O=p[T]/255,D=new Array(M+1);for(let k=0;k<=M;k++)D[k]=C+k/M*(O-C);return D.join(",")};return w(this,at,Nh).call(this,A(0,5),A(1,5),A(2,5),v),h.url=w(this,at,nc).call(this,b),h.url}addAlphaFilter(e){let n=u(this,at,ni).get(e);if(n)return n;const[r]=w(this,at,sg).call(this,[e]),l=`alpha_${r}`;if(n=u(this,at,ni).get(l),n)return u(this,at,ni).set(e,n),n;const h=`g_${u(this,Qn)}_alpha_map_${Ue(this,Rl)._++}`,d=w(this,at,nc).call(this,h);u(this,at,ni).set(e,d),u(this,at,ni).set(l,d);const p=w(this,at,ac).call(this,h);return w(this,at,Ab).call(this,r,p),d}addLuminosityFilter(e){let n=u(this,at,ni).get(e||"luminosity");if(n)return n;let r,l;if(e?([r]=w(this,at,sg).call(this,[e]),l=`luminosity_${r}`):l="luminosity",n=u(this,at,ni).get(l),n)return u(this,at,ni).set(e,n),n;const h=`g_${u(this,Qn)}_luminosity_map_${Ue(this,Rl)._++}`,d=w(this,at,nc).call(this,h);u(this,at,ni).set(e,d),u(this,at,ni).set(l,d);const p=w(this,at,ac).call(this,h);return w(this,at,Bw).call(this,p),e&&w(this,at,Ab).call(this,r,p),d}addHighlightHCMFilter(e,n,r,l,h){var O;const d=`${n}-${r}-${l}-${h}`;let p=u(this,at,ic).get(e);if((p==null?void 0:p.key)===d||(p?((O=p.filter)==null||O.remove(),p.key=d,p.url="none",p.filter=null):(p={key:d,url:"none",filter:null},u(this,at,ic).set(e,p)),!n||!r))return p.url;const[g,m]=[n,r].map(w(this,at,Ph).bind(this));let b=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),v=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),[A,E]=[l,h].map(w(this,at,Ph).bind(this));v<b&&([b,v,A,E]=[v,b,E,A]),u(this,at,sc).style.color="";const T=(D,k,F)=>{const U=new Array(256),X=(v-b)/F,Y=D/255,Z=(k-D)/(255*F);let rt=0;for(let nt=0;nt<=F;nt++){const ft=Math.round(b+nt*X),At=Y+nt*Z;for(let xt=rt;xt<=ft;xt++)U[xt]=At;rt=ft+1}for(let nt=rt;nt<256;nt++)U[nt]=U[rt-1];return U.join(",")},M=`g_${u(this,Qn)}_hcm_${e}_filter`,C=p.filter=w(this,at,ac).call(this,M);return w(this,at,vb).call(this,C),w(this,at,Nh).call(this,T(A[0],E[0],5),T(A[1],E[1],5),T(A[2],E[2],5),C),p.url=w(this,at,nc).call(this,M),p.url}destroy(e=!1){e&&u(this,at,ic).size!==0||(u(this,dn)&&(u(this,dn).parentNode.parentNode.remove(),S(this,dn,null)),u(this,Cl)&&(u(this,Cl).clear(),S(this,Cl,null)),S(this,Rl,0))}}xl=new WeakMap,Cl=new WeakMap,dn=new WeakMap,Qn=new WeakMap,li=new WeakMap,Ug=new WeakMap,Rl=new WeakMap,at=new WeakSet,ni=function(){return u(this,Cl)||S(this,Cl,new Map)},ic=function(){return u(this,Ug)||S(this,Ug,new Map)},sc=function(){if(!u(this,dn)){const e=u(this,li).createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=u(this,li).createElementNS(Un,"svg");r.setAttribute("width",0),r.setAttribute("height",0),S(this,dn,u(this,li).createElementNS(Un,"defs")),e.append(r),r.append(u(this,dn)),u(this,li).body.append(e)}return u(this,dn)},sg=function(e){if(e.length===1){const g=e[0],m=new Array(256);for(let v=0;v<256;v++)m[v]=g[v]/255;const b=m.join(",");return[b,b,b]}const[n,r,l]=e,h=new Array(256),d=new Array(256),p=new Array(256);for(let g=0;g<256;g++)h[g]=n[g]/255,d[g]=r[g]/255,p[g]=l[g]/255;return[h.join(","),d.join(","),p.join(",")]},nc=function(e){if(u(this,xl)===void 0){S(this,xl,"");const n=u(this,li).URL;n!==u(this,li).baseURI&&(cm(n)?Rt('#createUrl: ignore "data:"-URL for performance reasons.'):S(this,xl,n.split("#",1)[0]))}return`url(${u(this,xl)}#${e})`},Bw=function(e){const n=u(this,li).createElementNS(Un,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(n)},vb=function(e){const n=u(this,li).createElementNS(Un,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(n)},ac=function(e){const n=u(this,li).createElementNS(Un,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",e),u(this,at,sc).append(n),n},kh=function(e,n,r){const l=u(this,li).createElementNS(Un,n);l.setAttribute("type","discrete"),l.setAttribute("tableValues",r),e.append(l)},Nh=function(e,n,r,l){const h=u(this,li).createElementNS(Un,"feComponentTransfer");l.append(h),w(this,at,kh).call(this,h,"feFuncR",e),w(this,at,kh).call(this,h,"feFuncG",n),w(this,at,kh).call(this,h,"feFuncB",r)},Ab=function(e,n){const r=u(this,li).createElementNS(Un,"feComponentTransfer");n.append(r),w(this,at,kh).call(this,r,"feFuncA",e)},Ph=function(e){return u(this,at,sc).style.color=e,Cv(getComputedStyle(u(this,at,sc)).getPropertyValue("color"))};class qw{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){ae("Abstract method `_fetch` called.")}}class jw extends qw{async _fetch(t){const e=await om(t,"arraybuffer");return new Uint8Array(e)}}if(hi){var _b=Promise.withResolvers(),Yh=null;(async()=>{const t=await uc(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await uc(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await uc(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await uc(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let l,h;return new Map(Object.entries({fs:t,http:e,https:n,url:r,canvas:l,path2d:h}))})().then(t=>{Yh=t,_b.resolve()},t=>{Rt(`loadPackages: ${t}`),Yh=new Map,_b.resolve()})}class Dr{static get promise(){return _b.promise}static get(t){return Yh==null?void 0:Yh.get(t)}}async function Gw(c){const e=await Dr.get("fs").promises.readFile(c);return new Uint8Array(e)}class nO extends Uw{}class aO extends Hw{_createCanvas(t,e){return Dr.get("canvas").createCanvas(t,e)}}class rO extends zw{async _fetch(t){return Gw(t)}}class lO extends qw{async _fetch(t){return Gw(t)}}const yi={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Sb(c,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,n),c.clip(r)}class Mv{getPattern(){ae("Abstract method `getPattern` called.")}}class oO extends Mv{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,r){let l;if(r===yi.STROKE||r===yi.FILL){const h=e.current.getClippedPathBoundingBox(r,fe(t))||[0,0,0,0],d=Math.ceil(h[2]-h[0])||1,p=Math.ceil(h[3]-h[1])||1,g=e.cachedCanvases.getCanvas("pattern",d,p),m=g.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-h[0],-h[1]),n=ut.transform(n,[1,0,0,1,h[0],h[1]]),m.transform(...e.baseTransform),this.matrix&&m.transform(...this.matrix),Sb(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),l=t.createPattern(g.canvas,"no-repeat");const b=new DOMMatrix(n);l.setTransform(b)}else Sb(t,this._bbox),l=this._createGradient(t);return l}}function I0(c,t,e,n,r,l,h,d){const p=t.coords,g=t.colors,m=c.data,b=c.width*4;let v;p[e+1]>p[n+1]&&(v=e,e=n,n=v,v=l,l=h,h=v),p[n+1]>p[r+1]&&(v=n,n=r,r=v,v=h,h=d,d=v),p[e+1]>p[n+1]&&(v=e,e=n,n=v,v=l,l=h,h=v);const A=(p[e]+t.offsetX)*t.scaleX,E=(p[e+1]+t.offsetY)*t.scaleY,T=(p[n]+t.offsetX)*t.scaleX,M=(p[n+1]+t.offsetY)*t.scaleY,C=(p[r]+t.offsetX)*t.scaleX,O=(p[r+1]+t.offsetY)*t.scaleY;if(E>=O)return;const D=g[l],k=g[l+1],F=g[l+2],U=g[h],X=g[h+1],Y=g[h+2],Z=g[d],rt=g[d+1],nt=g[d+2],ft=Math.round(E),At=Math.round(O);let xt,mt,q,V,J,Pt,N,$;for(let et=ft;et<=At;et++){if(et<M){const Dt=et<E?0:(E-et)/(E-M);xt=A-(A-T)*Dt,mt=D-(D-U)*Dt,q=k-(k-X)*Dt,V=F-(F-Y)*Dt}else{let Dt;et>O?Dt=1:M===O?Dt=0:Dt=(M-et)/(M-O),xt=T-(T-C)*Dt,mt=U-(U-Z)*Dt,q=X-(X-rt)*Dt,V=Y-(Y-nt)*Dt}let tt;et<E?tt=0:et>O?tt=1:tt=(E-et)/(E-O),J=A-(A-C)*tt,Pt=D-(D-Z)*tt,N=k-(k-rt)*tt,$=F-(F-nt)*tt;const ct=Math.round(Math.min(xt,J)),Mt=Math.round(Math.max(xt,J));let ot=b*et+ct*4;for(let Dt=ct;Dt<=Mt;Dt++)tt=(xt-Dt)/(xt-J),tt<0?tt=0:tt>1&&(tt=1),m[ot++]=mt-(mt-Pt)*tt|0,m[ot++]=q-(q-N)*tt|0,m[ot++]=V-(V-$)*tt|0,m[ot++]=255}}function cO(c,t,e){const n=t.coords,r=t.colors;let l,h;switch(t.type){case"lattice":const d=t.verticesPerRow,p=Math.floor(n.length/d)-1,g=d-1;for(l=0;l<p;l++){let m=l*d;for(let b=0;b<g;b++,m++)I0(c,e,n[m],n[m+1],n[m+d],r[m],r[m+1],r[m+d]),I0(c,e,n[m+d+1],n[m+1],n[m+d],r[m+d+1],r[m+1],r[m+d])}break;case"triangles":for(l=0,h=n.length;l<h;l+=3)I0(c,e,n[l],n[l+1],n[l+2],r[l],r[l+1],r[l+2]);break;default:throw new Error("illegal figure")}}class uO extends Mv{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,n){const d=Math.floor(this._bounds[0]),p=Math.floor(this._bounds[1]),g=Math.ceil(this._bounds[2])-d,m=Math.ceil(this._bounds[3])-p,b=Math.min(Math.ceil(Math.abs(g*t[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(m*t[1]*1.1)),3e3),A=g/b,E=m/v,T={coords:this._coords,colors:this._colors,offsetX:-d,offsetY:-p,scaleX:1/A,scaleY:1/E},M=b+2*2,C=v+2*2,O=n.getCanvas("mesh",M,C),D=O.context,k=D.createImageData(b,v);if(e){const U=k.data;for(let X=0,Y=U.length;X<Y;X+=4)U[X]=e[0],U[X+1]=e[1],U[X+2]=e[2],U[X+3]=255}for(const U of this._figures)cO(k,U,T);return D.putImageData(k,2,2),{canvas:O.canvas,offsetX:d-2*A,offsetY:p-2*E,scaleX:A,scaleY:E}}getPattern(t,e,n,r){Sb(t,this._bbox);let l;if(r===yi.SHADING)l=ut.singularValueDecompose2dScale(fe(t));else if(l=ut.singularValueDecompose2dScale(e.baseTransform),this.matrix){const d=ut.singularValueDecompose2dScale(this.matrix);l=[l[0]*d[0],l[1]*d[1]]}const h=this._createMeshCanvas(l,r===yi.SHADING?null:this._background,e.cachedCanvases);return r!==yi.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(h.offsetX,h.offsetY),t.scale(h.scaleX,h.scaleY),t.createPattern(h.canvas,"no-repeat")}}class hO extends Mv{getPattern(){return"hotpink"}}function dO(c){switch(c[0]){case"RadialAxial":return new oO(c);case"Mesh":return new uO(c);case"Dummy":return new hO}throw new Error(`Unknown IR type: ${c[0]}`)}const rE={COLORED:1,UNCOLORED:2},Bg=class Bg{constructor(t,e,n,r,l){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=l}createPatternCanvas(t){const{bbox:e,operatorList:n,paintType:r,tilingType:l,color:h,canvasGraphicsFactory:d}=this;let{xstep:p,ystep:g}=this;p=Math.abs(p),g=Math.abs(g),am("TilingType: "+l);const m=e[0],b=e[1],v=e[2],A=e[3],E=v-m,T=A-b,M=ut.singularValueDecompose2dScale(this.matrix),C=ut.singularValueDecompose2dScale(this.baseTransform),O=M[0]*C[0],D=M[1]*C[1];let k=E,F=T,U=!1,X=!1;const Y=Math.ceil(p*O),Z=Math.ceil(g*D),rt=Math.ceil(E*O),nt=Math.ceil(T*D);Y>=rt?k=p:U=!0,Z>=nt?F=g:X=!0;const ft=this.getSizeAndScale(k,this.ctx.canvas.width,O),At=this.getSizeAndScale(F,this.ctx.canvas.height,D),xt=t.cachedCanvases.getCanvas("pattern",ft.size,At.size),mt=xt.context,q=d.createCanvasGraphics(mt);if(q.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(q,r,h),mt.translate(-ft.scale*m,-At.scale*b),q.transform(ft.scale,0,0,At.scale,0,0),mt.save(),this.clipBbox(q,m,b,v,A),q.baseTransform=fe(q.ctx),q.executeOperatorList(n),q.endDrawing(),mt.restore(),U||X){const V=xt.canvas;U&&(k=p),X&&(F=g);const J=this.getSizeAndScale(k,this.ctx.canvas.width,O),Pt=this.getSizeAndScale(F,this.ctx.canvas.height,D),N=J.size,$=Pt.size,et=t.cachedCanvases.getCanvas("pattern-workaround",N,$),tt=et.context,ct=U?Math.floor(E/p):0,Mt=X?Math.floor(T/g):0;for(let ot=0;ot<=ct;ot++)for(let Dt=0;Dt<=Mt;Dt++)tt.drawImage(V,N*ot,$*Dt,N,$,0,0,N,$);return{canvas:et.canvas,scaleX:J.scale,scaleY:Pt.scale,offsetX:m,offsetY:b}}return{canvas:xt.canvas,scaleX:ft.scale,scaleY:At.scale,offsetX:m,offsetY:b}}getSizeAndScale(t,e,n){const r=Math.max(Bg.MAX_PATTERN_SIZE,e);let l=Math.ceil(t*n);return l>=r?l=r:n=l/t,{scale:n,size:l}}clipBbox(t,e,n,r,l){const h=r-e,d=l-n;t.ctx.rect(e,n,h,d),t.current.updateRectMinMax(fe(t.ctx),[e,n,r,l]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const r=t.ctx,l=t.current;switch(e){case rE.COLORED:const h=this.ctx;r.fillStyle=h.fillStyle,r.strokeStyle=h.strokeStyle,l.fillColor=h.fillStyle,l.strokeColor=h.strokeStyle;break;case rE.UNCOLORED:const d=ut.makeHexColor(n[0],n[1],n[2]);r.fillStyle=d,r.strokeStyle=d,l.fillColor=d,l.strokeColor=d;break;default:throw new HD(`Unsupported paint type: ${e}`)}}getPattern(t,e,n,r){let l=n;r!==yi.SHADING&&(l=ut.transform(l,e.baseTransform),this.matrix&&(l=ut.transform(l,this.matrix)));const h=this.createPatternCanvas(e);let d=new DOMMatrix(l);d=d.translate(h.offsetX,h.offsetY),d=d.scale(1/h.scaleX,1/h.scaleY);const p=t.createPattern(h.canvas,"repeat");return p.setTransform(d),p}};bt(Bg,"MAX_PATTERN_SIZE",3e3);let Eb=Bg;function fO({src:c,srcPos:t=0,dest:e,width:n,height:r,nonBlackColor:l=4294967295,inverseDecode:h=!1}){const d=vi.isLittleEndian?4278190080:255,[p,g]=h?[l,d]:[d,l],m=n>>3,b=n&7,v=c.length;e=new Uint32Array(e.buffer);let A=0;for(let E=0;E<r;E++){for(const M=t+m;t<M;t++){const C=t<v?c[t]:255;e[A++]=C&128?g:p,e[A++]=C&64?g:p,e[A++]=C&32?g:p,e[A++]=C&16?g:p,e[A++]=C&8?g:p,e[A++]=C&4?g:p,e[A++]=C&2?g:p,e[A++]=C&1?g:p}if(b===0)continue;const T=t<v?c[t++]:255;for(let M=0;M<b;M++)e[A++]=T&1<<7-M?g:p}return{srcPos:t,destPos:A}}const lE=16,oE=100,pO=15,cE=10,uE=1e3,Li=16;function gO(c,t){if(c._removeMirroring)throw new Error("Context is already forwarding operations.");c.__originalSave=c.save,c.__originalRestore=c.restore,c.__originalRotate=c.rotate,c.__originalScale=c.scale,c.__originalTranslate=c.translate,c.__originalTransform=c.transform,c.__originalSetTransform=c.setTransform,c.__originalResetTransform=c.resetTransform,c.__originalClip=c.clip,c.__originalMoveTo=c.moveTo,c.__originalLineTo=c.lineTo,c.__originalBezierCurveTo=c.bezierCurveTo,c.__originalRect=c.rect,c.__originalClosePath=c.closePath,c.__originalBeginPath=c.beginPath,c._removeMirroring=()=>{c.save=c.__originalSave,c.restore=c.__originalRestore,c.rotate=c.__originalRotate,c.scale=c.__originalScale,c.translate=c.__originalTranslate,c.transform=c.__originalTransform,c.setTransform=c.__originalSetTransform,c.resetTransform=c.__originalResetTransform,c.clip=c.__originalClip,c.moveTo=c.__originalMoveTo,c.lineTo=c.__originalLineTo,c.bezierCurveTo=c.__originalBezierCurveTo,c.rect=c.__originalRect,c.closePath=c.__originalClosePath,c.beginPath=c.__originalBeginPath,delete c._removeMirroring},c.save=function(){t.save(),this.__originalSave()},c.restore=function(){t.restore(),this.__originalRestore()},c.translate=function(n,r){t.translate(n,r),this.__originalTranslate(n,r)},c.scale=function(n,r){t.scale(n,r),this.__originalScale(n,r)},c.transform=function(n,r,l,h,d,p){t.transform(n,r,l,h,d,p),this.__originalTransform(n,r,l,h,d,p)},c.setTransform=function(n,r,l,h,d,p){t.setTransform(n,r,l,h,d,p),this.__originalSetTransform(n,r,l,h,d,p)},c.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},c.rotate=function(n){t.rotate(n),this.__originalRotate(n)},c.clip=function(n){t.clip(n),this.__originalClip(n)},c.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},c.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},c.bezierCurveTo=function(e,n,r,l,h,d){t.bezierCurveTo(e,n,r,l,h,d),this.__originalBezierCurveTo(e,n,r,l,h,d)},c.rect=function(e,n,r,l){t.rect(e,n,r,l),this.__originalRect(e,n,r,l)},c.closePath=function(){t.closePath(),this.__originalClosePath()},c.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class mO{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,n)):(r=this.canvasFactory.create(e,n),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function qp(c,t,e,n,r,l,h,d,p,g){const[m,b,v,A,E,T]=fe(c);if(b===0&&v===0){const O=h*m+E,D=Math.round(O),k=d*A+T,F=Math.round(k),U=(h+p)*m+E,X=Math.abs(Math.round(U)-D)||1,Y=(d+g)*A+T,Z=Math.abs(Math.round(Y)-F)||1;return c.setTransform(Math.sign(m),0,0,Math.sign(A),D,F),c.drawImage(t,e,n,r,l,0,0,X,Z),c.setTransform(m,b,v,A,E,T),[X,Z]}if(m===0&&A===0){const O=d*v+E,D=Math.round(O),k=h*b+T,F=Math.round(k),U=(d+g)*v+E,X=Math.abs(Math.round(U)-D)||1,Y=(h+p)*b+T,Z=Math.abs(Math.round(Y)-F)||1;return c.setTransform(0,Math.sign(b),Math.sign(v),0,D,F),c.drawImage(t,e,n,r,l,0,0,Z,X),c.setTransform(m,b,v,A,E,T),[Z,X]}c.drawImage(t,e,n,r,l,h,d,p,g);const M=Math.hypot(m,b),C=Math.hypot(v,A);return[M*p,C*g]}function yO(c){const{width:t,height:e}=c;if(t>uE||e>uE)return null;const n=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),l=t+1;let h=new Uint8Array(l*(e+1)),d,p,g;const m=t+7&-8;let b=new Uint8Array(m*e),v=0;for(const C of c.data){let O=128;for(;O>0;)b[v++]=C&O?0:255,O>>=1}let A=0;for(v=0,b[v]!==0&&(h[0]=1,++A),p=1;p<t;p++)b[v]!==b[v+1]&&(h[p]=b[v]?2:1,++A),v++;for(b[v]!==0&&(h[p]=2,++A),d=1;d<e;d++){v=d*m,g=d*l,b[v-m]!==b[v]&&(h[g]=b[v]?1:8,++A);let C=(b[v]?4:0)+(b[v-m]?8:0);for(p=1;p<t;p++)C=(C>>2)+(b[v+1]?4:0)+(b[v-m+1]?8:0),r[C]&&(h[g+p]=r[C],++A),v++;if(b[v-m]!==b[v]&&(h[g+p]=b[v]?2:4,++A),A>n)return null}for(v=m*(e-1),g=d*l,b[v]!==0&&(h[g]=8,++A),p=1;p<t;p++)b[v]!==b[v+1]&&(h[g+p]=b[v]?4:8,++A),v++;if(b[v]!==0&&(h[g+p]=4,++A),A>n)return null;const E=new Int32Array([0,l,-1,0,-l,0,0,0,1]),T=new Path2D;for(d=0;A&&d<=e;d++){let C=d*l;const O=C+t;for(;C<O&&!h[C];)C++;if(C===O)continue;T.moveTo(C%l,d);const D=C;let k=h[C];do{const F=E[k];do C+=F;while(!h[C]);const U=h[C];U!==5&&U!==10?(k=U,h[C]=0):(k=U&51*k>>4,h[C]&=k>>2|k<<2),T.lineTo(C%l,C/l|0),h[C]||--A}while(D!==C);--d}return b=null,h=null,function(C){C.save(),C.scale(1/t,-1/e),C.translate(0,-e),C.fill(T),C.beginPath(),C.restore()}}class hE{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=lw,this.textMatrixScale=1,this.fontMatrix=Q0,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=si.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,n){[e,n]=ut.applyTransform([e,n],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(t,e){const n=ut.applyTransform(e,t),r=ut.applyTransform(e.slice(2),t),l=ut.applyTransform([e[0],e[3]],t),h=ut.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,n[0],r[0],l[0],h[0]),this.minY=Math.min(this.minY,n[1],r[1],l[1],h[1]),this.maxX=Math.max(this.maxX,n[0],r[0],l[0],h[0]),this.maxY=Math.max(this.maxY,n[1],r[1],l[1],h[1])}updateScalingPathMinMax(t,e){ut.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,n,r,l,h,d,p,g,m){const b=ut.bezierBoundingBox(e,n,r,l,h,d,p,g,m);m||this.updateRectMinMax(t,b)}getPathBoundingBox(t=yi.FILL,e=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(t===yi.STROKE){e||ae("Stroke bounding box must include transform.");const r=ut.singularValueDecompose2dScale(e),l=r[0]*this.lineWidth/2,h=r[1]*this.lineWidth/2;n[0]-=l,n[1]-=h,n[2]+=l,n[3]+=h}return n}updateClipFromPath(){const t=ut.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=yi.FILL,e=null){return ut.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function dE(c,t){if(typeof ImageData<"u"&&t instanceof ImageData){c.putImageData(t,0,0);return}const e=t.height,n=t.width,r=e%Li,l=(e-r)/Li,h=r===0?l:l+1,d=c.createImageData(n,Li);let p=0,g;const m=t.data,b=d.data;let v,A,E,T;if(t.kind===$p.GRAYSCALE_1BPP){const M=m.byteLength,C=new Uint32Array(b.buffer,0,b.byteLength>>2),O=C.length,D=n+7>>3,k=4294967295,F=vi.isLittleEndian?4278190080:255;for(v=0;v<h;v++){for(E=v<l?Li:r,g=0,A=0;A<E;A++){const U=M-p;let X=0;const Y=U>D?n:U*8-7,Z=Y&-8;let rt=0,nt=0;for(;X<Z;X+=8)nt=m[p++],C[g++]=nt&128?k:F,C[g++]=nt&64?k:F,C[g++]=nt&32?k:F,C[g++]=nt&16?k:F,C[g++]=nt&8?k:F,C[g++]=nt&4?k:F,C[g++]=nt&2?k:F,C[g++]=nt&1?k:F;for(;X<Y;X++)rt===0&&(nt=m[p++],rt=128),C[g++]=nt&rt?k:F,rt>>=1}for(;g<O;)C[g++]=0;c.putImageData(d,0,v*Li)}}else if(t.kind===$p.RGBA_32BPP){for(A=0,T=n*Li*4,v=0;v<l;v++)b.set(m.subarray(p,p+T)),p+=T,c.putImageData(d,0,A),A+=Li;v<h&&(T=n*r*4,b.set(m.subarray(p,p+T)),c.putImageData(d,0,A))}else if(t.kind===$p.RGB_24BPP)for(E=Li,T=n*E,v=0;v<h;v++){for(v>=l&&(E=r,T=n*E),g=0,A=T;A--;)b[g++]=m[p++],b[g++]=m[p++],b[g++]=m[p++],b[g++]=255;c.putImageData(d,0,v*Li)}else throw new Error(`bad image kind: ${t.kind}`)}function fE(c,t){if(t.bitmap){c.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,r=e%Li,l=(e-r)/Li,h=r===0?l:l+1,d=c.createImageData(n,Li);let p=0;const g=t.data,m=d.data;for(let b=0;b<h;b++){const v=b<l?Li:r;({srcPos:p}=fO({src:g,srcPos:p,dest:m,width:n,height:v,nonBlackColor:0})),c.putImageData(d,0,b*Li)}}function Ch(c,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)c[n]!==void 0&&(t[n]=c[n]);c.setLineDash!==void 0&&(t.setLineDash(c.getLineDash()),t.lineDashOffset=c.lineDashOffset)}function jp(c){if(c.strokeStyle=c.fillStyle="#000000",c.fillRule="nonzero",c.globalAlpha=1,c.lineWidth=1,c.lineCap="butt",c.lineJoin="miter",c.miterLimit=10,c.globalCompositeOperation="source-over",c.font="10px sans-serif",c.setLineDash!==void 0&&(c.setLineDash([]),c.lineDashOffset=0),!hi){const{filter:t}=c;t!=="none"&&t!==""&&(c.filter="none")}}function pE(c,t){if(t)return!0;const e=ut.singularValueDecompose2dScale(c);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*Mr.PDF_TO_CSS_UNITS);return e[0]<=n&&e[1]<=n}const bO=["butt","round","square"],vO=["miter","round","bevel"],AO={},gE={};var Lr,wb,Tb;const Fv=class Fv{constructor(t,e,n,r,l,{optionalContentConfig:h,markedContentStack:d=null},p,g){x(this,Lr);this.ctx=t,this.current=new hE(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=r,this.filterFactory=l,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=h,this.cachedCanvases=new mO(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=p,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=g,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:r=null}){const l=this.ctx.canvas.width,h=this.ctx.canvas.height,d=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,l,h),this.ctx.fillStyle=d,n){const p=this.cachedCanvases.getCanvas("transparent",l,h);this.compositeCtx=this.ctx,this.transparentCanvas=p.canvas,this.ctx=p.context,this.ctx.save(),this.ctx.transform(...fe(this.compositeCtx))}this.ctx.save(),jp(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=fe(this.ctx)}executeOperatorList(t,e,n,r){const l=t.argsArray,h=t.fnArray;let d=e||0;const p=l.length;if(p===d)return d;const g=p-d>cE&&typeof n=="function",m=g?Date.now()+pO:0;let b=0;const v=this.commonObjs,A=this.objs;let E;for(;;){if(r!==void 0&&d===r.nextBreakPoint)return r.breakIt(d,n),d;if(E=h[d],E!==Cs.dependency)this[E].apply(this,l[d]);else for(const T of l[d]){const M=T.startsWith("g_")?v:A;if(!M.has(T))return M.get(T,n),d}if(d++,d===p)return d;if(g&&++b>cE){if(Date.now()>m)return n(),d;b=0}}}endDrawing(){w(this,Lr,wb).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),w(this,Lr,Tb).call(this)}_scaleImage(t,e){const n=t.width??t.displayWidth,r=t.height??t.displayHeight;let l=Math.max(Math.hypot(e[0],e[1]),1),h=Math.max(Math.hypot(e[2],e[3]),1),d=n,p=r,g="prescale1",m,b;for(;l>2&&d>1||h>2&&p>1;){let v=d,A=p;l>2&&d>1&&(v=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),l/=d/v),h>2&&p>1&&(A=p>=16384?Math.floor(p/2)-1||1:Math.ceil(p)/2,h/=p/A),m=this.cachedCanvases.getCanvas(g,v,A),b=m.context,b.clearRect(0,0,v,A),b.drawImage(t,0,0,d,p,0,0,v,A),t=m.canvas,d=v,p=A,g=g==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:d,paintHeight:p}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:r}=t,l=this.current.fillColor,h=this.current.patternFill,d=fe(e);let p,g,m,b;if((t.bitmap||t.data)&&t.count>1){const Y=t.bitmap||t.data.buffer;g=JSON.stringify(h?d:[d.slice(0,4),l]),p=this._cachedBitmapsMap.get(Y),p||(p=new Map,this._cachedBitmapsMap.set(Y,p));const Z=p.get(g);if(Z&&!h){const rt=Math.round(Math.min(d[0],d[2])+d[4]),nt=Math.round(Math.min(d[1],d[3])+d[5]);return{canvas:Z,offsetX:rt,offsetY:nt}}m=Z}m||(b=this.cachedCanvases.getCanvas("maskCanvas",n,r),fE(b.context,t));let v=ut.transform(d,[1/n,0,0,-1/r,0,0]);v=ut.transform(v,[1,0,0,1,0,-r]);const[A,E,T,M]=ut.getAxialAlignedBoundingBox([0,0,n,r],v),C=Math.round(T-A)||1,O=Math.round(M-E)||1,D=this.cachedCanvases.getCanvas("fillCanvas",C,O),k=D.context,F=A,U=E;k.translate(-F,-U),k.transform(...v),m||(m=this._scaleImage(b.canvas,zn(k)),m=m.img,p&&h&&p.set(g,m)),k.imageSmoothingEnabled=pE(fe(k),t.interpolate),qp(k,m,0,0,m.width,m.height,0,0,n,r),k.globalCompositeOperation="source-in";const X=ut.transform(zn(k),[1,0,0,1,-F,-U]);return k.fillStyle=h?l.getPattern(e,this,X,yi.FILL):l,k.fillRect(0,0,n,r),p&&!h&&(this.cachedCanvases.delete("fillCanvas"),p.set(g,D.canvas)),{canvas:D.canvas,offsetX:Math.round(F),offsetY:Math.round(U)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=bO[t]}setLineJoin(t){this.ctx.lineJoin=vO[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx,this.ctx=r.context;const l=this.ctx;l.setTransform(...fe(this.suspendedCtx)),Ch(this.suspendedCtx,l),gO(l,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ch(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,r){const l=r[0],h=r[1],d=r[2]-l,p=r[3]-h;d===0||p===0||(this.genericComposeSMask(e.context,n,d,p,e.subtype,e.backdrop,e.transferMap,l,h,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,r,l,h,d,p,g,m,b){let v=t.canvas,A=p-m,E=g-b;if(h){const M=ut.makeHexColor(...h);if(A<0||E<0||A+n>v.width||E+r>v.height){const C=this.cachedCanvases.getCanvas("maskExtension",n,r),O=C.context;O.drawImage(v,-A,-E),O.globalCompositeOperation="destination-atop",O.fillStyle=M,O.fillRect(0,0,n,r),O.globalCompositeOperation="source-over",v=C.canvas,A=E=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const C=new Path2D;C.rect(A,E,n,r),t.clip(C),t.globalCompositeOperation="destination-atop",t.fillStyle=M,t.fillRect(A,E,n,r),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),l==="Alpha"&&d?e.filter=this.filterFactory.addAlphaFilter(d):l==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(d));const T=new Path2D;T.rect(p,g,n,r),e.clip(T),e.globalCompositeOperation="destination-in",e.drawImage(v,A,E,n,r,p,g,n,r),e.restore()}save(){this.inSMaskMode?(Ch(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Ch(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,n,r,l,h){this.ctx.transform(t,e,n,r,l,h),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){const r=this.ctx,l=this.current;let h=l.x,d=l.y,p,g;const m=fe(r),b=m[0]===0&&m[3]===0||m[1]===0&&m[2]===0,v=b?n.slice(0):null;for(let A=0,E=0,T=t.length;A<T;A++)switch(t[A]|0){case Cs.rectangle:h=e[E++],d=e[E++];const M=e[E++],C=e[E++],O=h+M,D=d+C;r.moveTo(h,d),M===0||C===0?r.lineTo(O,D):(r.lineTo(O,d),r.lineTo(O,D),r.lineTo(h,D)),b||l.updateRectMinMax(m,[h,d,O,D]),r.closePath();break;case Cs.moveTo:h=e[E++],d=e[E++],r.moveTo(h,d),b||l.updatePathMinMax(m,h,d);break;case Cs.lineTo:h=e[E++],d=e[E++],r.lineTo(h,d),b||l.updatePathMinMax(m,h,d);break;case Cs.curveTo:p=h,g=d,h=e[E+4],d=e[E+5],r.bezierCurveTo(e[E],e[E+1],e[E+2],e[E+3],h,d),l.updateCurvePathMinMax(m,p,g,e[E],e[E+1],e[E+2],e[E+3],h,d,v),E+=6;break;case Cs.curveTo2:p=h,g=d,r.bezierCurveTo(h,d,e[E],e[E+1],e[E+2],e[E+3]),l.updateCurvePathMinMax(m,p,g,h,d,e[E],e[E+1],e[E+2],e[E+3],v),h=e[E+2],d=e[E+3],E+=4;break;case Cs.curveTo3:p=h,g=d,h=e[E+2],d=e[E+3],r.bezierCurveTo(e[E],e[E+1],h,d,h,d),l.updateCurvePathMinMax(m,p,g,e[E],e[E+1],h,d,h,d,v),E+=4;break;case Cs.closePath:r.closePath();break}b&&l.updateScalingPathMinMax(m,v),l.setCurrentPoint(h,d)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,n=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(e.save(),e.strokeStyle=n.getPattern(e,this,zn(e),yi.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,n=this.current.fillColor,r=this.current.patternFill;let l=!1;r&&(e.save(),e.fillStyle=n.getPattern(e,this,zn(e),yi.FILL),l=!0);const h=this.current.getClippedPathBoundingBox();this.contentVisible&&h!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),l&&e.restore(),t&&this.consumePath(h)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=AO}eoClip(){this.pendingClip=gE}beginText(){this.current.textMatrix=lw,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const n of t)e.setTransform(...n.transform),e.translate(n.x,n.y),n.addToPath(e,n.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var m;const n=this.commonObjs.get(t),r=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=n.fontMatrix||Q0,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Rt("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;const l=n.loadedName||"sans-serif",h=((m=n.systemFontInfo)==null?void 0:m.css)||`"${l}", ${n.fallbackName}`;let d="normal";n.black?d="900":n.bold&&(d="bold");const p=n.italic?"italic":"normal";let g=e;e<lE?g=lE:e>oE&&(g=oE),this.current.fontSizeScale=e/g,this.ctx.font=`${p} ${d} ${g}px ${h}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,n,r,l,h){this.current.textMatrix=[t,e,n,r,l,h],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,n,r){const l=this.ctx,h=this.current,d=h.font,p=h.textRenderingMode,g=h.fontSize/h.fontSizeScale,m=p&si.FILL_STROKE_MASK,b=!!(p&si.ADD_TO_PATH_FLAG),v=h.patternFill&&!d.missingFile;let A;(d.disableFontFace||b||v)&&(A=d.getPathGenerator(this.commonObjs,t)),d.disableFontFace||v?(l.save(),l.translate(e,n),l.beginPath(),A(l,g),r&&l.setTransform(...r),(m===si.FILL||m===si.FILL_STROKE)&&l.fill(),(m===si.STROKE||m===si.FILL_STROKE)&&l.stroke(),l.restore()):((m===si.FILL||m===si.FILL_STROKE)&&l.fillText(t,e,n),(m===si.STROKE||m===si.FILL_STROKE)&&l.strokeText(t,e,n)),b&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:fe(l),x:e,y:n,fontSize:g,addToPath:A})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){n=!0;break}return Ht(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const r=e.fontSize;if(r===0)return;const l=this.ctx,h=e.fontSizeScale,d=e.charSpacing,p=e.wordSpacing,g=e.fontDirection,m=e.textHScale*g,b=t.length,v=n.vertical,A=v?1:-1,E=n.defaultVMetrics,T=r*e.fontMatrix[0],M=e.textRenderingMode===si.FILL&&!n.disableFontFace&&!e.patternFill;l.save(),l.transform(...e.textMatrix),l.translate(e.x,e.y+e.textRise),g>0?l.scale(m,-1):l.scale(m,1);let C;if(e.patternFill){l.save();const U=e.fillColor.getPattern(l,this,zn(l),yi.FILL);C=fe(l),l.restore(),l.fillStyle=U}let O=e.lineWidth;const D=e.textMatrixScale;if(D===0||O===0){const U=e.textRenderingMode&si.FILL_STROKE_MASK;(U===si.STROKE||U===si.FILL_STROKE)&&(O=this.getSinglePixelWidth())}else O/=D;if(h!==1&&(l.scale(h,h),O/=h),l.lineWidth=O,n.isInvalidPDFjsFont){const U=[];let X=0;for(const Y of t)U.push(Y.unicode),X+=Y.width;l.fillText(U.join(""),0,0),e.x+=X*T*m,l.restore(),this.compose();return}let k=0,F;for(F=0;F<b;++F){const U=t[F];if(typeof U=="number"){k+=A*U*r/1e3;continue}let X=!1;const Y=(U.isSpace?p:0)+d,Z=U.fontChar,rt=U.accent;let nt,ft,At=U.width;if(v){const mt=U.vmetric||E,q=-(U.vmetric?mt[1]:At*.5)*T,V=mt[2]*T;At=mt?-mt[0]:At,nt=q/h,ft=(k+V)/h}else nt=k/h,ft=0;if(n.remeasure&&At>0){const mt=l.measureText(Z).width*1e3/r*h;if(At<mt&&this.isFontSubpixelAAEnabled){const q=At/mt;X=!0,l.save(),l.scale(q,1),nt/=q}else At!==mt&&(nt+=(At-mt)/2e3*r/h)}if(this.contentVisible&&(U.isInFont||n.missingFile)){if(M&&!rt)l.fillText(Z,nt,ft);else if(this.paintChar(Z,nt,ft,C),rt){const mt=nt+r*rt.offset.x/h,q=ft-r*rt.offset.y/h;this.paintChar(rt.fontChar,mt,q,C)}}const xt=v?At*T-Y*g:At*T+Y*g;k+=xt,X&&l.restore()}v?e.y-=k:e.x+=k*m,l.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,r=n.font,l=n.fontSize,h=n.fontDirection,d=r.vertical?1:-1,p=n.charSpacing,g=n.wordSpacing,m=n.textHScale*h,b=n.fontMatrix||Q0,v=t.length,A=n.textRenderingMode===si.INVISIBLE;let E,T,M,C;if(!(A||l===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...n.textMatrix),e.translate(n.x,n.y),e.scale(m,h),E=0;E<v;++E){if(T=t[E],typeof T=="number"){C=d*T*l/1e3,this.ctx.translate(C,0),n.x+=C*m;continue}const O=(T.isSpace?g:0)+p,D=r.charProcOperatorList[T.operatorListId];if(!D){Rt(`Type3 character "${T.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=T,this.save(),e.scale(l,l),e.transform(...b),this.executeOperatorList(D),this.restore()),M=ut.applyTransform([T.width,0],b)[0]*l+O,e.translate(M,0),n.x+=M*m}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,r,l,h){this.ctx.rect(n,r,l-n,h-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const n=t[1],r=this.baseTransform||fe(this.ctx),l={createCanvasGraphics:h=>new Fv(h,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Eb(t,n,this.ctx,l,r)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,n){this.ctx.strokeStyle=this.current.strokeColor=ut.makeHexColor(t,e,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,n){this.ctx.fillStyle=this.current.fillColor=ut.makeHexColor(t,e,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=dO(this.getObject(t)),this.cachedPatterns.set(t,n)),e&&(n.matrix=e),n}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,zn(e),yi.SHADING);const r=zn(e);if(r){const{width:l,height:h}=e.canvas,[d,p,g,m]=ut.getAxialAlignedBoundingBox([0,0,l,h],r);this.ctx.fillRect(d,p,g-d,m-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ae("Should not call beginInlineImage")}beginImageData(){ae("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=fe(this.ctx),e)){const n=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],n,r),this.current.updateRectMinMax(fe(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||am("TODO: Support non-isolated groups."),t.knockout&&Rt("Knockout groups not supported.");const n=fe(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=ut.getAxialAlignedBoundingBox(t.bbox,fe(e));const l=[0,0,e.canvas.width,e.canvas.height];r=ut.intersect(r,l)||[0,0,0,0];const h=Math.floor(r[0]),d=Math.floor(r[1]),p=Math.max(Math.ceil(r[2])-h,1),g=Math.max(Math.ceil(r[3])-d,1);this.current.startNewPathAndClipBox([0,0,p,g]);let m="groupAt"+this.groupLevel;t.smask&&(m+="_smask_"+this.smaskCounter++%2);const b=this.cachedCanvases.getCanvas(m,p,g),v=b.context;v.translate(-h,-d),v.transform(...n),t.smask?this.smaskStack.push({canvas:b.canvas,context:v,offsetX:h,offsetY:d,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(h,d),e.save()),Ch(e,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=fe(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const l=ut.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],r);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,n,r,l){if(w(this,Lr,wb).call(this),jp(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const h=e[2]-e[0],d=e[3]-e[1];if(l&&this.annotationCanvasMap){n=n.slice(),n[4]-=e[0],n[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=h,e[3]=d;const[p,g]=ut.singularValueDecompose2dScale(fe(this.ctx)),{viewportScale:m}=this,b=Math.ceil(h*this.outputScaleX*m),v=Math.ceil(d*this.outputScaleY*m);this.annotationCanvas=this.canvasFactory.create(b,v);const{canvas:A,context:E}=this.annotationCanvas;this.annotationCanvasMap.set(t,A),this.annotationCanvas.savedCtx=this.ctx,this.ctx=E,this.ctx.save(),this.ctx.setTransform(p,0,0,-g,0,d*g),jp(this.ctx)}else jp(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],h,d),this.ctx.clip(),this.ctx.beginPath()}this.current=new hE(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),w(this,Lr,Tb).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const n=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=yO(t)),r.compiled)){r.compiled(n);return}const l=this._createMaskCanvas(t),h=l.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(h,l.offsetX,l.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n=0,r=0,l,h){if(!this.contentVisible)return;t=this.getObject(t.data,t);const d=this.ctx;d.save();const p=fe(d);d.transform(e,n,r,l,0,0);const g=this._createMaskCanvas(t);d.setTransform(1,0,0,1,g.offsetX-p[4],g.offsetY-p[5]);for(let m=0,b=h.length;m<b;m+=2){const v=ut.transform(p,[e,n,r,l,h[m],h[m+1]]),[A,E]=ut.applyTransform([0,0],v);d.drawImage(g.canvas,A,E)}d.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const l of t){const{data:h,width:d,height:p,transform:g}=l,m=this.cachedCanvases.getCanvas("maskCanvas",d,p),b=m.context;b.save();const v=this.getObject(h,l);fE(b,v),b.globalCompositeOperation="source-in",b.fillStyle=r?n.getPattern(b,this,zn(e),yi.FILL):n,b.fillRect(0,0,d,p),b.restore(),e.save(),e.transform(...g),e.scale(1,-1),qp(e,m.canvas,0,0,d,p,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){Rt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,n,r){if(!this.contentVisible)return;const l=this.getObject(t);if(!l){Rt("Dependent image isn't ready yet");return}const h=l.width,d=l.height,p=[];for(let g=0,m=r.length;g<m;g+=2)p.push({transform:[e,0,0,n,r[g],r[g+1]],x:0,y:0,w:h,h:d});this.paintInlineImageXObjectGroup(l,p)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:r}=t,l=this.cachedCanvases.getCanvas("inlineImage",n,r),h=l.context;return h.filter=this.current.transferMaps,h.drawImage(e,0,0),h.filter="none",l.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,r=this.ctx;if(this.save(),!hi){const{filter:d}=r;d!=="none"&&d!==""&&(r.filter="none")}r.scale(1/e,-1/n);let l;if(t.bitmap)l=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)l=t;else{const p=this.cachedCanvases.getCanvas("inlineImage",e,n).context;dE(p,t),l=this.applyTransferMapsToCanvas(p)}const h=this._scaleImage(l,zn(r));r.imageSmoothingEnabled=pE(fe(r),t.interpolate),qp(r,h.img,0,0,h.paintWidth,h.paintHeight,0,-n,e,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const l=t.width,h=t.height,p=this.cachedCanvases.getCanvas("inlineImage",l,h).context;dE(p,t),r=this.applyTransferMapsToCanvas(p)}for(const l of e)n.save(),n.transform(...l.transform),n.scale(1,-1),qp(n,r,l.x,l.y,l.w,l.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const n=this.ctx;this.pendingClip&&(e||(this.pendingClip===gE?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=fe(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:r,d:l}=this.ctx.getTransform();let h,d;if(n===0&&r===0){const p=Math.abs(e),g=Math.abs(l);if(p===g)if(t===0)h=d=1/p;else{const m=p*t;h=d=m<1?1/m:1}else if(t===0)h=1/p,d=1/g;else{const m=p*t,b=g*t;h=m<1?1/m:1,d=b<1?1/b:1}}else{const p=Math.abs(e*l-n*r),g=Math.hypot(e,n),m=Math.hypot(r,l);if(t===0)h=m/p,d=g/p;else{const b=t*p;h=m>b?m/b:1,d=g>b?g/b:1}}this._cachedScaleForStroking[0]=h,this._cachedScaleForStroking[1]=d}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:n}=this.current,[r,l]=this.getScaleForStroking();if(e.lineWidth=n||1,r===1&&l===1){e.stroke();return}const h=e.getLineDash();if(t&&e.save(),e.scale(r,l),h.length>0){const d=Math.max(r,l);e.setLineDash(h.map(p=>p/d)),e.lineDashOffset/=d}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Lr=new WeakSet,wb=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Tb=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let dc=Fv;for(const c in Cs)dc.prototype[c]!==void 0&&(dc.prototype[Cs[c]]=dc.prototype[c]);var Ed,wd;class pa{static get workerPort(){return u(this,Ed)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");S(this,Ed,t)}static get workerSrc(){return u(this,wd)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");S(this,wd,t)}}Ed=new WeakMap,wd=new WeakMap,x(pa,Ed,null),x(pa,wd,"");const Gp={DATA:1,ERROR:2},we={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function ji(c){switch(c instanceof Error||typeof c=="object"&&c!==null||ae('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),c.name){case"AbortException":return new go(c.message);case"MissingPDFException":return new po(c.message);case"PasswordException":return new $0(c.message,c.code);case"UnexpectedResponseException":return new rm(c.message,c.status);case"UnknownErrorException":return new W0(c.message,c.details);default:return new W0(c.message,c.toString())}}var Hc,As,Xw,Yw,Vw,ng;class Fh{constructor(t,e,n){x(this,As);x(this,Hc,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",w(this,As,Xw).bind(this),{signal:u(this,Hc).signal})}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const r=this.callbackId++,l=Promise.withResolvers();this.callbackCapabilities[r]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},n)}catch(h){l.reject(h)}return l.promise}sendWithStream(t,e,n,r){const l=this.streamId++,h=this.sourceName,d=this.targetName,p=this.comObj;return new ReadableStream({start:g=>{const m=Promise.withResolvers();return this.streamControllers[l]={controller:g,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},p.postMessage({sourceName:h,targetName:d,action:t,streamId:l,data:e,desiredSize:g.desiredSize},r),m.promise},pull:g=>{const m=Promise.withResolvers();return this.streamControllers[l].pullCall=m,p.postMessage({sourceName:h,targetName:d,stream:we.PULL,streamId:l,desiredSize:g.desiredSize}),m.promise},cancel:g=>{Ne(g instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[l].cancelCall=m,this.streamControllers[l].isClosed=!0,p.postMessage({sourceName:h,targetName:d,stream:we.CANCEL,streamId:l,reason:ji(g)}),m.promise}},n)}destroy(){var t;(t=u(this,Hc))==null||t.abort(),S(this,Hc,null)}}Hc=new WeakMap,As=new WeakSet,Xw=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){w(this,As,Vw).call(this,t);return}if(t.callback){const n=t.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===Gp.DATA)r.resolve(t.data);else if(t.callback===Gp.ERROR)r.reject(ji(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,r=t.sourceName,l=this.comObj;new Promise(function(h){h(e(t.data))}).then(function(h){l.postMessage({sourceName:n,targetName:r,callback:Gp.DATA,callbackId:t.callbackId,data:h})},function(h){l.postMessage({sourceName:n,targetName:r,callback:Gp.ERROR,callbackId:t.callbackId,reason:ji(h)})});return}if(t.streamId){w(this,As,Yw).call(this,t);return}e(t.data)},Yw=function(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,l=this.comObj,h=this,d=this.actionHandler[t.action],p={enqueue(g,m=1,b){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=m,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:n,targetName:r,stream:we.ENQUEUE,streamId:e,chunk:g},b)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:n,targetName:r,stream:we.CLOSE,streamId:e}),delete h.streamSinks[e])},error(g){Ne(g instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:n,targetName:r,stream:we.ERROR,streamId:e,reason:ji(g)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};p.sinkCapability.resolve(),p.ready=p.sinkCapability.promise,this.streamSinks[e]=p,new Promise(function(g){g(d(t.data,p))}).then(function(){l.postMessage({sourceName:n,targetName:r,stream:we.START_COMPLETE,streamId:e,success:!0})},function(g){l.postMessage({sourceName:n,targetName:r,stream:we.START_COMPLETE,streamId:e,reason:ji(g)})})},Vw=function(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,l=this.comObj,h=this.streamControllers[e],d=this.streamSinks[e];switch(t.stream){case we.START_COMPLETE:t.success?h.startCall.resolve():h.startCall.reject(ji(t.reason));break;case we.PULL_COMPLETE:t.success?h.pullCall.resolve():h.pullCall.reject(ji(t.reason));break;case we.PULL:if(!d){l.postMessage({sourceName:n,targetName:r,stream:we.PULL_COMPLETE,streamId:e,success:!0});break}d.desiredSize<=0&&t.desiredSize>0&&d.sinkCapability.resolve(),d.desiredSize=t.desiredSize,new Promise(function(p){var g;p((g=d.onPull)==null?void 0:g.call(d))}).then(function(){l.postMessage({sourceName:n,targetName:r,stream:we.PULL_COMPLETE,streamId:e,success:!0})},function(p){l.postMessage({sourceName:n,targetName:r,stream:we.PULL_COMPLETE,streamId:e,reason:ji(p)})});break;case we.ENQUEUE:if(Ne(h,"enqueue should have stream controller"),h.isClosed)break;h.controller.enqueue(t.chunk);break;case we.CLOSE:if(Ne(h,"close should have stream controller"),h.isClosed)break;h.isClosed=!0,h.controller.close(),w(this,As,ng).call(this,h,e);break;case we.ERROR:Ne(h,"error should have stream controller"),h.controller.error(ji(t.reason)),w(this,As,ng).call(this,h,e);break;case we.CANCEL_COMPLETE:t.success?h.cancelCall.resolve():h.cancelCall.reject(ji(t.reason)),w(this,As,ng).call(this,h,e);break;case we.CANCEL:if(!d)break;new Promise(function(p){var g;p((g=d.onCancel)==null?void 0:g.call(d,ji(t.reason)))}).then(function(){l.postMessage({sourceName:n,targetName:r,stream:we.CANCEL_COMPLETE,streamId:e,success:!0})},function(p){l.postMessage({sourceName:n,targetName:r,stream:we.CANCEL_COMPLETE,streamId:e,reason:ji(p)})}),d.sinkCapability.reject(ji(t.reason)),d.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},ng=async function(t,e){var n,r,l;await Promise.allSettled([(n=t.startCall)==null?void 0:n.promise,(r=t.pullCall)==null?void 0:r.promise,(l=t.cancelCall)==null?void 0:l.promise]),delete this.streamControllers[e]};var Ml,Td;class _O{constructor({parsedData:t,rawData:e}){x(this,Ml);x(this,Td);S(this,Ml,t),S(this,Td,e)}getRaw(){return u(this,Td)}get(t){return u(this,Ml).get(t)??null}getAll(){return Sv(u(this,Ml))}has(t){return u(this,Ml).has(t)}}Ml=new WeakMap,Td=new WeakMap;const rc=Symbol("INTERNAL");var xd,Cd,Rd,zc;class SO{constructor(t,{name:e,intent:n,usage:r,rbGroups:l}){x(this,xd,!1);x(this,Cd,!1);x(this,Rd,!1);x(this,zc,!0);S(this,xd,!!(t&Zi.DISPLAY)),S(this,Cd,!!(t&Zi.PRINT)),this.name=e,this.intent=n,this.usage=r,this.rbGroups=l}get visible(){if(u(this,Rd))return u(this,zc);if(!u(this,zc))return!1;const{print:t,view:e}=this.usage;return u(this,xd)?(e==null?void 0:e.viewState)!=="OFF":u(this,Cd)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,n=!1){t!==rc&&ae("Internal method `_setVisible` called."),S(this,Rd,n),S(this,zc,e)}}xd=new WeakMap,Cd=new WeakMap,Rd=new WeakMap,zc=new WeakMap;var fr,Vt,Ic,Uc,Md,xb;class EO{constructor(t,e=Zi.DISPLAY){x(this,Md);x(this,fr,null);x(this,Vt,new Map);x(this,Ic,null);x(this,Uc,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,S(this,Uc,t.order);for(const n of t.groups)u(this,Vt).set(n.id,new SO(e,n));if(t.baseState==="OFF")for(const n of u(this,Vt).values())n._setVisible(rc,!1);for(const n of t.on)u(this,Vt).get(n)._setVisible(rc,!0);for(const n of t.off)u(this,Vt).get(n)._setVisible(rc,!1);S(this,Ic,this.getHash())}}isVisible(t){if(u(this,Vt).size===0)return!0;if(!t)return am("Optional content group not defined."),!0;if(t.type==="OCG")return u(this,Vt).has(t.id)?u(this,Vt).get(t.id).visible:(Rt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return w(this,Md,xb).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!u(this,Vt).has(e))return Rt(`Optional content group not found: ${e}`),!0;if(u(this,Vt).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!u(this,Vt).has(e))return Rt(`Optional content group not found: ${e}`),!0;if(!u(this,Vt).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!u(this,Vt).has(e))return Rt(`Optional content group not found: ${e}`),!0;if(!u(this,Vt).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!u(this,Vt).has(e))return Rt(`Optional content group not found: ${e}`),!0;if(u(this,Vt).get(e).visible)return!1}return!0}return Rt(`Unknown optional content policy ${t.policy}.`),!0}return Rt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){var l;const r=u(this,Vt).get(t);if(!r){Rt(`Optional content group not found: ${t}`);return}if(n&&e&&r.rbGroups.length)for(const h of r.rbGroups)for(const d of h)d!==t&&((l=u(this,Vt).get(d))==null||l._setVisible(rc,!1,!0));r._setVisible(rc,!!e,!0),S(this,fr,null)}setOCGState({state:t,preserveRB:e}){let n;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const l=u(this,Vt).get(r);if(l)switch(n){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!l.visible,e);break}}S(this,fr,null)}get hasInitialVisibility(){return u(this,Ic)===null||this.getHash()===u(this,Ic)}getOrder(){return u(this,Vt).size?u(this,Uc)?u(this,Uc).slice():[...u(this,Vt).keys()]:null}getGroups(){return u(this,Vt).size>0?Sv(u(this,Vt)):null}getGroup(t){return u(this,Vt).get(t)||null}getHash(){if(u(this,fr)!==null)return u(this,fr);const t=new Nw;for(const[e,n]of u(this,Vt))t.update(`${e}:${n.visible}`);return S(this,fr,t.hexdigest())}}fr=new WeakMap,Vt=new WeakMap,Ic=new WeakMap,Uc=new WeakMap,Md=new WeakSet,xb=function(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let r=1;r<e;r++){const l=t[r];let h;if(Array.isArray(l))h=w(this,Md,xb).call(this,l);else if(u(this,Vt).has(l))h=u(this,Vt).get(l).visible;else return Rt(`Optional content group not found: ${l}`),!0;switch(n){case"And":if(!h)return!1;break;case"Or":if(h)return!0;break;case"Not":return!h;default:return!0}}return n==="And"};class wO{constructor(t,{disableRange:e=!1,disableStream:n=!1}){Ne(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:l,progressiveDone:h,contentDispositionFilename:d}=t;if(this._queuedChunks=[],this._progressiveDone=h,this._contentDispositionFilename=d,(l==null?void 0:l.length)>0){const p=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(p)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((p,g)=>{this._onReceiveData({begin:p,chunk:g})}),t.addProgressListener((p,g)=>{this._onProgress({loaded:p,total:g})}),t.addProgressiveReadListener(p=>{this._onReceiveData({chunk:p})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(l){return l._begin!==t?!1:(l._enqueue(n),!0)});Ne(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,n,r,l;t.total===void 0?(n=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||n.call(e,{loaded:t.loaded}):(l=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||l.call(r,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Ne(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new TO(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new xO(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class TO{constructor(t,e,n=!1,r=null){this._stream=t,this._done=n||!1,this._filename=Tv(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class xO{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function CO(c){let t=!0,e=n("filename\\*","i").exec(c);if(e){e=e[1];let m=d(e);return m=unescape(m),m=p(m),m=g(m),l(m)}if(e=h(c),e){const m=g(e);return l(m)}if(e=n("filename","i").exec(c),e){e=e[1];let m=d(e);return m=g(m),l(m)}function n(m,b){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',b)}function r(m,b){if(m){if(!/^[\x00-\xFF]+$/.test(b))return b;try{const v=new TextDecoder(m,{fatal:!0}),A=lm(b);b=v.decode(A),t=!1}catch{}}return b}function l(m){return t&&/[\x80-\xff]/.test(m)&&(m=r("utf-8",m),t&&(m=r("iso-8859-1",m))),m}function h(m){const b=[];let v;const A=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=A.exec(m))!==null;){let[,T,M,C]=v;if(T=parseInt(T,10),T in b){if(T===0)break;continue}b[T]=[M,C]}const E=[];for(let T=0;T<b.length&&T in b;++T){let[M,C]=b[T];C=d(C),M&&(C=unescape(C),T===0&&(C=p(C))),E.push(C)}return E.join("")}function d(m){if(m.startsWith('"')){const b=m.slice(1).split('\\"');for(let v=0;v<b.length;++v){const A=b[v].indexOf('"');A!==-1&&(b[v]=b[v].slice(0,A),b.length=v+1),b[v]=b[v].replaceAll(/\\(.)/g,"$1")}m=b.join('"')}return m}function p(m){const b=m.indexOf("'");if(b===-1)return m;const v=m.slice(0,b),E=m.slice(b+1).replace(/^[^']*'/,"");return r(v,E)}function g(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(b,v,A,E){if(A==="q"||A==="Q")return E=E.replaceAll("_"," "),E=E.replaceAll(/=([0-9a-fA-F]{2})/g,function(T,M){return String.fromCharCode(parseInt(M,16))}),r(v,E);try{E=atob(E)}catch{}return r(v,E)})}return""}function Dv(c,t){const e=new Headers;if(!c||!t||typeof t!="object")return e;for(const n in t){const r=t[n];r!==void 0&&e.append(n,r)}return e}function Ov({responseHeaders:c,isHttp:t,rangeChunkSize:e,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(c.get("Content-Length"),10);return!Number.isInteger(l)||(r.suggestedLength=l,l<=2*e)||n||!t||c.get("Accept-Ranges")!=="bytes"||(c.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function Lv(c){const t=c.get("Content-Disposition");if(t){let e=CO(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Tv(e))return e}return null}function um(c,t){return c===404||c===0&&t.startsWith("file:")?new po('Missing PDF "'+t+'".'):new rm(`Unexpected server response (${c}) while retrieving PDF "${t}".`,c)}function Kw(c){return c===200||c===206}function Qw(c,t,e){return{method:"GET",headers:c,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function $w(c){return c instanceof Uint8Array?c.buffer:c instanceof ArrayBuffer?c:(Rt(`getArrayBuffer - unexpected data format: ${c}`),new Uint8Array(c).buffer)}class mE{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=Dv(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Ne(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new RO(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new MO(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class RO{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),r=e.url;fetch(r,Qw(n,this._withCredentials,this._abortController)).then(l=>{if(!Kw(l.status))throw um(l.status,r);this._reader=l.body.getReader(),this._headersCapability.resolve();const h=l.headers,{allowRangeRequests:d,suggestedLength:p}=Ov({responseHeaders:h,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=d,this._contentLength=p||this._contentLength,this._filename=Lv(h),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new go("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:$w(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class MO{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const l=new Headers(t.headers);l.append("Range",`bytes=${e}-${n-1}`);const h=r.url;fetch(h,Qw(l,this._withCredentials,this._abortController)).then(d=>{if(!Kw(d.status))throw um(d.status,h);this._readCapability.resolve(),this._reader=d.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:$w(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const U0=200,B0=206;function DO(c){const t=c.response;return typeof t!="string"?t:lm(t).buffer}class OO{constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=Dv(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,n){const r={begin:t,end:e};for(const l in n)r[l]=n[l];return this.request(r)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[l,h]of this.headers)e.setRequestHeader(l,h);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=B0):r.expectedStatus=U0,e.responseType="arraybuffer",t.onError&&(e.onerror=function(l){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){var r;const n=this.pendingRequests[t];n&&((r=n.onProgress)==null||r.call(n,e))}onStateChange(t,e){var p,g,m;const n=this.pendingRequests[t];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){(p=n.onError)==null||p.call(n,r.status);return}const l=r.status||U0;if(!(l===U0&&n.expectedStatus===B0)&&l!==n.expectedStatus){(g=n.onError)==null||g.call(n,r.status);return}const d=DO(r);if(l===B0){const b=r.getResponseHeader("Content-Range"),v=/bytes (\d+)-(\d+)\/(\d+)/.exec(b);n.onDone({begin:parseInt(v[1],10),chunk:d})}else d?n.onDone({begin:0,chunk:d}):(m=n.onError)==null||m.call(n,r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class LO{constructor(t){this._source=t,this._manager=new OO(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Ne(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new kO(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new NO(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class kO{constructor(t,e){this._manager=t;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),n=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map(h=>{const[d,...p]=h.split(": ");return[d,p.join(": ")]})),{allowRangeRequests:r,suggestedLength:l}=Ov({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=Lv(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=um(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class NO{constructor(t,e,n){this._manager=t;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=um(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const PO=/^[a-z][a-z0-9\-+.]+:/i;function FO(c){if(PO.test(c))return new URL(c);const t=Dr.get("url");return new URL(t.pathToFileURL(c))}function Ww(c,t,e){return c.protocol==="http:"?Dr.get("http").request(c,{headers:t},e):Dr.get("https").request(c,{headers:t},e)}class HO{constructor(t){this.source=t,this.url=FO(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=Dv(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Ne(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new UO(this):new zO(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=this.isFsUrl?new BO(this,t,e):new IO(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class Zw{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new go("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Jw{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class zO extends Zw{constructor(t){super(t);const e=Object.fromEntries(t.headers),n=r=>{if(r.statusCode===404){const p=new po(`Missing PDF "${this._url}".`);this._storedError=p,this._headersCapability.reject(p);return}this._headersCapability.resolve(),this._setReadableStream(r);const l=new Headers(this._readableStream.headers),{allowRangeRequests:h,suggestedLength:d}=Ov({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=d||this._contentLength,this._filename=Lv(l)};this._request=Ww(this._url,e,n),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class IO extends Jw{constructor(t,e,n){super(t);const r=Object.fromEntries(t.headers);r.Range=`bytes=${e}-${n-1}`;const l=h=>{if(h.statusCode===404){const d=new po(`Missing PDF "${this._url}".`);this._storedError=d;return}this._setReadableStream(h)};this._request=Ww(this._url,r,l),this._request.on("error",h=>{this._storedError=h}),this._request.end()}}class UO extends Zw{constructor(t){super(t);const e=Dr.get("fs");e.promises.lstat(this._url).then(n=>{this._contentLength=n.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()},n=>{n.code==="ENOENT"&&(n=new po(`Missing PDF "${this._url}".`)),this._storedError=n,this._headersCapability.reject(n)})}}class BO extends Jw{constructor(t,e,n){super(t);const r=Dr.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:n-1}))}}const qO=1e5,Ci=30,jO=.8;var ME,pr,Di,Dd,Od,Dl,$n,Ld,kd,Ol,Bc,qc,gr,jc,Nd,Gc,Ll,Pd,Fd,kl,Nl,Hd,mr,Xc,_a,tT,eT,Cb,ts,ag,Rb,iT,sT;const De=class De{constructor({textContentSource:t,container:e,viewport:n}){x(this,_a);x(this,pr,Promise.withResolvers());x(this,Di,null);x(this,Dd,!1);x(this,Od,!!((ME=globalThis.FontInspector)!=null&&ME.enabled));x(this,Dl,null);x(this,$n,null);x(this,Ld,0);x(this,kd,0);x(this,Ol,null);x(this,Bc,null);x(this,qc,0);x(this,gr,0);x(this,jc,Object.create(null));x(this,Nd,[]);x(this,Gc,null);x(this,Ll,[]);x(this,Pd,new WeakMap);x(this,Fd,null);var p;if(t instanceof ReadableStream)S(this,Gc,t);else if(typeof t=="object")S(this,Gc,new ReadableStream({start(g){g.enqueue(t),g.close()}}));else throw new Error('No "textContentSource" parameter specified.');S(this,Di,S(this,Bc,e)),S(this,gr,n.scale*(globalThis.devicePixelRatio||1)),S(this,qc,n.rotation),S(this,$n,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:l,pageX:h,pageY:d}=n.rawDims;S(this,Fd,[1,0,0,-1,-h,d+l]),S(this,kd,r),S(this,Ld,l),w(p=De,ts,iT).call(p),oo(e,n),u(this,pr).promise.finally(()=>{u(De,Xc).delete(this),S(this,$n,null),S(this,jc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=vi.platform;return Ht(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{u(this,Ol).read().then(({value:e,done:n})=>{if(n){u(this,pr).resolve();return}u(this,Dl)??S(this,Dl,e.lang),Object.assign(u(this,jc),e.styles),w(this,_a,tT).call(this,e.items),t()},u(this,pr).reject)};return S(this,Ol,u(this,Gc).getReader()),u(De,Xc).add(this),t(),u(this,pr).promise}update({viewport:t,onBefore:e=null}){var l;const n=t.scale*(globalThis.devicePixelRatio||1),r=t.rotation;if(r!==u(this,qc)&&(e==null||e(),S(this,qc,r),oo(u(this,Bc),{rotation:r})),n!==u(this,gr)){e==null||e(),S(this,gr,n);const h={div:null,properties:null,ctx:w(l=De,ts,ag).call(l,u(this,Dl))};for(const d of u(this,Ll))h.properties=u(this,Pd).get(d),h.div=d,w(this,_a,Cb).call(this,h)}}cancel(){var e;const t=new go("TextLayer task cancelled.");(e=u(this,Ol))==null||e.cancel(t).catch(()=>{}),S(this,Ol,null),u(this,pr).reject(t)}get textDivs(){return u(this,Ll)}get textContentItemsStr(){return u(this,Nd)}static cleanup(){if(!(u(this,Xc).size>0)){u(this,kl).clear();for(const{canvas:t}of u(this,Nl).values())t.remove();u(this,Nl).clear()}}};pr=new WeakMap,Di=new WeakMap,Dd=new WeakMap,Od=new WeakMap,Dl=new WeakMap,$n=new WeakMap,Ld=new WeakMap,kd=new WeakMap,Ol=new WeakMap,Bc=new WeakMap,qc=new WeakMap,gr=new WeakMap,jc=new WeakMap,Nd=new WeakMap,Gc=new WeakMap,Ll=new WeakMap,Pd=new WeakMap,Fd=new WeakMap,kl=new WeakMap,Nl=new WeakMap,Hd=new WeakMap,mr=new WeakMap,Xc=new WeakMap,_a=new WeakSet,tT=function(t){var r,l;if(u(this,Dd))return;(l=u(this,$n)).ctx??(l.ctx=w(r=De,ts,ag).call(r,u(this,Dl)));const e=u(this,Ll),n=u(this,Nd);for(const h of t){if(e.length>qO){Rt("Ignoring additional textDivs for performance reasons."),S(this,Dd,!0);return}if(h.str===void 0){if(h.type==="beginMarkedContentProps"||h.type==="beginMarkedContent"){const d=u(this,Di);S(this,Di,document.createElement("span")),u(this,Di).classList.add("markedContent"),h.id!==null&&u(this,Di).setAttribute("id",`${h.id}`),d.append(u(this,Di))}else h.type==="endMarkedContent"&&S(this,Di,u(this,Di).parentNode);continue}n.push(h.str),w(this,_a,eT).call(this,h)}},eT=function(t){var T;const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};u(this,Ll).push(e);const r=ut.transform(u(this,Fd),t.transform);let l=Math.atan2(r[1],r[0]);const h=u(this,jc)[t.fontName];h.vertical&&(l+=Math.PI/2);let d=u(this,Od)&&h.fontSubstitution||h.fontFamily;d=De.fontFamilyMap.get(d)||d;const p=Math.hypot(r[2],r[3]),g=p*w(T=De,ts,sT).call(T,d,u(this,Dl));let m,b;l===0?(m=r[4],b=r[5]-g):(m=r[4]+g*Math.sin(l),b=r[5]-g*Math.cos(l));const v="calc(var(--scale-factor)*",A=e.style;u(this,Di)===u(this,Bc)?(A.left=`${(100*m/u(this,kd)).toFixed(2)}%`,A.top=`${(100*b/u(this,Ld)).toFixed(2)}%`):(A.left=`${v}${m.toFixed(2)}px)`,A.top=`${v}${b.toFixed(2)}px)`),A.fontSize=`${v}${(u(De,mr)*p).toFixed(2)}px)`,A.fontFamily=d,n.fontSize=p,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,u(this,Od)&&(e.dataset.fontName=h.fontSubstitutionLoadedName||t.fontName),l!==0&&(n.angle=l*(180/Math.PI));let E=!1;if(t.str.length>1)E=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const M=Math.abs(t.transform[0]),C=Math.abs(t.transform[3]);M!==C&&Math.max(M,C)/Math.min(M,C)>1.5&&(E=!0)}if(E&&(n.canvasWidth=h.vertical?t.height:t.width),u(this,Pd).set(e,n),u(this,$n).div=e,u(this,$n).properties=n,w(this,_a,Cb).call(this,u(this,$n)),n.hasText&&u(this,Di).append(e),n.hasEOL){const M=document.createElement("br");M.setAttribute("role","presentation"),u(this,Di).append(M)}},Cb=function(t){var d;const{div:e,properties:n,ctx:r}=t,{style:l}=e;let h="";if(u(De,mr)>1&&(h=`scale(${1/u(De,mr)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:p}=l,{canvasWidth:g,fontSize:m}=n;w(d=De,ts,Rb).call(d,r,m*u(this,gr),p);const{width:b}=r.measureText(e.textContent);b>0&&(h=`scaleX(${g*u(this,gr)/b}) ${h}`)}n.angle!==0&&(h=`rotate(${n.angle}deg) ${h}`),h.length>0&&(l.transform=h)},ts=new WeakSet,ag=function(t=null){let e=u(this,Nl).get(t||(t=""));if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),u(this,Nl).set(t,e),u(this,Hd).set(e,{size:0,family:""})}return e},Rb=function(t,e,n){const r=u(this,Hd).get(t);e===r.size&&n===r.family||(t.font=`${e}px ${n}`,r.size=e,r.family=n)},iT=function(){if(u(this,mr)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),S(this,mr,t.getBoundingClientRect().height),t.remove()},sT=function(t,e){const n=u(this,kl).get(t);if(n)return n;const r=w(this,ts,ag).call(this,e);r.canvas.width=r.canvas.height=Ci,w(this,ts,Rb).call(this,r,Ci,t);const l=r.measureText("");let h=l.fontBoundingBoxAscent,d=Math.abs(l.fontBoundingBoxDescent);if(h){const m=h/(h+d);return u(this,kl).set(t,m),r.canvas.width=r.canvas.height=0,m}r.strokeStyle="red",r.clearRect(0,0,Ci,Ci),r.strokeText("g",0,0);let p=r.getImageData(0,0,Ci,Ci).data;d=0;for(let m=p.length-1-3;m>=0;m-=4)if(p[m]>0){d=Math.ceil(m/4/Ci);break}r.clearRect(0,0,Ci,Ci),r.strokeText("A",0,Ci),p=r.getImageData(0,0,Ci,Ci).data,h=0;for(let m=0,b=p.length;m<b;m+=4)if(p[m]>0){h=Ci-Math.floor(m/4/Ci);break}r.canvas.width=r.canvas.height=0;const g=h?h/(h+d):jO;return u(this,kl).set(t,g),g},x(De,ts),x(De,kl,new Map),x(De,Nl,new Map),x(De,Hd,new WeakMap),x(De,mr,null),x(De,Xc,new Set);let Zh=De;class Jh{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function r(l){var p;if(!l)return;let h=null;const d=l.name;if(d==="#text")h=l.value;else if(Jh.shouldBuildText(d))(p=l==null?void 0:l.attributes)!=null&&p.textContent?h=l.attributes.textContent:l.value&&(h=l.value);else return;if(h!==null&&e.push({str:h}),!!l.children)for(const g of l.children)r(g)}return r(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const GO=65536,XO=100,YO=5e3,VO=hi?aO:iO,KO=hi?rO:Iw,QO=hi?nO:sO,$O=hi?lO:jw;function WO(c={}){typeof c=="string"||c instanceof URL?c={url:c}:(c instanceof ArrayBuffer||ArrayBuffer.isView(c))&&(c={data:c});const t=new Mb,{docId:e}=t,n=c.url?ZO(c.url):null,r=c.data?JO(c.data):null,l=c.httpHeaders||null,h=c.withCredentials===!0,d=c.password??null,p=c.range instanceof nT?c.range:null,g=Number.isInteger(c.rangeChunkSize)&&c.rangeChunkSize>0?c.rangeChunkSize:GO;let m=c.worker instanceof fc?c.worker:null;const b=c.verbosity,v=typeof c.docBaseUrl=="string"&&!cm(c.docBaseUrl)?c.docBaseUrl:null,A=typeof c.cMapUrl=="string"?c.cMapUrl:null,E=c.cMapPacked!==!1,T=c.CMapReaderFactory||KO,M=typeof c.standardFontDataUrl=="string"?c.standardFontDataUrl:null,C=c.StandardFontDataFactory||$O,O=c.stopAtErrors!==!0,D=Number.isInteger(c.maxImageSize)&&c.maxImageSize>-1?c.maxImageSize:-1,k=c.isEvalSupported!==!1,F=typeof c.isOffscreenCanvasSupported=="boolean"?c.isOffscreenCanvasSupported:!hi,U=typeof c.isChrome=="boolean"?c.isChrome:!vi.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),X=Number.isInteger(c.canvasMaxAreaInBytes)?c.canvasMaxAreaInBytes:-1,Y=typeof c.disableFontFace=="boolean"?c.disableFontFace:hi,Z=c.fontExtraProperties===!0,rt=c.enableXfa===!0,nt=c.ownerDocument||globalThis.document,ft=c.disableRange===!0,At=c.disableStream===!0,xt=c.disableAutoFetch===!0,mt=c.pdfBug===!0,q=c.CanvasFactory||VO,V=c.FilterFactory||QO,J=c.enableHWA===!0,Pt=p?p.length:c.length??NaN,N=typeof c.useSystemFonts=="boolean"?c.useSystemFonts:!hi&&!Y,$=typeof c.useWorkerFetch=="boolean"?c.useWorkerFetch:T===Iw&&C===jw&&A&&M&&Mh(A,document.baseURI)&&Mh(M,document.baseURI);c.canvasFactory&&nE("`canvasFactory`-instance option, please use `CanvasFactory` instead."),c.filterFactory&&nE("`filterFactory`-instance option, please use `FilterFactory` instead.");const et=null;kD(b);const tt={canvasFactory:new q({ownerDocument:nt,enableHWA:J}),filterFactory:new V({docId:e,ownerDocument:nt}),cMapReaderFactory:$?null:new T({baseUrl:A,isCompressed:E}),standardFontDataFactory:$?null:new C({baseUrl:M})};if(!m){const ot={verbosity:b,port:pa.workerPort};m=ot.port?fc.fromPort(ot):new fc(ot),t._worker=m}const ct={docId:e,apiVersion:"4.8.69",data:r,password:d,disableAutoFetch:xt,rangeChunkSize:g,length:Pt,docBaseUrl:v,enableXfa:rt,evaluatorOptions:{maxImageSize:D,disableFontFace:Y,ignoreErrors:O,isEvalSupported:k,isOffscreenCanvasSupported:F,isChrome:U,canvasMaxAreaInBytes:X,fontExtraProperties:Z,useSystemFonts:N,cMapUrl:$?A:null,standardFontDataUrl:$?M:null}},Mt={disableFontFace:Y,fontExtraProperties:Z,ownerDocument:nt,pdfBug:mt,styleElement:et,loadingParams:{disableAutoFetch:xt,enableXfa:rt}};return m.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const ot=m.messageHandler.sendWithPromise("GetDocRequest",ct,r?[r.buffer]:null);let Dt;if(p)Dt=new wO(p,{disableRange:ft,disableStream:At});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");let qt;hi?qt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Mh(n)?mE:HO:qt=Mh(n)?mE:LO,Dt=new qt({url:n,length:Pt,httpHeaders:l,withCredentials:h,rangeChunkSize:g,disableRange:ft,disableStream:At})}return ot.then(qt=>{if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const es=new Fh(e,qt,m.port),wu=new sL(es,t,Dt,Mt,tt);t._transport=wu,es.send("Ready",null)})}).catch(t._capability.reject),t}function ZO(c){if(c instanceof URL)return c.href;try{return new URL(c,window.location).href}catch{if(hi&&typeof c=="string")return c}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function JO(c){if(hi&&typeof Buffer<"u"&&c instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(c instanceof Uint8Array&&c.byteLength===c.buffer.byteLength)return c;if(typeof c=="string")return lm(c);if(c instanceof ArrayBuffer||ArrayBuffer.isView(c)||typeof c=="object"&&!isNaN(c==null?void 0:c.length))return new Uint8Array(c);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function yE(c){return typeof c=="object"&&Number.isInteger(c==null?void 0:c.num)&&c.num>=0&&Number.isInteger(c==null?void 0:c.gen)&&c.gen>=0}var qg;const jg=class jg{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Ue(jg,qg)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,n;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(r){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};qg=new WeakMap,x(jg,qg,0);let Mb=jg;class nT{constructor(t,e,n=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const n of this._rangeListeners)n(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){ae("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class tL{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ht(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var yr,Wn,bs,lc,rg;class eL{constructor(t,e,n,r=!1){x(this,bs);x(this,yr,null);x(this,Wn,!1);this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=r?new sE:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new aT,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:l=!1}={}){return new Sf({viewBox:this.view,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:l})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ht(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:n="display",annotationMode:r=$a.ENABLE,transform:l=null,background:h=null,optionalContentConfigPromise:d=null,annotationCanvasMap:p=null,pageColors:g=null,printAnnotationStorage:m=null,isEditing:b=!1}){var k,F;(k=this._stats)==null||k.time("Overall");const v=this._transport.getRenderingIntent(n,r,m,b),{renderingIntent:A,cacheKey:E}=v;S(this,Wn,!1),w(this,bs,rg).call(this),d||(d=this._transport.getOptionalContentConfig(A));let T=this._intentStates.get(E);T||(T=Object.create(null),this._intentStates.set(E,T)),T.streamReaderCancelTimeout&&(clearTimeout(T.streamReaderCancelTimeout),T.streamReaderCancelTimeout=null);const M=!!(A&Zi.PRINT);T.displayReadyCapability||(T.displayReadyCapability=Promise.withResolvers(),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(F=this._stats)==null||F.time("Page Request"),this._pumpOperatorList(v));const C=U=>{var X;T.renderTasks.delete(O),(this._maybeCleanupAfterRender||M)&&S(this,Wn,!0),w(this,bs,lc).call(this,!M),U?(O.capability.reject(U),this._abortOperatorList({intentState:T,reason:U instanceof Error?U:new Error(U)})):O.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(X=globalThis.Stats)!=null&&X.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},O=new Ob({callback:C,params:{canvasContext:t,viewport:e,transform:l,background:h},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:p,operatorList:T.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!M,pdfBug:this._pdfBug,pageColors:g});(T.renderTasks||(T.renderTasks=new Set)).add(O);const D=O.task;return Promise.all([T.displayReadyCapability.promise,d]).then(([U,X])=>{var Y;if(this.destroyed){C();return}if((Y=this._stats)==null||Y.time("Rendering"),!(X.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");O.initializeGraphics({transparency:U,optionalContentConfig:X}),O.operatorListChanged()}).catch(C),D}getOperatorList({intent:t="display",annotationMode:e=$a.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){var g;function l(){d.operatorList.lastChunk&&(d.opListReadCapability.resolve(d.operatorList),d.renderTasks.delete(p))}const h=this._transport.getRenderingIntent(t,e,n,r,!0);let d=this._intentStates.get(h.cacheKey);d||(d=Object.create(null),this._intentStates.set(h.cacheKey,d));let p;return d.opListReadCapability||(p=Object.create(null),p.operatorListChanged=l,d.opListReadCapability=Promise.withResolvers(),(d.renderTasks||(d.renderTasks=new Set)).add(p),d.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(g=this._stats)==null||g.time("Page Request"),this._pumpOperatorList(h)),d.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Jh.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,r){function l(){h.read().then(function({value:p,done:g}){if(g){n(d);return}d.lang??(d.lang=p.lang),Object.assign(d.styles,p.styles),d.items.push(...p.items),l()},r)}const h=e.getReader(),d={items:[],styles:Object.create(null),lang:null};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),S(this,Wn,!1),w(this,bs,rg).call(this),Promise.all(t)}cleanup(t=!1){S(this,Wn,!0);const e=w(this,bs,lc).call(this,!1);return t&&e&&this._stats&&(this._stats=new sE),e}_startRenderPage(t,e){var r,l;const n=this._intentStates.get(e);n&&((r=this._stats)==null||r.timeEnd("Page Request"),(l=n.displayReadyCapability)==null||l.resolve(t))}_renderPageChunk(t,e){for(let n=0,r=t.length;n<r;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&w(this,bs,lc).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:r}){const{map:l,transfer:h}=n,p=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:l,modifiedIds:r},h).getReader(),g=this._intentStates.get(e);g.streamReader=p;const m=()=>{p.read().then(({value:b,done:v})=>{if(v){g.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(b,g),m())},b=>{if(g.streamReader=null,!this._transport.destroyed){if(g.operatorList){g.operatorList.lastChunk=!0;for(const v of g.renderTasks)v.operatorListChanged();w(this,bs,lc).call(this,!0)}if(g.displayReadyCapability)g.displayReadyCapability.reject(b);else if(g.opListReadCapability)g.opListReadCapability.reject(b);else throw b}})};m()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof wv){let r=XO;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new go(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,l]of this._intentStates)if(l===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}yr=new WeakMap,Wn=new WeakMap,bs=new WeakSet,lc=function(t=!1){if(w(this,bs,rg).call(this),!u(this,Wn)||this.destroyed)return!1;if(t)return S(this,yr,setTimeout(()=>{S(this,yr,null),w(this,bs,lc).call(this,!1)},YO)),!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),S(this,Wn,!1),!0},rg=function(){u(this,yr)&&(clearTimeout(u(this,yr)),S(this,yr,null))};var Zn,Gg;class iL{constructor(){x(this,Zn,new Map);x(this,Gg,Promise.resolve())}postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};u(this,Gg).then(()=>{for(const[r]of u(this,Zn))r.call(this,n)})}addEventListener(t,e,n=null){let r=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:l}=n;if(l.aborted){Rt("LoopbackPort - cannot use an `aborted` signal.");return}const h=()=>this.removeEventListener(t,e);r=()=>l.removeEventListener("abort",h),l.addEventListener("abort",h)}u(this,Zn).set(e,r)}removeEventListener(t,e){const n=u(this,Zn).get(e);n==null||n(),u(this,Zn).delete(e)}terminate(){for(const[,t]of u(this,Zn))t==null||t();u(this,Zn).clear()}}Zn=new WeakMap,Gg=new WeakMap;var Xg,Pl,Fl,Yc,lg,Vc,og;const le=class le{constructor({name:t=null,port:e=null,verbosity:n=ND()}={}){x(this,Yc);var r;if(this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((r=u(le,Fl))!=null&&r.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(u(le,Fl)||S(le,Fl,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return hi?Promise.all([Dr.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new Fh("main","worker",t),this._messageHandler.on("ready",function(){}),w(this,Yc,lg).call(this)}_initialize(){if(u(le,Pl)||u(le,Vc,og)){this._setupFakeWorker();return}let{workerSrc:t}=le;try{le._isSameOrigin(window.location.href,t)||(t=le._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new Fh("main","worker",e),r=()=>{l.abort(),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},l=new AbortController;e.addEventListener("error",()=>{this._webWorker||r()},{signal:l.signal}),n.on("test",d=>{if(l.abort(),this.destroyed||!d){r();return}this._messageHandler=n,this._port=e,this._webWorker=e,w(this,Yc,lg).call(this)}),n.on("ready",d=>{if(l.abort(),this.destroyed){r();return}try{h()}catch{this._setupFakeWorker()}});const h=()=>{const d=new Uint8Array;n.send("test",d,[d.buffer])};h();return}catch{am("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){u(le,Pl)||(Rt("Setting up fake worker."),S(le,Pl,!0)),le._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new iL;this._port=e;const n=`fake${Ue(le,Xg)._++}`,r=new Fh(n+"_worker",n,e);t.setup(r,e),this._messageHandler=new Fh(n,n+"_worker",e),w(this,Yc,lg).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=u(le,Fl))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var n;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(n=u(this,Fl))==null?void 0:n.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new le(t)}static get workerSrc(){if(pa.workerSrc)return pa.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ht(this,"_setupFakeWorkerGlobal",(async()=>u(this,Vc,og)?u(this,Vc,og):(await import(this.workerSrc)).WorkerMessageHandler)())}};Xg=new WeakMap,Pl=new WeakMap,Fl=new WeakMap,Yc=new WeakSet,lg=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Vc=new WeakSet,og=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},x(le,Vc),x(le,Xg,0),x(le,Pl,!1),x(le,Fl),hi&&(S(le,Pl,!0),pa.workerSrc||(pa.workerSrc="./pdf.worker.mjs")),le._isSameOrigin=(t,e)=>{let n;try{if(n=new URL(t),!n.origin||n.origin==="null")return!1}catch{return!1}const r=new URL(e,n);return n.origin===r.origin},le._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let fc=le;var Jn,fn,Kc,Qc,pn,Hl,Hh;class sL{constructor(t,e,n,r,l){x(this,Hl);x(this,Jn,new Map);x(this,fn,new Map);x(this,Kc,new Map);x(this,Qc,new Map);x(this,pn,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new aT,this.fontLoader=new tO({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ht(this,"annotationStorage",new Rv)}getRenderingIntent(t,e=$a.ENABLE,n=null,r=!1,l=!1){let h=Zi.DISPLAY,d=bb;switch(t){case"any":h=Zi.ANY;break;case"display":break;case"print":h=Zi.PRINT;break;default:Rt(`getRenderingIntent - invalid intent: ${t}`)}const p=h&Zi.PRINT&&n instanceof Fw?n:this.annotationStorage;switch(e){case $a.DISABLE:h+=Zi.ANNOTATIONS_DISABLE;break;case $a.ENABLE:break;case $a.ENABLE_FORMS:h+=Zi.ANNOTATIONS_FORMS;break;case $a.ENABLE_STORAGE:h+=Zi.ANNOTATIONS_STORAGE,d=p.serializable;break;default:Rt(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(h+=Zi.IS_EDITING),l&&(h+=Zi.OPLIST);const{ids:g,hash:m}=p.modifiedIds,b=[h,d.hash,m];return{renderingIntent:h,cacheKey:b.join("_"),annotationStorageSerializable:d,modifiedIds:g}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=u(this,pn))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of u(this,fn).values())t.push(r._destroy());u(this,fn).clear(),u(this,Kc).clear(),u(this,Qc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),u(this,Jn).clear(),this.filterFactory.destroy(),Zh.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new go("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,r)=>{Ne(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},r.onPull=()=>{this._fullReader.read().then(function({value:l,done:h}){if(h){r.close();return}Ne(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{this._fullReader.cancel(l),r.ready.catch(h=>{if(!this.destroyed)throw h})}}),t.on("ReaderHeadersReady",async n=>{var d;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:l,contentLength:h}=this._fullReader;return(!r||!l)&&(this._lastProgress&&((d=e.onProgress)==null||d.call(e,this._lastProgress)),this._fullReader.onProgress=p=>{var g;(g=e.onProgress)==null||g.call(e,{loaded:p.loaded,total:p.total})}),{isStreamingSupported:r,isRangeSupported:l,contentLength:h}}),t.on("GetRangeReader",(n,r)=>{Ne(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(n.begin,n.end);if(!l){r.close();return}r.onPull=()=>{l.read().then(function({value:h,done:d}){if(d){r.close();return}Ne(h instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(h),1,[h])}).catch(h=>{r.error(h)})},r.onCancel=h=>{l.cancel(h),r.ready.catch(d=>{if(!this.destroyed)throw d})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new tL(n,this))}),t.on("DocException",function(n){let r;switch(n.name){case"PasswordException":r=new $0(n.message,n.code);break;case"InvalidPDFException":r=new ow(n.message);break;case"MissingPDFException":r=new po(n.message);break;case"UnexpectedResponseException":r=new rm(n.message,n.status);break;case"UnknownErrorException":r=new W0(n.message,n.details);break;default:ae("DocException - expected a valid Error.")}e._capability.reject(r)}),t.on("PasswordRequest",n=>{if(S(this,pn,Promise.withResolvers()),e.onPassword){const r=l=>{l instanceof Error?u(this,pn).reject(l):u(this,pn).resolve({password:l})};try{e.onPassword(r,n.code)}catch(l){u(this,pn).reject(l)}}else u(this,pn).reject(new $0(n.message,n.code));return u(this,pn).promise}),t.on("DataLoaded",n=>{var r;(r=e.onProgress)==null||r.call(e,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;u(this,fn).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,r,l])=>{var h;if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":const{disableFontFace:d,fontExtraProperties:p,pdfBug:g}=this._params;if("error"in l){const A=l.error;Rt(`Error during font loading: ${A}`),this.commonObjs.resolve(n,A);break}const m=g&&((h=globalThis.FontInspector)!=null&&h.enabled)?(A,E)=>globalThis.FontInspector.fontAdded(A,E):null,b=new eO(l,{disableFontFace:d,inspectFont:m});this.fontLoader.bind(b).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!p&&b.data&&(b.data=null),this.commonObjs.resolve(n,b)});break;case"CopyLocalImage":const{imageRef:v}=l;Ne(v,"The imageRef must be defined.");for(const A of u(this,fn).values())for(const[,E]of A.objs)if((E==null?void 0:E.ref)===v)return E.dataLen?(this.commonObjs.resolve(n,structuredClone(E)),E.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,l);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([n,r,l,h])=>{var p;if(this.destroyed)return;const d=u(this,fn).get(r);if(!d.objs.has(n)){if(d._intentStates.size===0){(p=h==null?void 0:h.bitmap)==null||p.close();return}switch(l){case"Image":d.objs.resolve(n,h),(h==null?void 0:h.dataLen)>MD&&(d._maybeCleanupAfterRender=!0);break;case"Pattern":d.objs.resolve(n,h);break;default:throw new Error(`Got unknown object type ${l}`)}}}),t.on("DocProgress",n=>{var r;this.destroyed||(r=e.onProgress)==null||r.call(e,{loaded:n.loaded,total:n.total})}),t.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),t.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Rt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((n=this._fullReader)==null?void 0:n.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=u(this,Kc).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&u(this,Qc).set(l.refStr,t);const h=new eL(e,l,this,this._params.pdfBug);return u(this,fn).set(e,h),h});return u(this,Kc).set(e,r),r}getPageIndex(t){return yE(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return w(this,Hl,Hh).call(this,"GetFieldObjects")}hasJSActions(){return w(this,Hl,Hh).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return w(this,Hl,Hh).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return w(this,Hl,Hh).call(this,"GetOptionalContentConfig").then(e=>new EO(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=u(this,Jn).get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(r=>{var l,h;return{info:r[0],metadata:r[1]?new _O(r[1]):null,contentDispositionFilename:((l=this._fullReader)==null?void 0:l.filename)??null,contentLength:((h=this._fullReader)==null?void 0:h.contentLength)??null}});return u(this,Jn).set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of u(this,fn).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),u(this,Jn).clear(),this.filterFactory.destroy(!0),Zh.cleanup()}}cachedPageNumber(t){if(!yE(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return u(this,Qc).get(e)??null}}Jn=new WeakMap,fn=new WeakMap,Kc=new WeakMap,Qc=new WeakMap,pn=new WeakMap,Hl=new WeakSet,Hh=function(t,e=null){const n=u(this,Jn).get(t);if(n)return n;const r=this.messageHandler.sendWithPromise(t,e);return u(this,Jn).set(t,r),r};const Xp=Symbol("INITIAL_DATA");var Ps,zd,Db;class aT{constructor(){x(this,zd);x(this,Ps,Object.create(null))}get(t,e=null){if(e){const r=w(this,zd,Db).call(this,t);return r.promise.then(()=>e(r.data)),null}const n=u(this,Ps)[t];if(!n||n.data===Xp)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=u(this,Ps)[t];return!!e&&e.data!==Xp}resolve(t,e=null){const n=w(this,zd,Db).call(this,t);n.data=e,n.resolve()}clear(){var t;for(const e in u(this,Ps)){const{data:n}=u(this,Ps)[e];(t=n==null?void 0:n.bitmap)==null||t.close()}S(this,Ps,Object.create(null))}*[Symbol.iterator](){for(const t in u(this,Ps)){const{data:e}=u(this,Ps)[t];e!==Xp&&(yield[t,e])}}}Ps=new WeakMap,zd=new WeakSet,Db=function(t){var e;return(e=u(this,Ps))[t]||(e[t]={...Promise.withResolvers(),data:Xp})};var br;class nL{constructor(t){x(this,br,null);S(this,br,t),this.onContinue=null}get promise(){return u(this,br).capability.promise}cancel(t=0){u(this,br).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=u(this,br).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=u(this,br);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}br=new WeakMap;var vr,zl;const nl=class nl{constructor({callback:t,params:e,objs:n,commonObjs:r,annotationCanvasMap:l,operatorList:h,pageIndex:d,canvasFactory:p,filterFactory:g,useRequestAnimationFrame:m=!1,pdfBug:b=!1,pageColors:v=null}){x(this,vr,null);this.callback=t,this.params=e,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=h,this._pageIndex=d,this.canvasFactory=p,this.filterFactory=g,this._pdfBug=b,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new nL(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var d,p;if(this.cancelled)return;if(this._canvas){if(u(nl,zl).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u(nl,zl).add(this._canvas)}this._pdfBug&&((d=globalThis.StepperManager)!=null&&d.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:r,transform:l,background:h}=this.params;this.gfx=new dc(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:r,transparency:t,background:h}),this.operatorListIdx=0,this.graphicsReady=!0,(p=this.graphicsReadyCallback)==null||p.call(this)}cancel(t=null,e=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),u(this,vr)&&(window.cancelAnimationFrame(u(this,vr)),S(this,vr,null)),u(nl,zl).delete(this._canvas),this.callback(t||new wv(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?S(this,vr,window.requestAnimationFrame(()=>{S(this,vr,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),u(nl,zl).delete(this._canvas),this.callback())))}};vr=new WeakMap,zl=new WeakMap,x(nl,zl,new WeakSet);let Ob=nl;const aL="4.8.69",rL="3634dab10";function bE(c){return Math.floor(Math.max(0,Math.min(1,c))*255).toString(16).padStart(2,"0")}function Rh(c){return Math.max(0,Math.min(255,255*c))}class vE{static CMYK_G([t,e,n,r]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Rh(t),[t,t,t]}static G_HTML([t]){const e=bE(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(Rh)}static RGB_HTML(t){return`#${t.map(bE).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,n+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,n,r]){return[Rh(1-Math.min(1,t+r)),Rh(1-Math.min(1,n+r)),Rh(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const r=1-t,l=1-e,h=1-n,d=Math.min(r,l,h);return["CMYK",r,l,h,d]}}class lL{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){ae("Abstract method `_createSVG` called.")}}class kv extends lL{_createSVG(t){return document.createElementNS(Un,t)}}class rT{static setupStorage(t,e,n,r,l){const h=r.getValue(e,{value:null});switch(n.name){case"textarea":if(h.value!==null&&(t.textContent=h.value),l==="print")break;t.addEventListener("input",d=>{r.setValue(e,{value:d.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(h.value===n.attributes.xfaOn?t.setAttribute("checked",!0):h.value===n.attributes.xfaOff&&t.removeAttribute("checked"),l==="print")break;t.addEventListener("change",d=>{r.setValue(e,{value:d.target.checked?d.target.getAttribute("xfaOn"):d.target.getAttribute("xfaOff")})})}else{if(h.value!==null&&t.setAttribute("value",h.value),l==="print")break;t.addEventListener("input",d=>{r.setValue(e,{value:d.target.value})})}break;case"select":if(h.value!==null){t.setAttribute("value",h.value);for(const d of n.children)d.attributes.value===h.value?d.attributes.selected=!0:d.attributes.hasOwnProperty("selected")&&delete d.attributes.selected}t.addEventListener("input",d=>{const p=d.target.options,g=p.selectedIndex===-1?"":p[p.selectedIndex].value;r.setValue(e,{value:g})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:r,linkService:l}){const{attributes:h}=e,d=t instanceof HTMLAnchorElement;h.type==="radio"&&(h.name=`${h.name}-${r}`);for(const[p,g]of Object.entries(h))if(g!=null)switch(p){case"class":g.length&&t.setAttribute(p,g.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",g);break;case"style":Object.assign(t.style,g);break;case"textContent":t.textContent=g;break;default:(!d||p!=="href"&&p!=="newWindow")&&t.setAttribute(p,g)}d&&l.addLinkAttributes(t,h.href,h.newWindow),n&&h.dataId&&this.setupStorage(t,h.dataId,e,n)}static render(t){var b,v;const e=t.annotationStorage,n=t.linkService,r=t.xfaHtml,l=t.intent||"display",h=document.createElement(r.name);r.attributes&&this.setAttributes({html:h,element:r,intent:l,linkService:n});const d=l!=="richText",p=t.div;if(p.append(h),t.viewport){const A=`matrix(${t.viewport.transform.join(",")})`;p.style.transform=A}d&&p.setAttribute("class","xfaLayer xfaFont");const g=[];if(r.children.length===0){if(r.value){const A=document.createTextNode(r.value);h.append(A),d&&Jh.shouldBuildText(r.name)&&g.push(A)}return{textDivs:g}}const m=[[r,-1,h]];for(;m.length>0;){const[A,E,T]=m.at(-1);if(E+1===A.children.length){m.pop();continue}const M=A.children[++m.at(-1)[1]];if(M===null)continue;const{name:C}=M;if(C==="#text"){const D=document.createTextNode(M.value);g.push(D),T.append(D);continue}const O=(b=M==null?void 0:M.attributes)!=null&&b.xmlns?document.createElementNS(M.attributes.xmlns,C):document.createElement(C);if(T.append(O),M.attributes&&this.setAttributes({html:O,element:M,storage:e,intent:l,linkService:n}),((v=M.children)==null?void 0:v.length)>0)m.push([M,-1,O]);else if(M.value){const D=document.createTextNode(M.value);d&&Jh.shouldBuildText(C)&&g.push(D),O.append(D)}}for(const A of p.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))A.setAttribute("readOnly",!0);return{textDivs:g}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const wf=1e3,oL=9,uo=new WeakSet;function ma(c){return{width:c[2]-c[0],height:c[3]-c[1]}}class cL{static create(t){switch(t.data.annotationType){case Me.LINK:return new lT(t);case Me.TEXT:return new uL(t);case Me.WIDGET:switch(t.data.fieldType){case"Tx":return new hL(t);case"Btn":return t.data.radioButton?new uT(t):t.data.checkBox?new fL(t):new pL(t);case"Ch":return new gL(t);case"Sig":return new dL(t)}return new mo(t);case Me.POPUP:return new kb(t);case Me.FREETEXT:return new gT(t);case Me.LINE:return new yL(t);case Me.SQUARE:return new bL(t);case Me.CIRCLE:return new vL(t);case Me.POLYLINE:return new mT(t);case Me.CARET:return new _L(t);case Me.INK:return new Nv(t);case Me.POLYGON:return new AL(t);case Me.HIGHLIGHT:return new yT(t);case Me.UNDERLINE:return new SL(t);case Me.SQUIGGLY:return new EL(t);case Me.STRIKEOUT:return new wL(t);case Me.STAMP:return new bT(t);case Me.FILEATTACHMENT:return new TL(t);default:return new _e(t)}}}var Il,$c,Wc,Id,Lb;const Hv=class Hv{constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){x(this,Id);x(this,Il,null);x(this,$c,!1);x(this,Wc,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:n}){return!!(t!=null&&t.str||e!=null&&e.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Hv._hasPopupData(this.data)}updateEdited(t){var n;if(!this.container)return;u(this,Il)||S(this,Il,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&w(this,Id,Lb).call(this,e),(n=u(this,Wc))==null||n.popup.updateEdited(t)}resetEdited(){var t;u(this,Il)&&(w(this,Id,Lb).call(this,u(this,Il).rect),(t=u(this,Wc))==null||t.popup.resetEdited(),S(this,Il,null))}_createContainer(t){const{data:e,parent:{page:n,viewport:r}}=this,l=document.createElement("section");l.setAttribute("data-annotation-id",e.id),this instanceof mo||(l.tabIndex=wf);const{style:h}=l;if(h.zIndex=this.parent.zIndex++,e.alternativeText&&(l.title=e.alternativeText),e.noRotate&&l.classList.add("norotate"),!e.rect||this instanceof kb){const{rotation:T}=e;return!e.hasOwnCanvas&&T!==0&&this.setRotation(T,l),l}const{width:d,height:p}=ma(e.rect);if(!t&&e.borderStyle.width>0){h.borderWidth=`${e.borderStyle.width}px`;const T=e.borderStyle.horizontalCornerRadius,M=e.borderStyle.verticalCornerRadius;if(T>0||M>0){const O=`calc(${T}px * var(--scale-factor)) / calc(${M}px * var(--scale-factor))`;h.borderRadius=O}else if(this instanceof uT){const O=`calc(${d}px * var(--scale-factor)) / calc(${p}px * var(--scale-factor))`;h.borderRadius=O}switch(e.borderStyle.style){case xh.SOLID:h.borderStyle="solid";break;case xh.DASHED:h.borderStyle="dashed";break;case xh.BEVELED:Rt("Unimplemented border style: beveled");break;case xh.INSET:Rt("Unimplemented border style: inset");break;case xh.UNDERLINE:h.borderBottomStyle="solid";break}const C=e.borderColor||null;C?(S(this,$c,!0),h.borderColor=ut.makeHexColor(C[0]|0,C[1]|0,C[2]|0)):h.borderWidth=0}const g=ut.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:m,pageHeight:b,pageX:v,pageY:A}=r.rawDims;h.left=`${100*(g[0]-v)/m}%`,h.top=`${100*(g[1]-A)/b}%`;const{rotation:E}=e;return e.hasOwnCanvas||E===0?(h.width=`${100*d/m}%`,h.height=`${100*p/b}%`):this.setRotation(E,l),l}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims,{width:l,height:h}=ma(this.data.rect);let d,p;t%180===0?(d=100*l/n,p=100*h/r):(d=100*h/n,p=100*l/r),e.style.width=`${d}%`,e.style.height=`${p}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,r)=>{const l=r.detail[e],h=l[0],d=l.slice(1);r.target.style[n]=vE[`${h}_HTML`](d),this.annotationStorage.setValue(this.data.id,{[n]:vE[`${h}_rgb`](d)})};return Ht(this,"_commonActions",{display:e=>{const{display:n}=e.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const r of Object.keys(e.detail)){const l=t[r]||n[r];l==null||l(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[r,l]of Object.entries(e)){const h=n[r];if(h){const d={detail:{[r]:l},target:t};h(d),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,r,l]=this.data.rect.map(T=>Math.fround(T));if(t.length===8){const[T,M,C,O]=t.subarray(2,6);if(r===T&&l===M&&e===C&&n===O)return}const{style:h}=this.container;let d;if(u(this,$c)){const{borderColor:T,borderWidth:M}=h;h.borderWidth=0,d=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${T}" stroke-width="${M}">`],this.container.classList.add("hasBorder")}const p=r-e,g=l-n,{svgFactory:m}=this,b=m.createElement("svg");b.classList.add("quadrilateralsContainer"),b.setAttribute("width",0),b.setAttribute("height",0);const v=m.createElement("defs");b.append(v);const A=m.createElement("clipPath"),E=`clippath_${this.data.id}`;A.setAttribute("id",E),A.setAttribute("clipPathUnits","objectBoundingBox"),v.append(A);for(let T=2,M=t.length;T<M;T+=8){const C=t[T],O=t[T+1],D=t[T+2],k=t[T+3],F=m.createElement("rect"),U=(D-e)/p,X=(l-O)/g,Y=(C-D)/p,Z=(O-k)/g;F.setAttribute("x",U),F.setAttribute("y",X),F.setAttribute("width",Y),F.setAttribute("height",Z),A.append(F),d==null||d.push(`<rect vector-effect="non-scaling-stroke" x="${U}" y="${X}" width="${Y}" height="${Z}"/>`)}u(this,$c)&&(d.push("</g></svg>')"),h.backgroundImage=d.join("")),this.container.append(b),this.container.style.clipPath=`url(#${E})`}_createPopup(){const{data:t}=this,e=S(this,Wc,new kb({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){ae("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:l,id:h,exportValues:d}of r){if(l===-1||h===e)continue;const p=typeof d=="string"?d:null,g=document.querySelector(`[data-element-id="${h}"]`);if(g&&!uo.has(g)){Rt(`_getElementsByName - element not allowed: ${h}`);continue}n.push({id:h,exportValue:p,domElement:g})}return n}for(const r of document.getElementsByName(t)){const{exportValue:l}=r,h=r.getAttribute("data-element-id");h!==e&&uo.has(r)&&n.push({id:h,exportValue:l,domElement:r})}return n}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};Il=new WeakMap,$c=new WeakMap,Wc=new WeakMap,Id=new WeakSet,Lb=function(t){const{container:{style:e},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:l,pageHeight:h,pageX:d,pageY:p}}}}=this;n==null||n.splice(0,4,...t);const{width:g,height:m}=ma(t);e.left=`${100*(t[0]-d)/l}%`,e.top=`${100*(h-t[3]+p)/h}%`,r===0?(e.width=`${100*g/l}%`,e.height=`${100*m/h}%`):this.setRotation(r)};let _e=Hv;var Ji,Jr,oT,cT;class lT extends _e{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});x(this,Ji);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let l=!1;return e.url?(n.addLinkAttributes(r,e.url,e.newWindow),l=!0):e.action?(this._bindNamedAction(r,e.action),l=!0):e.attachment?(w(this,Ji,oT).call(this,r,e.attachment,e.attachmentDest),l=!0):e.setOCGState?(w(this,Ji,cT).call(this,r,e.setOCGState),l=!0):e.dest?(this._bindLink(r,e.dest),l=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),l=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),l=!0):this.isTooltipOnly&&!l&&(this._bindLink(r,""),l=!0)),this.container.classList.add("linkAnnotation"),l&&this.container.append(r),this.container}_bindLink(e,n){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&w(this,Ji,Jr).call(this)}_bindNamedAction(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),w(this,Ji,Jr).call(this)}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const l of Object.keys(n.actions)){const h=r.get(l);h&&(e[h]=()=>{var d;return(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:l}}),!1})}e.onclick||(e.onclick=()=>!1),w(this,Ji,Jr).call(this)}_bindResetFormAction(e,n){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),w(this,Ji,Jr).call(this),!this._fieldObjects){Rt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{var b;r==null||r();const{fields:l,refs:h,include:d}=n,p=[];if(l.length!==0||h.length!==0){const v=new Set(h);for(const A of l){const E=this._fieldObjects[A]||[];for(const{id:T}of E)v.add(T)}for(const A of Object.values(this._fieldObjects))for(const E of A)v.has(E.id)===d&&p.push(E)}else for(const v of Object.values(this._fieldObjects))p.push(...v);const g=this.annotationStorage,m=[];for(const v of p){const{id:A}=v;switch(m.push(A),v.type){case"text":{const T=v.defaultValue||"";g.setValue(A,{value:T});break}case"checkbox":case"radiobutton":{const T=v.defaultValue===v.exportValues;g.setValue(A,{value:T});break}case"combobox":case"listbox":{const T=v.defaultValue||"";g.setValue(A,{value:T});break}default:continue}const E=document.querySelector(`[data-element-id="${A}"]`);if(E){if(!uo.has(E)){Rt(`_bindResetFormAction - element not allowed: ${A}`);continue}}else continue;E.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:m,name:"ResetForm"}})),!1}}}Ji=new WeakSet,Jr=function(){this.container.setAttribute("data-internal-link","")},oT=function(e,n,r=null){e.href=this.linkService.getAnchorUrl(""),n.description&&(e.title=n.description),e.onclick=()=>{var l;return(l=this.downloadManager)==null||l.openOrDownloadData(n.content,n.filename,r),!1},w(this,Ji,Jr).call(this)},cT=function(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(n),!1),w(this,Ji,Jr).call(this)};class uL extends _e{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class mo extends _e{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return vi.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,r,l){n.includes("mouse")?t.addEventListener(n,h=>{var d;(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(h),shift:h.shiftKey,modifier:this._getKeyModifier(h)}})}):t.addEventListener(n,h=>{var d;if(n==="blur"){if(!e.focused||!h.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}l&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(h)}}))})}_setEventListeners(t,e,n,r){var l,h,d;for(const[p,g]of n)(g==="Action"||(l=this.data.actions)!=null&&l[g])&&((g==="Focus"||g==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,p,g,r),g==="Focus"&&!((h=this.data.actions)!=null&&h.Blur)?this._setEventListener(t,e,"blur","Blur",null):g==="Blur"&&!((d=this.data.actions)!=null&&d.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":ut.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||oL,l=t.style;let h;const d=2,p=g=>Math.round(10*g)/10;if(this.data.multiLine){const g=Math.abs(this.data.rect[3]-this.data.rect[1]-d),m=Math.round(g/(F0*r))||1,b=g/m;h=Math.min(r,p(b/F0))}else{const g=Math.abs(this.data.rect[3]-this.data.rect[1]-d);h=Math.min(r,p(g/F0))}l.fontSize=`calc(${h}px * var(--scale-factor))`,l.color=ut.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(l.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class hL extends mo{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,r){const l=this.annotationStorage;for(const h of this._getElementsByName(t.name,t.id))h.domElement&&(h.domElement[e]=n),l.setValue(h.id,{[r]:n})}render(){var r,l;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const h=t.getValue(e,{value:this.data.fieldValue});let d=h.value||"";const p=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;p&&d.length>p&&(d=d.slice(0,p));let g=h.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;g&&this.data.comb&&(g=g.replaceAll(/\s+/g,""));const m={userValue:d,formattedValue:g,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=g??d,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",g??d),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),uo.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=wf,this._setRequired(n,this.data.required),p&&(n.maxLength=p),n.addEventListener("input",v=>{t.setValue(e,{value:v.target.value}),this.setPropertyOnSiblings(n,"value",v.target.value,"value"),m.formattedValue=null}),n.addEventListener("resetform",v=>{const A=this.data.defaultFieldValue??"";n.value=m.userValue=A,m.formattedValue=null});let b=v=>{const{formattedValue:A}=m;A!=null&&(v.target.value=A),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",A=>{var T;if(m.focused)return;const{target:E}=A;m.userValue&&(E.value=m.userValue),m.lastCommittedValue=E.value,m.commitKey=1,(T=this.data.actions)!=null&&T.Focus||(m.focused=!0)}),n.addEventListener("updatefromsandbox",A=>{this.showElementAndHideCanvas(A.target);const E={value(T){m.userValue=T.detail.value??"",t.setValue(e,{value:m.userValue.toString()}),T.target.value=m.userValue},formattedValue(T){const{formattedValue:M}=T.detail;m.formattedValue=M,M!=null&&T.target!==document.activeElement&&(T.target.value=M),t.setValue(e,{formattedValue:M})},selRange(T){T.target.setSelectionRange(...T.detail.selRange)},charLimit:T=>{var D;const{charLimit:M}=T.detail,{target:C}=T;if(M===0){C.removeAttribute("maxLength");return}C.setAttribute("maxLength",M);let O=m.userValue;!O||O.length<=M||(O=O.slice(0,M),C.value=m.userValue=O,t.setValue(e,{value:O}),(D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:O,willCommit:!0,commitKey:1,selStart:C.selectionStart,selEnd:C.selectionEnd}}))}};this._dispatchEventFromSandbox(E,A)}),n.addEventListener("keydown",A=>{var M;m.commitKey=1;let E=-1;if(A.key==="Escape"?E=0:A.key==="Enter"&&!this.data.multiLine?E=2:A.key==="Tab"&&(m.commitKey=3),E===-1)return;const{value:T}=A.target;m.lastCommittedValue!==T&&(m.lastCommittedValue=T,m.userValue=T,(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,willCommit:!0,commitKey:E,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}))});const v=b;b=null,n.addEventListener("blur",A=>{var T,M;if(!m.focused||!A.relatedTarget)return;(T=this.data.actions)!=null&&T.Blur||(m.focused=!1);const{value:E}=A.target;m.userValue=E,m.lastCommittedValue!==E&&((M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,willCommit:!0,commitKey:m.commitKey,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}})),v(A)}),(l=this.data.actions)!=null&&l.Keystroke&&n.addEventListener("beforeinput",A=>{var F;m.lastCommittedValue=null;const{data:E,target:T}=A,{value:M,selectionStart:C,selectionEnd:O}=T;let D=C,k=O;switch(A.inputType){case"deleteWordBackward":{const U=M.substring(0,C).match(/\w*[^\w]*$/);U&&(D-=U[0].length);break}case"deleteWordForward":{const U=M.substring(C).match(/^[^\w]*\w*/);U&&(k+=U[0].length);break}case"deleteContentBackward":C===O&&(D-=1);break;case"deleteContentForward":C===O&&(k+=1);break}A.preventDefault(),(F=this.linkService.eventBus)==null||F.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:M,change:E||"",willCommit:!1,selStart:D,selEnd:k}})}),this._setEventListeners(n,m,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.value)}if(b&&n.addEventListener("blur",b),this.data.comb){const A=(this.data.rect[2]-this.data.rect[0])/p;n.classList.add("comb"),n.style.letterSpacing=`calc(${A}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class dL extends mo{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class fL extends mo{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const l=document.createElement("input");return uo.add(l),l.setAttribute("data-element-id",n),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="checkbox",l.name=e.fieldName,r&&l.setAttribute("checked",!0),l.setAttribute("exportValue",e.exportValue),l.tabIndex=wf,l.addEventListener("change",h=>{const{name:d,checked:p}=h.target;for(const g of this._getElementsByName(d,n)){const m=p&&g.exportValue===e.exportValue;g.domElement&&(g.domElement.checked=m),t.setValue(g.id,{value:m})}t.setValue(n,{value:p})}),l.addEventListener("resetform",h=>{const d=e.defaultFieldValue||"Off";h.target.checked=d===e.exportValue}),this.enableScripting&&this.hasJSActions&&(l.addEventListener("updatefromsandbox",h=>{const d={value(p){p.target.checked=p.detail.value!=="Off",t.setValue(n,{value:p.target.checked})}};this._dispatchEventFromSandbox(d,h)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class uT extends mo{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(n,{value:r})),r)for(const h of this._getElementsByName(e.fieldName,n))t.setValue(h.id,{value:!1});const l=document.createElement("input");if(uo.add(l),l.setAttribute("data-element-id",n),l.disabled=e.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=e.fieldName,r&&l.setAttribute("checked",!0),l.tabIndex=wf,l.addEventListener("change",h=>{const{name:d,checked:p}=h.target;for(const g of this._getElementsByName(d,n))t.setValue(g.id,{value:!1});t.setValue(n,{value:p})}),l.addEventListener("resetform",h=>{const d=e.defaultFieldValue;h.target.checked=d!=null&&d===e.buttonValue}),this.enableScripting&&this.hasJSActions){const h=e.buttonValue;l.addEventListener("updatefromsandbox",d=>{const p={value:g=>{const m=h===g.detail.value;for(const b of this._getElementsByName(g.target.name)){const v=m&&b.id===n;b.domElement&&(b.domElement.checked=v),t.setValue(b.id,{value:v})}}};this._dispatchEventFromSandbox(p,d)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.checked)}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class pL extends lT{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class gL extends mo{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");uo.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=wf;let l=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",m=>{const b=this.data.defaultFieldValue;for(const v of r.options)v.selected=v.value===b});for(const m of this.data.options){const b=document.createElement("option");b.textContent=m.displayValue,b.value=m.exportValue,n.value.includes(m.exportValue)&&(b.setAttribute("selected",!0),l=!1),r.append(b)}let h=null;if(l){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),r.prepend(m),h=()=>{m.remove(),r.removeEventListener("input",h),h=null},r.addEventListener("input",h)}const d=m=>{const b=m?"value":"textContent",{options:v,multiple:A}=r;return A?Array.prototype.filter.call(v,E=>E.selected).map(E=>E[b]):v.selectedIndex===-1?null:v[v.selectedIndex][b]};let p=d(!1);const g=m=>{const b=m.target.options;return Array.prototype.map.call(b,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",m=>{const b={value(v){h==null||h();const A=v.detail.value,E=new Set(Array.isArray(A)?A:[A]);for(const T of r.options)T.selected=E.has(T.value);t.setValue(e,{value:d(!0)}),p=d(!1)},multipleSelection(v){r.multiple=!0},remove(v){const A=r.options,E=v.detail.remove;A[E].selected=!1,r.remove(E),A.length>0&&Array.prototype.findIndex.call(A,M=>M.selected)===-1&&(A[0].selected=!0),t.setValue(e,{value:d(!0),items:g(v)}),p=d(!1)},clear(v){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),p=d(!1)},insert(v){const{index:A,displayValue:E,exportValue:T}=v.detail.insert,M=r.children[A],C=document.createElement("option");C.textContent=E,C.value=T,M?M.before(C):r.append(C),t.setValue(e,{value:d(!0),items:g(v)}),p=d(!1)},items(v){const{items:A}=v.detail;for(;r.length!==0;)r.remove(0);for(const E of A){const{displayValue:T,exportValue:M}=E,C=document.createElement("option");C.textContent=T,C.value=M,r.append(C)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:d(!0),items:g(v)}),p=d(!1)},indices(v){const A=new Set(v.detail.indices);for(const E of v.target.options)E.selected=A.has(E.index);t.setValue(e,{value:d(!0)}),p=d(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(b,m)}),r.addEventListener("input",m=>{var A;const b=d(!0),v=d(!1);t.setValue(e,{value:b}),m.preventDefault(),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:p,change:v,changeEx:b,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):r.addEventListener("input",function(m){t.setValue(e,{value:d(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class kb extends _e{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:_e._hasPopupData(e)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new mL({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const n of this.elements)n.popup=t,n.container.ariaHasPopup="dialog",e.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(n=>`${Ev}${n}`).join(",")),this.container}}var Zc,Yg,Vg,Jc,Ul,ye,ta,tu,Ud,Bd,eu,ea,Fs,ia,qd,sa,jd,Bl,ql,Jt,cg,Nb,hT,dT,fT,pT,ug,hg,Pb;class mL{constructor({container:t,color:e,elements:n,titleObj:r,modificationDate:l,contentsObj:h,richText:d,parent:p,rect:g,parentRect:m,open:b}){x(this,Jt);x(this,Zc,w(this,Jt,fT).bind(this));x(this,Yg,w(this,Jt,Pb).bind(this));x(this,Vg,w(this,Jt,hg).bind(this));x(this,Jc,w(this,Jt,ug).bind(this));x(this,Ul,null);x(this,ye,null);x(this,ta,null);x(this,tu,null);x(this,Ud,null);x(this,Bd,null);x(this,eu,null);x(this,ea,!1);x(this,Fs,null);x(this,ia,null);x(this,qd,null);x(this,sa,null);x(this,jd,null);x(this,Bl,null);x(this,ql,!1);var v;S(this,ye,t),S(this,jd,r),S(this,ta,h),S(this,sa,d),S(this,Bd,p),S(this,Ul,e),S(this,qd,g),S(this,eu,m),S(this,Ud,n),S(this,tu,xv.toDateObject(l)),this.trigger=n.flatMap(A=>A.getElementsToTriggerPopup());for(const A of this.trigger)A.addEventListener("click",u(this,Jc)),A.addEventListener("mouseenter",u(this,Vg)),A.addEventListener("mouseleave",u(this,Yg)),A.classList.add("popupTriggerArea");for(const A of n)(v=A.container)==null||v.addEventListener("keydown",u(this,Zc));u(this,ye).hidden=!0,b&&w(this,Jt,ug).call(this)}render(){if(u(this,Fs))return;const t=S(this,Fs,document.createElement("div"));if(t.className="popup",u(this,Ul)){const l=t.style.outlineColor=ut.makeHexColor(...u(this,Ul));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${l} 30%, white)`:t.style.backgroundColor=ut.makeHexColor(...u(this,Ul).map(d=>Math.floor(.7*(255-d)+d)))}const e=document.createElement("span");e.className="header";const n=document.createElement("h1");if(e.append(n),{dir:n.dir,str:n.textContent}=u(this,jd),t.append(e),u(this,tu)){const l=document.createElement("span");l.classList.add("popupDate"),l.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),l.setAttribute("data-l10n-args",JSON.stringify({dateObj:u(this,tu).valueOf()})),e.append(l)}const r=u(this,Jt,cg);if(r)rT.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const l=this._formatContents(u(this,ta));t.append(l)}u(this,ye).append(t)}_formatContents({str:t,dir:e}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=e;const r=t.split(/(?:\r\n?|\n)/);for(let l=0,h=r.length;l<h;++l){const d=r[l];n.append(document.createTextNode(d)),l<h-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:t,popupContent:e}){var n;u(this,Bl)||S(this,Bl,{contentsObj:u(this,ta),richText:u(this,sa)}),t&&S(this,ia,null),e&&(S(this,sa,w(this,Jt,dT).call(this,e)),S(this,ta,null)),(n=u(this,Fs))==null||n.remove(),S(this,Fs,null)}resetEdited(){var t;u(this,Bl)&&({contentsObj:Ue(this,ta)._,richText:Ue(this,sa)._}=u(this,Bl),S(this,Bl,null),(t=u(this,Fs))==null||t.remove(),S(this,Fs,null),S(this,ia,null))}forceHide(){S(this,ql,this.isVisible),u(this,ql)&&(u(this,ye).hidden=!0)}maybeShow(){u(this,ql)&&(u(this,Fs)||w(this,Jt,hg).call(this),S(this,ql,!1),u(this,ye).hidden=!1)}get isVisible(){return u(this,ye).hidden===!1}}Zc=new WeakMap,Yg=new WeakMap,Vg=new WeakMap,Jc=new WeakMap,Ul=new WeakMap,ye=new WeakMap,ta=new WeakMap,tu=new WeakMap,Ud=new WeakMap,Bd=new WeakMap,eu=new WeakMap,ea=new WeakMap,Fs=new WeakMap,ia=new WeakMap,qd=new WeakMap,sa=new WeakMap,jd=new WeakMap,Bl=new WeakMap,ql=new WeakMap,Jt=new WeakSet,cg=function(){const t=u(this,sa),e=u(this,ta);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&u(this,sa).html||null},Nb=function(){var t,e,n;return((n=(e=(t=u(this,Jt,cg))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.fontSize)||0},hT=function(){var t,e,n;return((n=(e=(t=u(this,Jt,cg))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.color)||null},dT=function(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:u(this,Jt,hT),fontSize:u(this,Jt,Nb)?`calc(${u(this,Jt,Nb)}px * var(--scale-factor))`:""}};for(const l of t.split(`
`))e.push({name:"span",value:l,attributes:r});return n},fT=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&u(this,ea))&&w(this,Jt,ug).call(this)},pT=function(){if(u(this,ia)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:r,pageY:l}}}=u(this,Bd);let h=!!u(this,eu),d=h?u(this,eu):u(this,qd);for(const E of u(this,Ud))if(!d||ut.intersect(E.data.rect,d)!==null){d=E.data.rect,h=!0;break}const p=ut.normalizeRect([d[0],t[3]-d[1]+t[1],d[2],t[3]-d[3]+t[1]]),m=h?d[2]-d[0]+5:0,b=p[0]+m,v=p[1];S(this,ia,[100*(b-r)/e,100*(v-l)/n]);const{style:A}=u(this,ye);A.left=`${u(this,ia)[0]}%`,A.top=`${u(this,ia)[1]}%`},ug=function(){S(this,ea,!u(this,ea)),u(this,ea)?(w(this,Jt,hg).call(this),u(this,ye).addEventListener("click",u(this,Jc)),u(this,ye).addEventListener("keydown",u(this,Zc))):(w(this,Jt,Pb).call(this),u(this,ye).removeEventListener("click",u(this,Jc)),u(this,ye).removeEventListener("keydown",u(this,Zc)))},hg=function(){u(this,Fs)||this.render(),this.isVisible?u(this,ea)&&u(this,ye).classList.add("focused"):(w(this,Jt,pT).call(this),u(this,ye).hidden=!1,u(this,ye).style.zIndex=parseInt(u(this,ye).style.zIndex)+1e3)},Pb=function(){u(this,ye).classList.remove("focused"),!(u(this,ea)||!this.isVisible)&&(u(this,ye).hidden=!0,u(this,ye).style.zIndex=parseInt(u(this,ye).style.zIndex)-1e3)};class gT extends _e{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=wt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Gd;class yL extends _e{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,Gd,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:n,height:r}=ma(e.rect),l=this.svgFactory.create(n,r,!0),h=S(this,Gd,this.svgFactory.createElement("svg:line"));return h.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),h.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),h.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),h.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),h.setAttribute("stroke-width",e.borderStyle.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Gd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Gd=new WeakMap;var Xd;class bL extends _e{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,Xd,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:n,height:r}=ma(e.rect),l=this.svgFactory.create(n,r,!0),h=e.borderStyle.width,d=S(this,Xd,this.svgFactory.createElement("svg:rect"));return d.setAttribute("x",h/2),d.setAttribute("y",h/2),d.setAttribute("width",n-h),d.setAttribute("height",r-h),d.setAttribute("stroke-width",h||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Xd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xd=new WeakMap;var Yd;class vL extends _e{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,Yd,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:n,height:r}=ma(e.rect),l=this.svgFactory.create(n,r,!0),h=e.borderStyle.width,d=S(this,Yd,this.svgFactory.createElement("svg:ellipse"));return d.setAttribute("cx",n/2),d.setAttribute("cy",r/2),d.setAttribute("rx",n/2-h/2),d.setAttribute("ry",r/2-h/2),d.setAttribute("stroke-width",h||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Yd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yd=new WeakMap;var Vd;class mT extends _e{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,Vd,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:n,borderStyle:r,popupRef:l}}=this;if(!n)return this.container;const{width:h,height:d}=ma(e),p=this.svgFactory.create(h,d,!0);let g=[];for(let b=0,v=n.length;b<v;b+=2){const A=n[b]-e[0],E=e[3]-n[b+1];g.push(`${A},${E}`)}g=g.join(" ");const m=S(this,Vd,this.svgFactory.createElement(this.svgElementName));return m.setAttribute("points",g),m.setAttribute("stroke-width",r.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),p.append(m),this.container.append(p),!l&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Vd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Vd=new WeakMap;class AL extends mT{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class _L extends _e{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Kd;class Nv extends _e{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});x(this,Kd,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?wt.HIGHLIGHT:wt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:n,borderStyle:r,popupRef:l}}=this,{width:h,height:d}=ma(e),p=this.svgFactory.create(h,d,!0);for(const g of n){let m=[];for(let v=0,A=g.length;v<A;v+=2){const E=g[v]-e[0],T=e[3]-g[v+1];m.push(`${E},${T}`)}m=m.join(" ");const b=this.svgFactory.createElement(this.svgElementName);u(this,Kd).push(b),b.setAttribute("points",m),b.setAttribute("stroke-width",r.width||1),b.setAttribute("stroke","transparent"),b.setAttribute("fill","transparent"),p.append(b)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(p),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return u(this,Kd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Kd=new WeakMap;class yT extends _e{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=wt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class SL extends _e{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class EL extends _e{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class wL extends _e{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class bT extends _e{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=wt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Qd,$d,Fb;class TL extends _e{constructor(e){var r;super(e,{isRenderable:!0});x(this,$d);x(this,Qd,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",w(this,$d,Fb).bind(this)),S(this,Qd,r);const{isMac:l}=vi.platform;return e.addEventListener("keydown",h=>{h.key==="Enter"&&(l?h.metaKey:h.ctrlKey)&&w(this,$d,Fb).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return u(this,Qd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qd=new WeakMap,$d=new WeakSet,Fb=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var Wd,jl,Gl,Zd,ho,vT,Hb;class xL{constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:r,page:l,viewport:h,structTreeLayer:d}){x(this,ho);x(this,Wd,null);x(this,jl,null);x(this,Gl,new Map);x(this,Zd,null);this.div=t,S(this,Wd,e),S(this,jl,n),S(this,Zd,d||null),this.page=l,this.viewport=h,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return u(this,Gl).size>0}async render(t){var h;const{annotations:e}=t,n=this.div;oo(n,this.viewport);const r=new Map,l={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new kv,annotationStorage:t.annotationStorage||new Rv,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const d of e){if(d.noHTML)continue;const p=d.annotationType===Me.POPUP;if(p){const b=r.get(d.id);if(!b)continue;l.elements=b}else{const{width:b,height:v}=ma(d.rect);if(b<=0||v<=0)continue}l.data=d;const g=cL.create(l);if(!g.isRenderable)continue;if(!p&&d.popupRef){const b=r.get(d.popupRef);b?b.push(g):r.set(d.popupRef,[g])}const m=g.render();d.hidden&&(m.style.visibility="hidden"),await w(this,ho,vT).call(this,m,d.id),g._isEditable&&(u(this,Gl).set(g.data.id,g),(h=this._annotationEditorUIManager)==null||h.renderAnnotationElement(g))}w(this,ho,Hb).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,oo(e,{rotation:t.rotation}),w(this,ho,Hb).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(u(this,Gl).values())}getEditableAnnotation(t){return u(this,Gl).get(t)}}Wd=new WeakMap,jl=new WeakMap,Gl=new WeakMap,Zd=new WeakMap,ho=new WeakSet,vT=async function(t,e){var h,d;const n=t.firstChild||t,r=n.id=`${Ev}${e}`,l=await((h=u(this,Zd))==null?void 0:h.getAriaAttributes(r));if(l)for(const[p,g]of l)n.setAttribute(p,g);this.div.append(t),(d=u(this,Wd))==null||d.moveElementInDOM(this.div,t,n,!1)},Hb=function(){if(!u(this,jl))return;const t=this.div;for(const[e,n]of u(this,jl)){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:l}=r;l?l.nodeName==="CANVAS"?l.replaceWith(n):l.classList.contains("annotationContent")?l.after(n):l.before(n):r.append(n)}u(this,jl).clear()};const Yp=/\r\n?|\n/g;var Hs,Yi,Jd,Xl,Vi,xe,AT,_T,ST,dg,ba,fg,pg,ET,Ib,wT;const se=class se extends Kt{constructor(e){super({...e,name:"freeTextEditor"});x(this,xe);x(this,Hs);x(this,Yi,"");x(this,Jd,`${this.id}-editor`);x(this,Xl,null);x(this,Vi);S(this,Hs,e.color||se._defaultColor||Kt._defaultLineColor),S(this,Vi,e.fontSize||se._defaultFontSize)}static get _keyboardManager(){const e=se.prototype,n=h=>h.isEmpty(),r=co.TRANSLATE_SMALL,l=co.TRANSLATE_BIG;return Ht(this,"_keyboardManager",new Ef([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-l,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[l,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-l],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,l],checker:n}]]))}static initialize(e,n){Kt.initialize(e,n);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case vt.FREETEXT_SIZE:se._defaultFontSize=n;break;case vt.FREETEXT_COLOR:se._defaultColor=n;break}}updateParams(e,n){switch(e){case vt.FREETEXT_SIZE:w(this,xe,AT).call(this,n);break;case vt.FREETEXT_COLOR:w(this,xe,_T).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[vt.FREETEXT_SIZE,se._defaultFontSize],[vt.FREETEXT_COLOR,se._defaultColor||Kt._defaultLineColor]]}get propertiesToUpdate(){return[[vt.FREETEXT_SIZE,u(this,Vi)],[vt.FREETEXT_COLOR,u(this,Hs)]]}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-se._internalPadding*e,-(se._internalPadding+u(this,Vi))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(wt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),S(this,Xl,new AbortController);const e=this._uiManager.combinedSignal(u(this,Xl));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",u(this,Jd)),this._isDraggable=!0,(e=u(this,Xl))==null||e.abort(),S(this,Xl,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=u(this,Yi),n=S(this,Yi,w(this,xe,ST).call(this).trimEnd());if(e===n)return;const r=l=>{if(S(this,Yi,l),!l){this.remove();return}w(this,xe,pg).call(this),this._uiManager.rebuild(this),w(this,xe,dg).call(this)};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(e)},mustExec:!1}),w(this,xe,dg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){se._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,n;this.width&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",u(this,Jd)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${u(this,Vi)}px * var(--scale-factor))`,r.color=u(this,Hs),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Rg(this,this.div,["dblclick","keydown"]),this.width){const[l,h]=this.parentDimensions;if(this.annotationElementId){const{position:d}=this._initialData;let[p,g]=this.getInitialTranslation();[p,g]=this.pageTranslationToScreen(p,g);const[m,b]=this.pageDimensions,[v,A]=this.pageTranslation;let E,T;switch(this.rotation){case 0:E=e+(d[0]-v)/m,T=n+this.height-(d[1]-A)/b;break;case 90:E=e+(d[0]-v)/m,T=n-(d[1]-A)/b,[p,g]=[g,-p];break;case 180:E=e-this.width+(d[0]-v)/m,T=n-(d[1]-A)/b,[p,g]=[-p,-g];break;case 270:E=e+(d[0]-v-this.height*b)/m,T=n+(d[1]-A-this.width*m)/b,[p,g]=[-g,p];break}this.setAt(E*l,T*h,p,g)}else this.setAt(e*l,n*h,this.width*l,this.height*h);w(this,xe,pg).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var E,T,M;const n=e.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const l=w(E=se,ba,Ib).call(E,n.getData("text")||"").replaceAll(Yp,`
`);if(!l)return;const h=window.getSelection();if(!h.rangeCount)return;this.editorDiv.normalize(),h.deleteFromDocument();const d=h.getRangeAt(0);if(!l.includes(`
`)){d.insertNode(document.createTextNode(l)),this.editorDiv.normalize(),h.collapseToStart();return}const{startContainer:p,startOffset:g}=d,m=[],b=[];if(p.nodeType===Node.TEXT_NODE){const C=p.parentElement;if(b.push(p.nodeValue.slice(g).replaceAll(Yp,"")),C!==this.editorDiv){let O=m;for(const D of this.editorDiv.childNodes){if(D===C){O=b;continue}O.push(w(T=se,ba,fg).call(T,D))}}m.push(p.nodeValue.slice(0,g).replaceAll(Yp,""))}else if(p===this.editorDiv){let C=m,O=0;for(const D of this.editorDiv.childNodes)O++===g&&(C=b),C.push(w(M=se,ba,fg).call(M,D))}S(this,Yi,`${m.join(`
`)}${l}${b.join(`
`)}`),w(this,xe,pg).call(this);const v=new Range;let A=m.reduce((C,O)=>C+O.length,0);for(const{firstChild:C}of this.editorDiv.childNodes)if(C.nodeType===Node.TEXT_NODE){const O=C.nodeValue.length;if(A<=O){v.setStart(C,A),v.setEnd(C,A);break}A-=O}h.removeAllRanges(),h.addRange(v)}get contentDiv(){return this.editorDiv}static async deserialize(e,n,r){var d;let l=null;if(e instanceof gT){const{data:{defaultAppearanceData:{fontSize:p,fontColor:g},rect:m,rotation:b,id:v,popupRef:A},textContent:E,textPosition:T,parent:{page:{pageNumber:M}}}=e;if(!E||E.length===0)return null;l=e={annotationType:wt.FREETEXT,color:Array.from(g),fontSize:p,value:E.join(`
`),position:T,pageIndex:M-1,rect:m.slice(0),rotation:b,id:v,deleted:!1,popupRef:A}}const h=await super.deserialize(e,n,r);return S(h,Vi,e.fontSize),S(h,Hs,ut.makeHexColor(...e.color)),S(h,Yi,w(d=se,ba,Ib).call(d,e.value)),h.annotationElementId=e.id||null,h._initialData=l,h}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=se._internalPadding*this.parentScale,r=this.getRect(n,n),l=Kt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:u(this,Hs)),h={annotationType:wt.FREETEXT,color:l,fontSize:u(this,Vi),value:w(this,xe,ET).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?h:this.annotationElementId&&!w(this,xe,wT).call(this,h)?null:(h.id=this.annotationElementId,h)}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(this.deleted)return n;const{style:r}=n;r.fontSize=`calc(${u(this,Vi)}px * var(--scale-factor))`,r.color=u(this,Hs),n.replaceChildren();for(const h of u(this,Yi).split(`
`)){const d=document.createElement("div");d.append(h?document.createTextNode(h):document.createElement("br")),n.append(d)}const l=se._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(l,l),popupContent:u(this,Yi)}),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};Hs=new WeakMap,Yi=new WeakMap,Jd=new WeakMap,Xl=new WeakMap,Vi=new WeakMap,xe=new WeakSet,AT=function(e){const n=l=>{this.editorDiv.style.fontSize=`calc(${l}px * var(--scale-factor))`,this.translate(0,-(l-u(this,Vi))*this.parentScale),S(this,Vi,l),w(this,xe,dg).call(this)},r=u(this,Vi);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:vt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},_T=function(e){const n=l=>{S(this,Hs,this.editorDiv.style.color=l)},r=u(this,Hs);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:vt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ST=function(){var r;const e=[];this.editorDiv.normalize();let n=null;for(const l of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&l.nodeName==="BR"||(e.push(w(r=se,ba,fg).call(r,l)),n=l);return e.join(`
`)},dg=function(){const[e,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:l,div:h}=this,d=h.style.display,p=h.classList.contains("hidden");h.classList.remove("hidden"),h.style.display="hidden",l.div.append(this.div),r=h.getBoundingClientRect(),h.remove(),h.style.display=d,h.classList.toggle("hidden",p)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/n):(this.width=r.height/e,this.height=r.width/n),this.fixAndSetPosition()},ba=new WeakSet,fg=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Yp,"")},pg=function(){if(this.editorDiv.replaceChildren(),!!u(this,Yi))for(const e of u(this,Yi).split(`
`)){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(n)}},ET=function(){return u(this,Yi).replaceAll(" "," ")},Ib=function(e){return e.replaceAll(" "," ")},wT=function(e){const{value:n,fontSize:r,color:l,pageIndex:h}=this._initialData;return this._hasBeenMoved||e.value!==n||e.fontSize!==r||e.color.some((d,p)=>d!==l[p])||e.pageIndex!==h},x(se,ba),bt(se,"_freeTextDefaultContent",""),bt(se,"_internalPadding",0),bt(se,"_defaultColor",null),bt(se,"_defaultFontSize",10),bt(se,"_type","freetext"),bt(se,"_editorType",wt.FREETEXT);let zb=se;class TT{toSVGPath(){ae("Abstract method `toSVGPath` must be implemented.")}get box(){ae("Abstract getter `box` must be implemented.")}serialize(t,e){ae("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){ae("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){ae("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Ki,zs,iu,su,gn,Lt,Yl,Vl,tf,ef,nu,au,Ar,sf,Kg,Qg,Pe,zh,xT,CT,RT,MT,DT,OT;const qn=class qn{constructor({x:t,y:e},n,r,l,h,d=0){x(this,Pe);x(this,Ki);x(this,zs,[]);x(this,iu);x(this,su);x(this,gn,[]);x(this,Lt,new Float64Array(18));x(this,Yl);x(this,Vl);x(this,tf);x(this,ef);x(this,nu);x(this,au);x(this,Ar,[]);S(this,Ki,n),S(this,au,l*r),S(this,su,h),u(this,Lt).set([NaN,NaN,NaN,NaN,t,e],6),S(this,iu,d),S(this,ef,u(qn,sf)*r),S(this,tf,u(qn,Qg)*r),S(this,nu,r),u(this,Ar).push(t,e)}isEmpty(){return isNaN(u(this,Lt)[8])}add({x:t,y:e}){var Z;S(this,Yl,t),S(this,Vl,e);const[n,r,l,h]=u(this,Ki);let[d,p,g,m]=u(this,Lt).subarray(8,12);const b=t-g,v=e-m,A=Math.hypot(b,v);if(A<u(this,tf))return!1;const E=A-u(this,ef),T=E/A,M=T*b,C=T*v;let O=d,D=p;d=g,p=m,g+=M,m+=C,(Z=u(this,Ar))==null||Z.push(t,e);const k=-C/E,F=M/E,U=k*u(this,au),X=F*u(this,au);return u(this,Lt).set(u(this,Lt).subarray(2,8),0),u(this,Lt).set([g+U,m+X],4),u(this,Lt).set(u(this,Lt).subarray(14,18),12),u(this,Lt).set([g-U,m-X],16),isNaN(u(this,Lt)[6])?(u(this,gn).length===0&&(u(this,Lt).set([d+U,p+X],2),u(this,gn).push(NaN,NaN,NaN,NaN,(d+U-n)/l,(p+X-r)/h),u(this,Lt).set([d-U,p-X],14),u(this,zs).push(NaN,NaN,NaN,NaN,(d-U-n)/l,(p-X-r)/h)),u(this,Lt).set([O,D,d,p,g,m],6),!this.isEmpty()):(u(this,Lt).set([O,D,d,p,g,m],6),Math.abs(Math.atan2(D-p,O-d)-Math.atan2(C,M))<Math.PI/2?([d,p,g,m]=u(this,Lt).subarray(2,6),u(this,gn).push(NaN,NaN,NaN,NaN,((d+g)/2-n)/l,((p+m)/2-r)/h),[d,p,O,D]=u(this,Lt).subarray(14,18),u(this,zs).push(NaN,NaN,NaN,NaN,((O+d)/2-n)/l,((D+p)/2-r)/h),!0):([O,D,d,p,g,m]=u(this,Lt).subarray(0,6),u(this,gn).push(((O+5*d)/6-n)/l,((D+5*p)/6-r)/h,((5*d+g)/6-n)/l,((5*p+m)/6-r)/h,((d+g)/2-n)/l,((p+m)/2-r)/h),[g,m,d,p,O,D]=u(this,Lt).subarray(12,18),u(this,zs).push(((O+5*d)/6-n)/l,((D+5*p)/6-r)/h,((5*d+g)/6-n)/l,((5*p+m)/6-r)/h,((d+g)/2-n)/l,((p+m)/2-r)/h),!0))}toSVGPath(){if(this.isEmpty())return"";const t=u(this,gn),e=u(this,zs);if(isNaN(u(this,Lt)[6])&&!this.isEmpty())return w(this,Pe,xT).call(this);const n=[];n.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);w(this,Pe,RT).call(this,n);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return w(this,Pe,CT).call(this,n),n.join(" ")}newFreeDrawOutline(t,e,n,r,l,h){return new LT(t,e,n,r,l,h)}getOutlines(){var b;const t=u(this,gn),e=u(this,zs),n=u(this,Lt),[r,l,h,d]=u(this,Ki),p=new Float64Array((((b=u(this,Ar))==null?void 0:b.length)??0)+2);for(let v=0,A=p.length-2;v<A;v+=2)p[v]=(u(this,Ar)[v]-r)/h,p[v+1]=(u(this,Ar)[v+1]-l)/d;if(p[p.length-2]=(u(this,Yl)-r)/h,p[p.length-1]=(u(this,Vl)-l)/d,isNaN(n[6])&&!this.isEmpty())return w(this,Pe,MT).call(this,p);const g=new Float64Array(u(this,gn).length+24+u(this,zs).length);let m=t.length;for(let v=0;v<m;v+=2){if(isNaN(t[v])){g[v]=g[v+1]=NaN;continue}g[v]=t[v],g[v+1]=t[v+1]}m=w(this,Pe,OT).call(this,g,m);for(let v=e.length-6;v>=6;v-=6)for(let A=0;A<6;A+=2){if(isNaN(e[v+A])){g[m]=g[m+1]=NaN,m+=2;continue}g[m]=e[v+A],g[m+1]=e[v+A+1],m+=2}return w(this,Pe,DT).call(this,g,m),this.newFreeDrawOutline(g,p,u(this,Ki),u(this,nu),u(this,iu),u(this,su))}};Ki=new WeakMap,zs=new WeakMap,iu=new WeakMap,su=new WeakMap,gn=new WeakMap,Lt=new WeakMap,Yl=new WeakMap,Vl=new WeakMap,tf=new WeakMap,ef=new WeakMap,nu=new WeakMap,au=new WeakMap,Ar=new WeakMap,sf=new WeakMap,Kg=new WeakMap,Qg=new WeakMap,Pe=new WeakSet,zh=function(){const t=u(this,Lt).subarray(4,6),e=u(this,Lt).subarray(16,18),[n,r,l,h]=u(this,Ki);return[(u(this,Yl)+(t[0]-e[0])/2-n)/l,(u(this,Vl)+(t[1]-e[1])/2-r)/h,(u(this,Yl)+(e[0]-t[0])/2-n)/l,(u(this,Vl)+(e[1]-t[1])/2-r)/h]},xT=function(){const[t,e,n,r]=u(this,Ki),[l,h,d,p]=w(this,Pe,zh).call(this);return`M${(u(this,Lt)[2]-t)/n} ${(u(this,Lt)[3]-e)/r} L${(u(this,Lt)[4]-t)/n} ${(u(this,Lt)[5]-e)/r} L${l} ${h} L${d} ${p} L${(u(this,Lt)[16]-t)/n} ${(u(this,Lt)[17]-e)/r} L${(u(this,Lt)[14]-t)/n} ${(u(this,Lt)[15]-e)/r} Z`},CT=function(t){const e=u(this,zs);t.push(`L${e[4]} ${e[5]} Z`)},RT=function(t){const[e,n,r,l]=u(this,Ki),h=u(this,Lt).subarray(4,6),d=u(this,Lt).subarray(16,18),[p,g,m,b]=w(this,Pe,zh).call(this);t.push(`L${(h[0]-e)/r} ${(h[1]-n)/l} L${p} ${g} L${m} ${b} L${(d[0]-e)/r} ${(d[1]-n)/l}`)},MT=function(t){const e=u(this,Lt),[n,r,l,h]=u(this,Ki),[d,p,g,m]=w(this,Pe,zh).call(this),b=new Float64Array(36);return b.set([NaN,NaN,NaN,NaN,(e[2]-n)/l,(e[3]-r)/h,NaN,NaN,NaN,NaN,(e[4]-n)/l,(e[5]-r)/h,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,(e[16]-n)/l,(e[17]-r)/h,NaN,NaN,NaN,NaN,(e[14]-n)/l,(e[15]-r)/h],0),this.newFreeDrawOutline(b,t,u(this,Ki),u(this,nu),u(this,iu),u(this,su))},DT=function(t,e){const n=u(this,zs);return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6},OT=function(t,e){const n=u(this,Lt).subarray(4,6),r=u(this,Lt).subarray(16,18),[l,h,d,p]=u(this,Ki),[g,m,b,v]=w(this,Pe,zh).call(this);return t.set([NaN,NaN,NaN,NaN,(n[0]-l)/d,(n[1]-h)/p,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,b,v,NaN,NaN,NaN,NaN,(r[0]-l)/d,(r[1]-h)/p],e),e+=24},x(qn,sf,8),x(qn,Kg,2),x(qn,Qg,u(qn,sf)+u(qn,Kg));let Dg=qn;var ru,Kl,na,nf,Qi,af,Ae,ki,Ih,Uh,kT;class LT extends TT{constructor(e,n,r,l,h,d){super();x(this,ki);x(this,ru);x(this,Kl,null);x(this,na);x(this,nf);x(this,Qi);x(this,af);x(this,Ae);S(this,Ae,e),S(this,Qi,n),S(this,ru,r),S(this,af,l),S(this,na,h),S(this,nf,d),w(this,ki,kT).call(this,d);const{x:p,y:g,width:m,height:b}=u(this,Kl);for(let v=0,A=e.length;v<A;v+=2)e[v]=(e[v]-p)/m,e[v+1]=(e[v+1]-g)/b;for(let v=0,A=n.length;v<A;v+=2)n[v]=(n[v]-p)/m,n[v+1]=(n[v+1]-g)/b}toSVGPath(){const e=[`M${u(this,Ae)[4]} ${u(this,Ae)[5]}`];for(let n=6,r=u(this,Ae).length;n<r;n+=6){if(isNaN(u(this,Ae)[n])){e.push(`L${u(this,Ae)[n+4]} ${u(this,Ae)[n+5]}`);continue}e.push(`C${u(this,Ae)[n]} ${u(this,Ae)[n+1]} ${u(this,Ae)[n+2]} ${u(this,Ae)[n+3]} ${u(this,Ae)[n+4]} ${u(this,Ae)[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,r,l],h){const d=r-e,p=l-n;let g,m;switch(h){case 0:g=w(this,ki,Ih).call(this,u(this,Ae),e,l,d,-p),m=w(this,ki,Ih).call(this,u(this,Qi),e,l,d,-p);break;case 90:g=w(this,ki,Uh).call(this,u(this,Ae),e,n,d,p),m=w(this,ki,Uh).call(this,u(this,Qi),e,n,d,p);break;case 180:g=w(this,ki,Ih).call(this,u(this,Ae),r,n,-d,p),m=w(this,ki,Ih).call(this,u(this,Qi),r,n,-d,p);break;case 270:g=w(this,ki,Uh).call(this,u(this,Ae),r,l,-d,-p),m=w(this,ki,Uh).call(this,u(this,Qi),r,l,-d,-p);break}return{outline:Array.from(g),points:[Array.from(m)]}}get box(){return u(this,Kl)}newOutliner(e,n,r,l,h,d=0){return new Dg(e,n,r,l,h,d)}getNewOutline(e,n){const{x:r,y:l,width:h,height:d}=u(this,Kl),[p,g,m,b]=u(this,ru),v=h*m,A=d*b,E=r*m+p,T=l*b+g,M=this.newOutliner({x:u(this,Qi)[0]*v+E,y:u(this,Qi)[1]*A+T},u(this,ru),u(this,af),e,u(this,nf),n??u(this,na));for(let C=2;C<u(this,Qi).length;C+=2)M.add({x:u(this,Qi)[C]*v+E,y:u(this,Qi)[C+1]*A+T});return M.getOutlines()}get mustRemoveSelfIntersections(){return!0}}ru=new WeakMap,Kl=new WeakMap,na=new WeakMap,nf=new WeakMap,Qi=new WeakMap,af=new WeakMap,Ae=new WeakMap,ki=new WeakSet,Ih=function(e,n,r,l,h){const d=new Float64Array(e.length);for(let p=0,g=e.length;p<g;p+=2)d[p]=n+e[p]*l,d[p+1]=r+e[p+1]*h;return d},Uh=function(e,n,r,l,h){const d=new Float64Array(e.length);for(let p=0,g=e.length;p<g;p+=2)d[p]=n+e[p+1]*l,d[p+1]=r+e[p]*h;return d},kT=function(e){const n=u(this,Ae);let r=n[4],l=n[5],h=r,d=l,p=r,g=l,m=r,b=l;const v=e?Math.max:Math.min;for(let C=6,O=n.length;C<O;C+=6){if(isNaN(n[C]))h=Math.min(h,n[C+4]),d=Math.min(d,n[C+5]),p=Math.max(p,n[C+4]),g=Math.max(g,n[C+5]),b<n[C+5]?(m=n[C+4],b=n[C+5]):b===n[C+5]&&(m=v(m,n[C+4]));else{const D=ut.bezierBoundingBox(r,l,...n.slice(C,C+6));h=Math.min(h,D[0]),d=Math.min(d,D[1]),p=Math.max(p,D[2]),g=Math.max(g,D[3]),b<D[3]?(m=D[2],b=D[3]):b===D[3]&&(m=v(m,D[2]))}r=n[C+4],l=n[C+5]}const A=h-u(this,na),E=d-u(this,na),T=p-h+2*u(this,na),M=g-d+2*u(this,na);S(this,Kl,{x:A,y:E,width:T,height:M,lastPoint:[m,b]})};var rf,_r,Is,_i,NT,gg,PT,FT,Ub;class AE{constructor(t,e=0,n=0,r=!0){x(this,_i);x(this,rf);x(this,_r,[]);x(this,Is,[]);let l=1/0,h=-1/0,d=1/0,p=-1/0;const g=10**-4;for(const{x:M,y:C,width:O,height:D}of t){const k=Math.floor((M-e)/g)*g,F=Math.ceil((M+O+e)/g)*g,U=Math.floor((C-e)/g)*g,X=Math.ceil((C+D+e)/g)*g,Y=[k,U,X,!0],Z=[F,U,X,!1];u(this,_r).push(Y,Z),l=Math.min(l,k),h=Math.max(h,F),d=Math.min(d,U),p=Math.max(p,X)}const m=h-l+2*n,b=p-d+2*n,v=l-n,A=d-n,E=u(this,_r).at(r?-1:-2),T=[E[0],E[2]];for(const M of u(this,_r)){const[C,O,D]=M;M[0]=(C-v)/m,M[1]=(O-A)/b,M[2]=(D-A)/b}S(this,rf,{x:v,y:A,width:m,height:b,lastPoint:T})}getOutlines(){u(this,_r).sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of u(this,_r))e[3]?(t.push(...w(this,_i,Ub).call(this,e)),w(this,_i,PT).call(this,e)):(w(this,_i,FT).call(this,e),t.push(...w(this,_i,Ub).call(this,e)));return w(this,_i,NT).call(this,t)}}rf=new WeakMap,_r=new WeakMap,Is=new WeakMap,_i=new WeakSet,NT=function(t){const e=[],n=new Set;for(const h of t){const[d,p,g]=h;e.push([d,p,h],[d,g,h])}e.sort((h,d)=>h[1]-d[1]||h[0]-d[0]);for(let h=0,d=e.length;h<d;h+=2){const p=e[h][2],g=e[h+1][2];p.push(g),g.push(p),n.add(p),n.add(g)}const r=[];let l;for(;n.size>0;){const h=n.values().next().value;let[d,p,g,m,b]=h;n.delete(h);let v=d,A=p;for(l=[d,g],r.push(l);;){let E;if(n.has(m))E=m;else if(n.has(b))E=b;else break;n.delete(E),[d,p,g,m,b]=E,v!==d&&(l.push(v,A,d,A===p?p:g),v=d),A=A===p?g:p}l.push(v,A)}return new CL(r,u(this,rf))},gg=function(t){const e=u(this,Is);let n=0,r=e.length-1;for(;n<=r;){const l=n+r>>1,h=e[l][0];if(h===t)return l;h<t?n=l+1:r=l-1}return r+1},PT=function([,t,e]){const n=w(this,_i,gg).call(this,t);u(this,Is).splice(n,0,[t,e])},FT=function([,t,e]){const n=w(this,_i,gg).call(this,t);for(let r=n;r<u(this,Is).length;r++){const[l,h]=u(this,Is)[r];if(l!==t)break;if(l===t&&h===e){u(this,Is).splice(r,1);return}}for(let r=n-1;r>=0;r--){const[l,h]=u(this,Is)[r];if(l!==t)break;if(l===t&&h===e){u(this,Is).splice(r,1);return}}},Ub=function(t){const[e,n,r]=t,l=[[e,n,r]],h=w(this,_i,gg).call(this,r);for(let d=0;d<h;d++){const[p,g]=u(this,Is)[d];for(let m=0,b=l.length;m<b;m++){const[,v,A]=l[m];if(!(g<=v||A<=p)){if(v>=p){if(A>g)l[m][1]=g;else{if(b===1)return[];l.splice(m,1),m--,b--}continue}l[m][2]=p,A>g&&l.push([e,g,A])}}}return l};var lf,lu;class CL extends TT{constructor(e,n){super();x(this,lf);x(this,lu);S(this,lu,e),S(this,lf,n)}toSVGPath(){const e=[];for(const n of u(this,lu)){let[r,l]=n;e.push(`M${r} ${l}`);for(let h=2;h<n.length;h+=2){const d=n[h],p=n[h+1];d===r?(e.push(`V${p}`),l=p):p===l&&(e.push(`H${d}`),r=d)}e.push("Z")}return e.join(" ")}serialize([e,n,r,l],h){const d=[],p=r-e,g=l-n;for(const m of u(this,lu)){const b=new Array(m.length);for(let v=0;v<m.length;v+=2)b[v]=e+m[v]*p,b[v+1]=l-m[v+1]*g;d.push(b)}return d}get box(){return u(this,lf)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}lf=new WeakMap,lu=new WeakMap;class Bb extends Dg{newFreeDrawOutline(t,e,n,r,l,h){return new RL(t,e,n,r,l,h)}get classNamesForDrawing(){return["highlight","free"]}}class RL extends LT{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,e,n,r,l,h=0){return new Bb(t,e,n,r,l,h)}}var Us,Ql,ou,Le,of,cu,cf,uf,Sr,Bs,uu,hf,Zt,qb,jb,Gb,tl,HT,Qa;const Ri=class Ri{constructor({editor:t=null,uiManager:e=null}){x(this,Zt);x(this,Us,null);x(this,Ql,null);x(this,ou);x(this,Le,null);x(this,of,!1);x(this,cu,!1);x(this,cf,null);x(this,uf);x(this,Sr,null);x(this,Bs,null);x(this,uu);var n;t?(S(this,cu,!1),S(this,uu,vt.HIGHLIGHT_COLOR),S(this,cf,t)):(S(this,cu,!0),S(this,uu,vt.HIGHLIGHT_DEFAULT_COLOR)),S(this,Bs,(t==null?void 0:t._uiManager)||e),S(this,uf,u(this,Bs)._eventBus),S(this,ou,(t==null?void 0:t.color)||((n=u(this,Bs))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),u(Ri,hf)||S(Ri,hf,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ht(this,"_keyboardManager",new Ef([[["Escape","mac+Escape"],Ri.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ri.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ri.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ri.prototype._moveToPrevious],[["Home","mac+Home"],Ri.prototype._moveToBeginning],[["End","mac+End"],Ri.prototype._moveToEnd]]))}renderButton(){const t=S(this,Us,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=u(this,Bs)._signal;t.addEventListener("click",w(this,Zt,tl).bind(this),{signal:e}),t.addEventListener("keydown",w(this,Zt,Gb).bind(this),{signal:e});const n=S(this,Ql,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=u(this,ou),t.append(n),t}renderMainDropdown(){const t=S(this,Le,w(this,Zt,qb).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===u(this,Us)){w(this,Zt,tl).call(this,t);return}const e=t.target.getAttribute("data-color");e&&w(this,Zt,jb).call(this,e,t)}_moveToNext(t){var e,n;if(!u(this,Zt,Qa)){w(this,Zt,tl).call(this,t);return}if(t.target===u(this,Us)){(e=u(this,Le).firstChild)==null||e.focus();return}(n=t.target.nextSibling)==null||n.focus()}_moveToPrevious(t){var e,n;if(t.target===((e=u(this,Le))==null?void 0:e.firstChild)||t.target===u(this,Us)){u(this,Zt,Qa)&&this._hideDropdownFromKeyboard();return}u(this,Zt,Qa)||w(this,Zt,tl).call(this,t),(n=t.target.previousSibling)==null||n.focus()}_moveToBeginning(t){var e;if(!u(this,Zt,Qa)){w(this,Zt,tl).call(this,t);return}(e=u(this,Le).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!u(this,Zt,Qa)){w(this,Zt,tl).call(this,t);return}(e=u(this,Le).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=u(this,Le))==null||t.classList.add("hidden"),(e=u(this,Sr))==null||e.abort(),S(this,Sr,null)}_hideDropdownFromKeyboard(){var t;if(!u(this,cu)){if(!u(this,Zt,Qa)){(t=u(this,cf))==null||t.unselect();return}this.hideDropdown(),u(this,Us).focus({preventScroll:!0,focusVisible:u(this,of)})}}updateColor(t){if(u(this,Ql)&&(u(this,Ql).style.backgroundColor=t),!u(this,Le))return;const e=u(this,Bs).highlightColors.values();for(const n of u(this,Le).children)n.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=u(this,Us))==null||t.remove(),S(this,Us,null),S(this,Ql,null),(e=u(this,Le))==null||e.remove(),S(this,Le,null)}};Us=new WeakMap,Ql=new WeakMap,ou=new WeakMap,Le=new WeakMap,of=new WeakMap,cu=new WeakMap,cf=new WeakMap,uf=new WeakMap,Sr=new WeakMap,Bs=new WeakMap,uu=new WeakMap,hf=new WeakMap,Zt=new WeakSet,qb=function(){const t=document.createElement("div"),e=u(this,Bs)._signal;t.addEventListener("contextmenu",_s,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,r]of u(this,Bs).highlightColors){const l=document.createElement("button");l.tabIndex="0",l.role="option",l.setAttribute("data-color",r),l.title=n,l.setAttribute("data-l10n-id",u(Ri,hf)[n]);const h=document.createElement("span");l.append(h),h.className="swatch",h.style.backgroundColor=r,l.setAttribute("aria-selected",r===u(this,ou)),l.addEventListener("click",w(this,Zt,jb).bind(this,r),{signal:e}),t.append(l)}return t.addEventListener("keydown",w(this,Zt,Gb).bind(this),{signal:e}),t},jb=function(t,e){e.stopPropagation(),u(this,uf).dispatch("switchannotationeditorparams",{source:this,type:u(this,uu),value:t})},Gb=function(t){Ri._keyboardManager.exec(this,t)},tl=function(t){if(u(this,Zt,Qa)){this.hideDropdown();return}if(S(this,of,t.detail===0),u(this,Sr)||(S(this,Sr,new AbortController),window.addEventListener("pointerdown",w(this,Zt,HT).bind(this),{signal:u(this,Bs).combinedSignal(u(this,Sr))})),u(this,Le)){u(this,Le).classList.remove("hidden");return}const e=S(this,Le,w(this,Zt,qb).call(this));u(this,Us).append(e)},HT=function(t){var e;(e=u(this,Le))!=null&&e.contains(t.target)||this.hideDropdown()},Qa=function(){return u(this,Le)&&!u(this,Le).classList.contains("hidden")},x(Ri,hf,null);let Og=Ri;var hu,df,aa,$l,du,gs,ff,pf,Wl,qs,oi,Oi,fu,ra,ke,pu,ms,gf,St,Xb,mg,zT,IT,UT,Yb,el,vs,oc,BT,yg,Bh,qT,jT,GT,XT,YT;const Bt=class Bt extends Kt{constructor(e){super({...e,name:"highlightEditor"});x(this,St);x(this,hu,null);x(this,df,0);x(this,aa);x(this,$l,null);x(this,du,null);x(this,gs,null);x(this,ff,null);x(this,pf,0);x(this,Wl,null);x(this,qs,null);x(this,oi,null);x(this,Oi,!1);x(this,fu,null);x(this,ra);x(this,ke,null);x(this,pu,"");x(this,ms);x(this,gf,"");this.color=e.color||Bt._defaultColor,S(this,ms,e.thickness||Bt._defaultThickness),S(this,ra,e.opacity||Bt._defaultOpacity),S(this,aa,e.boxes||null),S(this,gf,e.methodOfCreation||""),S(this,pu,e.text||""),this._isDraggable=!1,e.highlightId>-1?(S(this,Oi,!0),w(this,St,mg).call(this,e),w(this,St,el).call(this)):u(this,aa)&&(S(this,hu,e.anchorNode),S(this,df,e.anchorOffset),S(this,ff,e.focusNode),S(this,pf,e.focusOffset),w(this,St,Xb).call(this),w(this,St,el).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=Bt.prototype;return Ht(this,"_keyboardManager",new Ef([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:u(this,Oi)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:u(this,ms),methodOfCreation:u(this,gf)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,n){var r;Kt.initialize(e,n),Bt._defaultColor||(Bt._defaultColor=((r=n.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(e,n){switch(e){case vt.HIGHLIGHT_DEFAULT_COLOR:Bt._defaultColor=n;break;case vt.HIGHLIGHT_THICKNESS:Bt._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return u(this,fu)}updateParams(e,n){switch(e){case vt.HIGHLIGHT_COLOR:w(this,St,zT).call(this,n);break;case vt.HIGHLIGHT_THICKNESS:w(this,St,IT).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[vt.HIGHLIGHT_DEFAULT_COLOR,Bt._defaultColor],[vt.HIGHLIGHT_THICKNESS,Bt._defaultThickness]]}get propertiesToUpdate(){return[[vt.HIGHLIGHT_COLOR,this.color||Bt._defaultColor],[vt.HIGHLIGHT_THICKNESS,u(this,ms)||Bt._defaultThickness],[vt.HIGHLIGHT_FREE,u(this,Oi)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(S(this,du,new Og({editor:this})),e.addColorPicker(u(this,du))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(w(this,St,Bh).call(this))}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,w(this,St,Bh).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){w(this,St,Yb).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(w(this,St,el).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var r;let n=!1;this.parent&&!e?w(this,St,Yb).call(this):e&&(w(this,St,el).call(this,e),n=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),n&&this.select()}rotate(e){var l,h,d;const{drawLayer:n}=this.parent;let r;u(this,Oi)?(e=(e-this.rotation+360)%360,r=w(l=Bt,vs,oc).call(l,u(this,qs).box,e)):r=w(h=Bt,vs,oc).call(h,this,e),n.rotate(u(this,oi),e),n.rotate(u(this,ke),e),n.updateBox(u(this,oi),r),n.updateBox(u(this,ke),w(d=Bt,vs,oc).call(d,u(this,gs).box,e))}render(){if(this.div)return this.div;const e=super.render();u(this,pu)&&(e.setAttribute("aria-label",u(this,pu)),e.setAttribute("role","mark")),u(this,Oi)?e.classList.add("free"):this.div.addEventListener("keydown",w(this,St,BT).bind(this),{signal:this._uiManager._signal});const n=S(this,Wl,document.createElement("div"));e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=u(this,$l);const[r,l]=this.parentDimensions;return this.setDims(this.width*r,this.height*l),Rg(this,u(this,Wl),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(u(this,ke),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(u(this,ke),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:w(this,St,yg).call(this,!0);break;case 1:case 3:w(this,St,yg).call(this,!1);break}}select(){var e,n;super.select(),u(this,ke)&&((e=this.parent)==null||e.drawLayer.removeClass(u(this,ke),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(u(this,ke),"selected"))}unselect(){var e;super.unselect(),u(this,ke)&&((e=this.parent)==null||e.drawLayer.removeClass(u(this,ke),"selected"),u(this,Oi)||w(this,St,yg).call(this,!1))}get _mustFixPosition(){return!u(this,Oi)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(u(this,oi),e),this.parent.drawLayer.show(u(this,ke),e))}static startHighlighting(e,n,{target:r,x:l,y:h}){const{x:d,y:p,width:g,height:m}=r.getBoundingClientRect(),b=new AbortController,v=e.combinedSignal(b),A=T=>{T.preventDefault(),T.stopPropagation()},E=T=>{b.abort(),w(this,vs,XT).call(this,e,T)};window.addEventListener("blur",E,{signal:v}),window.addEventListener("pointerup",E,{signal:v}),window.addEventListener("pointerdown",A,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",_s,{signal:v}),r.addEventListener("pointermove",w(this,vs,GT).bind(this,e),{signal:v}),this._freeHighlight=new Bb({x:l,y:h},[d,p,g,m],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(e,n,r){var T,M,C,O;let l=null;if(e instanceof yT){const{data:{quadPoints:D,rect:k,rotation:F,id:U,color:X,opacity:Y,popupRef:Z},parent:{page:{pageNumber:rt}}}=e;l=e={annotationType:wt.HIGHLIGHT,color:Array.from(X),opacity:Y,quadPoints:D,boxes:null,pageIndex:rt-1,rect:k.slice(0),rotation:F,id:U,deleted:!1,popupRef:Z}}else if(e instanceof Nv){const{data:{inkLists:D,rect:k,rotation:F,id:U,color:X,borderStyle:{rawWidth:Y},popupRef:Z},parent:{page:{pageNumber:rt}}}=e;l=e={annotationType:wt.HIGHLIGHT,color:Array.from(X),thickness:Y,inkLists:D,boxes:null,pageIndex:rt-1,rect:k.slice(0),rotation:F,id:U,deleted:!1,popupRef:Z}}const{color:h,quadPoints:d,inkLists:p,opacity:g}=e,m=await super.deserialize(e,n,r);m.color=ut.makeHexColor(...h),S(m,ra,g||1),p&&S(m,ms,e.thickness),m.annotationElementId=e.id||null,m._initialData=l;const[b,v]=m.pageDimensions,[A,E]=m.pageTranslation;if(d){const D=S(m,aa,[]);for(let k=0;k<d.length;k+=8)D.push({x:(d[k]-A)/b,y:1-(d[k+1]-E)/v,width:(d[k+2]-d[k])/b,height:(d[k+1]-d[k+5])/v});w(T=m,St,Xb).call(T),w(M=m,St,el).call(M),m.rotate(m.rotation)}else if(p){S(m,Oi,!0);const D=p[0],k={x:D[0]-A,y:v-(D[1]-E)},F=new Bb(k,[0,0,b,v],1,u(m,ms)/2,!0,.001);for(let Y=0,Z=D.length;Y<Z;Y+=2)k.x=D[Y]-A,k.y=v-(D[Y+1]-E),F.add(k);const{id:U,clipPathId:X}=n.drawLayer.draw(F,m.color,m._defaultOpacity,!0);w(C=m,St,mg).call(C,{highlightOutlines:F.getOutlines(),highlightId:U,clipPathId:X}),w(O=m,St,el).call(O)}return m}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),r=Kt._colorManager.convert(this.color),l={annotationType:wt.HIGHLIGHT,color:r,opacity:u(this,ra),thickness:u(this,ms),quadPoints:w(this,St,qT).call(this),outlines:w(this,St,jT).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:w(this,St,Bh).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!w(this,St,YT).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};hu=new WeakMap,df=new WeakMap,aa=new WeakMap,$l=new WeakMap,du=new WeakMap,gs=new WeakMap,ff=new WeakMap,pf=new WeakMap,Wl=new WeakMap,qs=new WeakMap,oi=new WeakMap,Oi=new WeakMap,fu=new WeakMap,ra=new WeakMap,ke=new WeakMap,pu=new WeakMap,ms=new WeakMap,gf=new WeakMap,St=new WeakSet,Xb=function(){const e=new AE(u(this,aa),.001);S(this,qs,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=u(this,qs).box;const n=new AE(u(this,aa),.0025,.001,this._uiManager.direction==="ltr");S(this,gs,n.getOutlines());const{lastPoint:r}=u(this,gs).box;S(this,fu,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},mg=function({highlightOutlines:e,highlightId:n,clipPathId:r}){var b,v;if(S(this,qs,e),S(this,gs,e.getNewOutline(u(this,ms)/2+1.5,.0025)),n>=0)S(this,oi,n),S(this,$l,r),this.parent.drawLayer.finalizeLine(n,e),S(this,ke,this.parent.drawLayer.drawOutline(u(this,gs)));else if(this.parent){const A=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(u(this,oi),e),this.parent.drawLayer.updateBox(u(this,oi),w(b=Bt,vs,oc).call(b,u(this,qs).box,(A-this.rotation+360)%360)),this.parent.drawLayer.updateLine(u(this,ke),u(this,gs)),this.parent.drawLayer.updateBox(u(this,ke),w(v=Bt,vs,oc).call(v,u(this,gs).box,A))}const{x:h,y:d,width:p,height:g}=e.box;switch(this.rotation){case 0:this.x=h,this.y=d,this.width=p,this.height=g;break;case 90:{const[A,E]=this.parentDimensions;this.x=d,this.y=1-h,this.width=p*E/A,this.height=g*A/E;break}case 180:this.x=1-h,this.y=1-d,this.width=p,this.height=g;break;case 270:{const[A,E]=this.parentDimensions;this.x=1-d,this.y=h,this.width=p*E/A,this.height=g*A/E;break}}const{lastPoint:m}=u(this,gs).box;S(this,fu,[(m[0]-h)/p,(m[1]-d)/g])},zT=function(e){const n=(h,d)=>{var p,g,m;this.color=h,(p=this.parent)==null||p.drawLayer.changeColor(u(this,oi),h),(g=u(this,du))==null||g.updateColor(h),S(this,ra,d),(m=this.parent)==null||m.drawLayer.changeOpacity(u(this,oi),d)},r=this.color,l=u(this,ra);this.addCommands({cmd:n.bind(this,e,Bt._defaultOpacity),undo:n.bind(this,r,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:vt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},IT=function(e){const n=u(this,ms),r=l=>{S(this,ms,l),w(this,St,UT).call(this,l)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:vt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},UT=function(e){if(!u(this,Oi))return;w(this,St,mg).call(this,{highlightOutlines:u(this,qs).getNewOutline(e/2)}),this.fixAndSetPosition();const[n,r]=this.parentDimensions;this.setDims(this.width*n,this.height*r)},Yb=function(){u(this,oi)===null||!this.parent||(this.parent.drawLayer.remove(u(this,oi)),S(this,oi,null),this.parent.drawLayer.remove(u(this,ke)),S(this,ke,null))},el=function(e=this.parent){u(this,oi)===null&&({id:Ue(this,oi)._,clipPathId:Ue(this,$l)._}=e.drawLayer.draw(u(this,qs),this.color,u(this,ra)),S(this,ke,e.drawLayer.drawOutline(u(this,gs))),u(this,Wl)&&(u(this,Wl).style.clipPath=u(this,$l)))},vs=new WeakSet,oc=function({x:e,y:n,width:r,height:l},h){switch(h){case 90:return{x:1-n-l,y:e,width:l,height:r};case 180:return{x:1-e-r,y:1-n-l,width:r,height:l};case 270:return{x:n,y:1-e-r,width:l,height:r}}return{x:e,y:n,width:r,height:l}},BT=function(e){Bt._keyboardManager.exec(this,e)},yg=function(e){if(!u(this,hu))return;const n=window.getSelection();e?n.setPosition(u(this,hu),u(this,df)):n.setPosition(u(this,ff),u(this,pf))},Bh=function(){return u(this,Oi)?this.rotation:0},qT=function(){if(u(this,Oi))return null;const[e,n]=this.pageDimensions,[r,l]=this.pageTranslation,h=u(this,aa),d=new Float32Array(h.length*8);let p=0;for(const{x:g,y:m,width:b,height:v}of h){const A=g*e+r,E=(1-m-v)*n+l;d[p]=d[p+4]=A,d[p+1]=d[p+3]=E,d[p+2]=d[p+6]=A+b*e,d[p+5]=d[p+7]=E+v*n,p+=8}return d},jT=function(e){return u(this,qs).serialize(e,w(this,St,Bh).call(this))},GT=function(e,n){this._freeHighlight.add(n)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},XT=function(e,n){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},YT=function(e){const{color:n}=this._initialData;return e.color.some((r,l)=>r!==n[l])},x(Bt,vs),bt(Bt,"_defaultColor",null),bt(Bt,"_defaultOpacity",1),bt(Bt,"_defaultThickness",12),bt(Bt,"_type","highlight"),bt(Bt,"_editorType",wt.HIGHLIGHT),bt(Bt,"_freeHighlightId",-1),bt(Bt,"_freeHighlight",null),bt(Bt,"_freeHighlightClipId","");let Lg=Bt;var Zl,Jl,mn,la,ys,to,eo,io,oa,gu,so,no,Er,it,VT,KT,QT,$T,Kb,WT,Qb,ZT,JT,tx,ex,ix,il,$b,Wb,Zb,bg,vg,cc,Jb,Ag,Sa,sx,tv,nx,ax,ev,_g,qh;const ue=class ue extends Kt{constructor(e){super({...e,name:"inkEditor"});x(this,it);x(this,Zl,0);x(this,Jl,0);x(this,mn,null);x(this,la,new Path2D);x(this,ys,!1);x(this,to,null);x(this,eo,!1);x(this,io,!1);x(this,oa,null);x(this,gu,null);x(this,so,0);x(this,no,0);x(this,Er,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,n){Kt.initialize(e,n)}static updateDefaultParams(e,n){switch(e){case vt.INK_THICKNESS:ue._defaultThickness=n;break;case vt.INK_COLOR:ue._defaultColor=n;break;case vt.INK_OPACITY:ue._defaultOpacity=n/100;break}}updateParams(e,n){switch(e){case vt.INK_THICKNESS:w(this,it,VT).call(this,n);break;case vt.INK_COLOR:w(this,it,KT).call(this,n);break;case vt.INK_OPACITY:w(this,it,QT).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[vt.INK_THICKNESS,ue._defaultThickness],[vt.INK_COLOR,ue._defaultColor||Kt._defaultLineColor],[vt.INK_OPACITY,Math.round(ue._defaultOpacity*100)]]}get propertiesToUpdate(){return[[vt.INK_THICKNESS,this.thickness||ue._defaultThickness],[vt.INK_COLOR,this.color||ue._defaultColor||Kt._defaultLineColor],[vt.INK_OPACITY,Math.round(100*(this.opacity??ue._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(w(this,it,bg).call(this),w(this,it,vg).call(this)),this.isAttachedToDOM||(this.parent.add(this),w(this,it,cc).call(this)),w(this,it,qh).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,u(this,mn)&&(clearTimeout(u(this,mn)),S(this,mn,null)),(e=u(this,oa))==null||e.disconnect(),S(this,oa,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,n]=this.parentDimensions,r=this.width*e,l=this.height*n;this.setDimensions(r,l)}enableEditMode(){u(this,ys)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,w(this,it,$b).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),w(this,it,Wb).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){u(this,ys)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),S(this,ys,!0),this.div.classList.add("disabled"),w(this,it,qh).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||u(this,ys)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),w(this,it,WT).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),w(this,it,Qb).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),w(this,it,Zb).call(this,e)}canvasPointerleave(e){w(this,it,Zb).call(this,e)}get isResizable(){return!this.isEmpty()&&u(this,ys)}render(){if(this.div)return this.div;let e,n;this.width&&(e=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,l,h,d]=w(this,it,$T).call(this);if(this.setAt(r,l,0,0),this.setDims(h,d),w(this,it,bg).call(this),this.width){const[p,g]=this.parentDimensions;this.setAspectRatio(this.width*p,this.height*g),this.setAt(e*p,n*g,this.width*p,this.height*g),S(this,io,!0),w(this,it,cc).call(this),this.setDims(this.width*p,this.height*g),w(this,it,il).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return w(this,it,vg).call(this),this.div}setDimensions(e,n){const r=Math.round(e),l=Math.round(n);if(u(this,so)===r&&u(this,no)===l)return;S(this,so,r),S(this,no,l),this.canvas.style.visibility="hidden";const[h,d]=this.parentDimensions;this.width=e/h,this.height=n/d,this.fixAndSetPosition(),u(this,ys)&&w(this,it,Jb).call(this,e,n),w(this,it,cc).call(this),w(this,it,il).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,n,r){var M,C,O;if(e instanceof Nv)return null;const l=await super.deserialize(e,n,r);l.thickness=e.thickness,l.color=ut.makeHexColor(...e.color),l.opacity=e.opacity;const[h,d]=l.pageDimensions,p=l.width*h,g=l.height*d,m=l.parentScale,b=e.thickness/2;S(l,ys,!0),S(l,so,Math.round(p)),S(l,no,Math.round(g));const{paths:v,rect:A,rotation:E}=e;for(let{bezier:D}of v){D=w(M=ue,Sa,nx).call(M,D,A,E);const k=[];l.paths.push(k);let F=m*(D[0]-b),U=m*(D[1]-b);for(let Y=2,Z=D.length;Y<Z;Y+=6){const rt=m*(D[Y]-b),nt=m*(D[Y+1]-b),ft=m*(D[Y+2]-b),At=m*(D[Y+3]-b),xt=m*(D[Y+4]-b),mt=m*(D[Y+5]-b);k.push([[F,U],[rt,nt],[ft,At],[xt,mt]]),F=xt,U=mt}const X=w(this,Sa,sx).call(this,k);l.bezierPath2D.push(X)}const T=w(C=l,it,ev).call(C);return S(l,Jl,Math.max(Kt.MIN_SIZE,T[2]-T[0])),S(l,Zl,Math.max(Kt.MIN_SIZE,T[3]-T[1])),w(O=l,it,Jb).call(O,p,g),l}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),n=Kt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:wt.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:w(this,it,ax).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Zl=new WeakMap,Jl=new WeakMap,mn=new WeakMap,la=new WeakMap,ys=new WeakMap,to=new WeakMap,eo=new WeakMap,io=new WeakMap,oa=new WeakMap,gu=new WeakMap,so=new WeakMap,no=new WeakMap,Er=new WeakMap,it=new WeakSet,VT=function(e){const n=l=>{this.thickness=l,w(this,it,qh).call(this)},r=this.thickness;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:vt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},KT=function(e){const n=l=>{this.color=l,w(this,it,il).call(this)},r=this.color;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:vt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},QT=function(e){const n=l=>{this.opacity=l,w(this,it,il).call(this)};e/=100;const r=this.opacity;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:vt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},$T=function(){const{parentRotation:e,parentDimensions:[n,r]}=this;switch(e){case 90:return[0,r,r,n];case 180:return[n,r,n,r];case 270:return[n,0,r,n];default:return[0,0,n,r]}},Kb=function(){const{ctx:e,color:n,opacity:r,thickness:l,parentScale:h,scaleFactor:d}=this;e.lineWidth=l*h/d,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${n}${$D(r)}`},WT=function(e,n){this.canvas.addEventListener("contextmenu",_s,{signal:this._uiManager._signal}),w(this,it,Wb).call(this),S(this,to,new AbortController);const r=this._uiManager.combinedSignal(u(this,to));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,u(this,io)||(S(this,io,!0),w(this,it,cc).call(this),this.thickness||(this.thickness=ue._defaultThickness),this.color||(this.color=ue._defaultColor||Kt._defaultLineColor),this.opacity??(this.opacity=ue._defaultOpacity)),this.currentPath.push([e,n]),S(this,eo,!1),w(this,it,Kb).call(this),S(this,Er,()=>{w(this,it,tx).call(this),u(this,Er)&&window.requestAnimationFrame(u(this,Er))}),window.requestAnimationFrame(u(this,Er))},Qb=function(e,n){const[r,l]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===r&&n===l)return;const h=this.currentPath;let d=u(this,la);if(h.push([e,n]),S(this,eo,!0),h.length<=2){d.moveTo(...h[0]),d.lineTo(e,n);return}h.length===3&&(S(this,la,d=new Path2D),d.moveTo(...h[0])),w(this,it,ex).call(this,d,...h.at(-3),...h.at(-2),e,n)},ZT=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);u(this,la).lineTo(...e)},JT=function(e,n){S(this,Er,null),e=Math.min(Math.max(e,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),w(this,it,Qb).call(this,e,n),w(this,it,ZT).call(this);let r;if(this.currentPath.length!==1)r=w(this,it,ix).call(this);else{const g=[e,n];r=[[g,g.slice(),g.slice(),g]]}const l=u(this,la),h=this.currentPath;this.currentPath=[],S(this,la,new Path2D);const d=()=>{this.allRawPaths.push(h),this.paths.push(r),this.bezierPath2D.push(l),this._uiManager.rebuild(this)},p=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(w(this,it,bg).call(this),w(this,it,vg).call(this)),w(this,it,qh).call(this))};this.addCommands({cmd:d,undo:p,mustExec:!0})},tx=function(){if(!u(this,eo))return;S(this,eo,!1);const e=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),r=n.map(d=>d[0]),l=n.map(d=>d[1]);Math.min(...r)-e,Math.max(...r)+e,Math.min(...l)-e,Math.max(...l)+e;const{ctx:h}=this;h.save(),h.clearRect(0,0,this.canvas.width,this.canvas.height);for(const d of this.bezierPath2D)h.stroke(d);h.stroke(u(this,la)),h.restore()},ex=function(e,n,r,l,h,d,p){const g=(n+l)/2,m=(r+h)/2,b=(l+d)/2,v=(h+p)/2;e.bezierCurveTo(g+2*(l-g)/3,m+2*(h-m)/3,b+2*(l-b)/3,v+2*(h-v)/3,b,v)},ix=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const n=[];let r,[l,h]=e[0];for(r=1;r<e.length-2;r++){const[A,E]=e[r],[T,M]=e[r+1],C=(A+T)/2,O=(E+M)/2,D=[l+2*(A-l)/3,h+2*(E-h)/3],k=[C+2*(A-C)/3,O+2*(E-O)/3];n.push([[l,h],D,k,[C,O]]),[l,h]=[C,O]}const[d,p]=e[r],[g,m]=e[r+1],b=[l+2*(d-l)/3,h+2*(p-h)/3],v=[g+2*(d-g)/3,m+2*(p-m)/3];return n.push([[l,h],b,v,[g,m]]),n},il=function(){if(this.isEmpty()){w(this,it,Ag).call(this);return}w(this,it,Kb).call(this);const{canvas:e,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,e.width,e.height),w(this,it,Ag).call(this);for(const r of this.bezierPath2D)n.stroke(r)},$b=function(){if(u(this,gu))return;S(this,gu,new AbortController);const e=this._uiManager.combinedSignal(u(this,gu));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})},Wb=function(){var e;(e=this.pointerdownAC)==null||e.abort(),this.pointerdownAC=null},Zb=function(e){var n;(n=u(this,to))==null||n.abort(),S(this,to,null),w(this,it,$b).call(this),u(this,mn)&&clearTimeout(u(this,mn)),S(this,mn,setTimeout(()=>{S(this,mn,null),this.canvas.removeEventListener("contextmenu",_s)},10)),w(this,it,JT).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},bg=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},vg=function(){S(this,oa,new ResizeObserver(e=>{const n=e[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),u(this,oa).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=u(this,oa))==null||e.disconnect(),S(this,oa,null)},{once:!0})},cc=function(){if(!u(this,io))return;const[e,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*n),w(this,it,Ag).call(this)},Jb=function(e,n){const r=w(this,it,_g).call(this),l=(e-r)/u(this,Jl),h=(n-r)/u(this,Zl);this.scaleFactor=Math.min(l,h)},Ag=function(){const e=w(this,it,_g).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},Sa=new WeakSet,sx=function(e){const n=new Path2D;for(let r=0,l=e.length;r<l;r++){const[h,d,p,g]=e[r];r===0&&n.moveTo(...h),n.bezierCurveTo(d[0],d[1],p[0],p[1],g[0],g[1])}return n},tv=function(e,n,r){const[l,h,d,p]=n;switch(r){case 0:for(let g=0,m=e.length;g<m;g+=2)e[g]+=l,e[g+1]=p-e[g+1];break;case 90:for(let g=0,m=e.length;g<m;g+=2){const b=e[g];e[g]=e[g+1]+l,e[g+1]=b+h}break;case 180:for(let g=0,m=e.length;g<m;g+=2)e[g]=d-e[g],e[g+1]+=h;break;case 270:for(let g=0,m=e.length;g<m;g+=2){const b=e[g];e[g]=d-e[g+1],e[g+1]=p-b}break;default:throw new Error("Invalid rotation")}return e},nx=function(e,n,r){const[l,h,d,p]=n;switch(r){case 0:for(let g=0,m=e.length;g<m;g+=2)e[g]-=l,e[g+1]=p-e[g+1];break;case 90:for(let g=0,m=e.length;g<m;g+=2){const b=e[g];e[g]=e[g+1]-h,e[g+1]=b-l}break;case 180:for(let g=0,m=e.length;g<m;g+=2)e[g]=d-e[g],e[g+1]-=h;break;case 270:for(let g=0,m=e.length;g<m;g+=2){const b=e[g];e[g]=p-e[g+1],e[g+1]=d-b}break;default:throw new Error("Invalid rotation")}return e},ax=function(e,n,r,l){var m,b;const h=[],d=this.thickness/2,p=e*n+d,g=e*r+d;for(const v of this.paths){const A=[],E=[];for(let T=0,M=v.length;T<M;T++){const[C,O,D,k]=v[T];if(C[0]===k[0]&&C[1]===k[1]&&M===1){const At=e*C[0]+p,xt=e*C[1]+g;A.push(At,xt),E.push(At,xt);break}const F=e*C[0]+p,U=e*C[1]+g,X=e*O[0]+p,Y=e*O[1]+g,Z=e*D[0]+p,rt=e*D[1]+g,nt=e*k[0]+p,ft=e*k[1]+g;T===0&&(A.push(F,U),E.push(F,U)),A.push(X,Y,Z,rt,nt,ft),E.push(X,Y),T===M-1&&E.push(nt,ft)}h.push({bezier:w(m=ue,Sa,tv).call(m,A,l,this.rotation),points:w(b=ue,Sa,tv).call(b,E,l,this.rotation)})}return h},ev=function(){let e=1/0,n=-1/0,r=1/0,l=-1/0;for(const h of this.paths)for(const[d,p,g,m]of h){const b=ut.bezierBoundingBox(...d,...p,...g,...m);e=Math.min(e,b[0]),r=Math.min(r,b[1]),n=Math.max(n,b[2]),l=Math.max(l,b[3])}return[e,r,n,l]},_g=function(){return u(this,ys)?Math.ceil(this.thickness*this.parentScale):0},qh=function(e=!1){if(this.isEmpty())return;if(!u(this,ys)){w(this,it,il).call(this);return}const n=w(this,it,ev).call(this),r=w(this,it,_g).call(this);S(this,Jl,Math.max(Kt.MIN_SIZE,n[2]-n[0])),S(this,Zl,Math.max(Kt.MIN_SIZE,n[3]-n[1]));const l=Math.ceil(r+u(this,Jl)*this.scaleFactor),h=Math.ceil(r+u(this,Zl)*this.scaleFactor),[d,p]=this.parentDimensions;this.width=l/d,this.height=h/p,this.setAspectRatio(l,h);const g=this.translationX,m=this.translationY;this.translationX=-n[0],this.translationY=-n[1],w(this,it,cc).call(this),w(this,it,il).call(this),S(this,so,l),S(this,no,h),this.setDims(l,h);const b=e?r/this.scaleFactor/2:0;this.translate(g-this.translationX-b,m-this.translationY-b)},x(ue,Sa),bt(ue,"_defaultColor",null),bt(ue,"_defaultOpacity",1),bt(ue,"_defaultThickness",1),bt(ue,"_type","ink"),bt(ue,"_editorType",wt.INK);let Vb=ue;var de,Ze,wr,ca,Tr,mu,yn,ua,bn,$i,yu,Ft,jh,Gh,Sg,sv,rx,Eg,nv,wg,lx,ox;const Vh=class Vh extends Kt{constructor(e){super({...e,name:"stampEditor"});x(this,Ft);x(this,de,null);x(this,Ze,null);x(this,wr,null);x(this,ca,null);x(this,Tr,null);x(this,mu,"");x(this,yn,null);x(this,ua,null);x(this,bn,null);x(this,$i,!1);x(this,yu,!1);S(this,ca,e.bitmapUrl),S(this,Tr,e.bitmapFile)}static initialize(e,n){Kt.initialize(e,n)}static get supportedTypes(){return Ht(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return Ht(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,n){n.pasteEditor(wt.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const n=e.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(e=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:l,width:h,height:d}=e||this.copyCanvas(null,null,!0).imageData,p=await r.guess({name:"altText",request:{data:l,width:h,height:d,channels:l.length/(h*d)}});if(!p)throw new Error("No response from the AI service.");if(p.error)throw new Error("Error from the AI service.");if(p.cancel)return null;if(!p.output)throw new Error("No valid response from the AI service.");const g=p.output;return await this.setGuessedAltText(g),n&&!this.hasAltTextData()&&(this.altTextData={alt:g,decorative:!1}),g}remove(){var e,n;u(this,Ze)&&(S(this,de,null),this._uiManager.imageManager.deleteId(u(this,Ze)),(e=u(this,yn))==null||e.remove(),S(this,yn,null),(n=u(this,ua))==null||n.disconnect(),S(this,ua,null),u(this,bn)&&(clearTimeout(u(this,bn)),S(this,bn,null))),super.remove()}rebuild(){if(!this.parent){u(this,Ze)&&w(this,Ft,Sg).call(this);return}super.rebuild(),this.div!==null&&(u(this,Ze)&&u(this,yn)===null&&w(this,Ft,Sg).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(u(this,wr)||u(this,de)||u(this,ca)||u(this,Tr)||u(this,Ze))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;if(this.width&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),u(this,de)?w(this,Ft,sv).call(this):w(this,Ft,Sg).call(this),this.width&&!this.annotationElementId){const[r,l]=this.parentDimensions;this.setAt(e*r,n*l,this.width*r,this.height*l)}return this.div}copyCanvas(e,n,r=!1){var A;e||(e=224);const{width:l,height:h}=u(this,de),d=new J0;let p=u(this,de),g=l,m=h,b=null;if(n){if(l>n||h>n){const Y=Math.min(n/l,n/h);g=Math.floor(l*Y),m=Math.floor(h*Y)}b=document.createElement("canvas");const E=b.width=Math.ceil(g*d.sx),T=b.height=Math.ceil(m*d.sy);u(this,$i)||(p=w(this,Ft,Eg).call(this,E,T));const M=b.getContext("2d");M.filter=this._uiManager.hcmFilter;let C="white",O="#cfcfd8";this._uiManager.hcmFilter!=="none"?O="black":(A=window.matchMedia)!=null&&A.call(window,"(prefers-color-scheme: dark)").matches&&(C="#8f8f9d",O="#42414d");const D=15,k=D*d.sx,F=D*d.sy,U=new OffscreenCanvas(k*2,F*2),X=U.getContext("2d");X.fillStyle=C,X.fillRect(0,0,k*2,F*2),X.fillStyle=O,X.fillRect(0,0,k,F),X.fillRect(k,F,k,F),M.fillStyle=M.createPattern(U,"repeat"),M.fillRect(0,0,E,T),M.drawImage(p,0,0,p.width,p.height,0,0,E,T)}let v=null;if(r){let E,T;if(d.symmetric&&p.width<e&&p.height<e)E=p.width,T=p.height;else if(p=u(this,de),l>e||h>e){const O=Math.min(e/l,e/h);E=Math.floor(l*O),T=Math.floor(h*O),u(this,$i)||(p=w(this,Ft,Eg).call(this,E,T))}const C=new OffscreenCanvas(E,T).getContext("2d",{willReadFrequently:!0});C.drawImage(p,0,0,p.width,p.height,0,0,E,T),v={width:E,height:T,data:C.getImageData(0,0,E,T).data}}return{canvas:b,width:g,height:m,imageData:v}}getImageForAltText(){return u(this,yn)}static async deserialize(e,n,r){var T;let l=null;if(e instanceof bT){const{data:{rect:M,rotation:C,id:O,structParent:D,popupRef:k},container:F,parent:{page:{pageNumber:U}}}=e,X=F.querySelector("canvas"),Y=r.imageManager.getFromCanvas(F.id,X);X.remove();const Z=((T=await n._structTree.getAriaAttributes(`${Ev}${O}`))==null?void 0:T.get("aria-label"))||"";l=e={annotationType:wt.STAMP,bitmapId:Y.id,bitmap:Y.bitmap,pageIndex:U-1,rect:M.slice(0),rotation:C,id:O,deleted:!1,accessibilityData:{decorative:!1,altText:Z},isSvg:!1,structParent:D,popupRef:k}}const h=await super.deserialize(e,n,r),{rect:d,bitmap:p,bitmapUrl:g,bitmapId:m,isSvg:b,accessibilityData:v}=e;m&&r.imageManager.isValidId(m)?(S(h,Ze,m),p&&S(h,de,p)):S(h,ca,g),S(h,$i,b);const[A,E]=h.pageDimensions;return h.width=(d[2]-d[0])/A,h.height=(d[3]-d[1])/E,h.annotationElementId=e.id||null,v&&(h.altTextData=v),h._initialData=l,S(h,yu,!!l),h}serialize(e=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:wt.STAMP,bitmapId:u(this,Ze),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:u(this,$i),structTreeParentId:this._structTreeParentId};if(e)return r.bitmapUrl=w(this,Ft,wg).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:l,altText:h}=this.serializeAltText(!1);if(!l&&h&&(r.accessibilityData={type:"Figure",alt:h}),this.annotationElementId){const p=w(this,Ft,ox).call(this,r);if(p.isSame)return null;p.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,n===null)return r;n.stamps||(n.stamps=new Map);const d=u(this,$i)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(u(this,Ze)))n.stamps.set(u(this,Ze),{area:d,serialized:r}),r.bitmap=w(this,Ft,wg).call(this,!1);else if(u(this,$i)){const p=n.stamps.get(u(this,Ze));d>p.area&&(p.area=d,p.serialized.bitmap.close(),p.serialized.bitmap=w(this,Ft,wg).call(this,!1))}return r}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};de=new WeakMap,Ze=new WeakMap,wr=new WeakMap,ca=new WeakMap,Tr=new WeakMap,mu=new WeakMap,yn=new WeakMap,ua=new WeakMap,bn=new WeakMap,$i=new WeakMap,yu=new WeakMap,Ft=new WeakSet,jh=function(e,n=!1){if(!e){this.remove();return}S(this,de,e.bitmap),n||(S(this,Ze,e.id),S(this,$i,e.isSvg)),e.file&&S(this,mu,e.file.name),w(this,Ft,sv).call(this)},Gh=function(){if(S(this,wr,null),this._uiManager.enableWaiting(!1),!!u(this,yn)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,de)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,de)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Sg=function(){if(u(this,Ze)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(u(this,Ze)).then(r=>w(this,Ft,jh).call(this,r,!0)).finally(()=>w(this,Ft,Gh).call(this));return}if(u(this,ca)){const r=u(this,ca);S(this,ca,null),this._uiManager.enableWaiting(!0),S(this,wr,this._uiManager.imageManager.getFromUrl(r).then(l=>w(this,Ft,jh).call(this,l)).finally(()=>w(this,Ft,Gh).call(this)));return}if(u(this,Tr)){const r=u(this,Tr);S(this,Tr,null),this._uiManager.enableWaiting(!0),S(this,wr,this._uiManager.imageManager.getFromFile(r).then(l=>w(this,Ft,jh).call(this,l)).finally(()=>w(this,Ft,Gh).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=Vh.supportedTypesStr;const n=this._uiManager._signal;S(this,wr,new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const l=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),w(this,Ft,jh).call(this,l)}r()},{signal:n}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>w(this,Ft,Gh).call(this))),e.click()},sv=function(){const{div:e}=this;let{width:n,height:r}=u(this,de);const[l,h]=this.pageDimensions,d=.75;if(this.width)n=this.width*l,r=this.height*h;else if(n>d*l||r>d*h){const b=Math.min(d*l/n,d*h/r);n*=b,r*=b}const[p,g]=this.parentDimensions;this.setDims(n*p/l,r*g/h),this._uiManager.enableWaiting(!1);const m=S(this,yn,document.createElement("canvas"));m.setAttribute("role","img"),this.addContainer(m),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),w(this,Ft,nv).call(this,n,r),w(this,Ft,lx).call(this),u(this,yu)||(this.parent.addUndoableEditor(this),S(this,yu,!0)),this._reportTelemetry({action:"inserted_image"}),u(this,mu)&&m.setAttribute("aria-label",u(this,mu))},rx=function(e,n){var d;const[r,l]=this.parentDimensions;this.width=e/r,this.height=n/l,(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,u(this,bn)!==null&&clearTimeout(u(this,bn)),S(this,bn,setTimeout(()=>{S(this,bn,null),w(this,Ft,nv).call(this,e,n)},200))},Eg=function(e,n){const{width:r,height:l}=u(this,de);let h=r,d=l,p=u(this,de);for(;h>2*e||d>2*n;){const g=h,m=d;h>2*e&&(h=h>=16384?Math.floor(h/2)-1:Math.ceil(h/2)),d>2*n&&(d=d>=16384?Math.floor(d/2)-1:Math.ceil(d/2));const b=new OffscreenCanvas(h,d);b.getContext("2d").drawImage(p,0,0,g,m,0,0,h,d),p=b.transferToImageBitmap()}return p},nv=function(e,n){const r=new J0,l=Math.ceil(e*r.sx),h=Math.ceil(n*r.sy),d=u(this,yn);if(!d||d.width===l&&d.height===h)return;d.width=l,d.height=h;const p=u(this,$i)?u(this,de):w(this,Ft,Eg).call(this,l,h),g=d.getContext("2d");g.filter=this._uiManager.hcmFilter,g.drawImage(p,0,0,p.width,p.height,0,0,l,h)},wg=function(e){if(e){if(u(this,$i)){const l=this._uiManager.imageManager.getSvgUrl(u(this,Ze));if(l)return l}const n=document.createElement("canvas");return{width:n.width,height:n.height}=u(this,de),n.getContext("2d").drawImage(u(this,de),0,0),n.toDataURL()}if(u(this,$i)){const[n,r]=this.pageDimensions,l=Math.round(this.width*n*Mr.PDF_TO_CSS_UNITS),h=Math.round(this.height*r*Mr.PDF_TO_CSS_UNITS),d=new OffscreenCanvas(l,h);return d.getContext("2d").drawImage(u(this,de),0,0,u(this,de).width,u(this,de).height,0,0,l,h),d.transferToImageBitmap()}return structuredClone(u(this,de))},lx=function(){this._uiManager._signal&&(S(this,ua,new ResizeObserver(e=>{const n=e[0].contentRect;n.width&&n.height&&w(this,Ft,rx).call(this,n.width,n.height)})),u(this,ua).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=u(this,ua))==null||e.disconnect(),S(this,ua,null)},{once:!0}))},ox=function(e){var g;const{rect:n,pageIndex:r,accessibilityData:{altText:l}}=this._initialData,h=e.rect.every((m,b)=>Math.abs(m-n[b])<1),d=e.pageIndex===r,p=(((g=e.accessibilityData)==null?void 0:g.alt)||"")===l;return{isSame:h&&d&&p,isSameAltText:p}},bt(Vh,"_type","stamp"),bt(Vh,"_editorType",wt.STAMP);let iv=Vh;var ao,bu,vn,xr,ha,Wi,Cr,vu,Au,ci,da,dt,Rr,Je,cx,rv,lv,ov,Tg;const Ts=class Ts{constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:r,accessibilityManager:l,annotationLayer:h,drawLayer:d,textLayer:p,viewport:g,l10n:m}){x(this,Je);x(this,ao);x(this,bu,!1);x(this,vn,null);x(this,xr,null);x(this,ha,null);x(this,Wi,new Map);x(this,Cr,!1);x(this,vu,!1);x(this,Au,!1);x(this,ci,null);x(this,da,null);x(this,dt);const b=[...u(Ts,Rr).values()];if(!Ts._initialized){Ts._initialized=!0;for(const v of b)v.initialize(m,t)}t.registerEditorTypes(b),S(this,dt,t),this.pageIndex=e,this.div=n,S(this,ao,l),S(this,vn,h),this.viewport=g,S(this,ci,p),this.drawLayer=d,this._structTree=r,u(this,dt).addLayer(this)}get isEmpty(){return u(this,Wi).size===0}get isInvisible(){return this.isEmpty&&u(this,dt).getMode()===wt.NONE}updateToolbar(t){u(this,dt).updateToolbar(t)}updateMode(t=u(this,dt).getMode()){switch(w(this,Je,Tg).call(this),t){case wt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case wt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case wt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of u(Ts,Rr).values())e.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=u(this,ci))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(u(this,dt).getMode()!==wt.INK)return;if(!t){for(const n of u(this,Wi).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){u(this,dt).setEditingState(t)}addCommands(t){u(this,dt).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=u(this,vn))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const n of u(this,Wi).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(u(this,dt).removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!u(this,vn))return;const e=u(this,vn).getEditableAnnotations();for(const n of e){if(n.hide(),u(this,dt).isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const r=await this.deserialize(n);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;S(this,Au,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const l of u(this,Wi).values())if(l.disableEditing(),!!l.annotationElementId){if(l.serialize()!==null){t.set(l.annotationElementId,l);continue}else e.set(l.annotationElementId,l);(r=this.getEditableAnnotation(l.annotationElementId))==null||r.show(),l.remove()}if(u(this,vn)){const l=u(this,vn).getEditableAnnotations();for(const h of l){const{id:d}=h.data;if(u(this,dt).isDeletedAnnotationElement(d))continue;let p=e.get(d);if(p){p.resetAnnotationElement(h),p.show(!1),h.show();continue}p=t.get(d),p&&(u(this,dt).addChangedExistingAnnotation(p),p.renderAnnotationElement(h)&&p.show(!1)),h.show()}}w(this,Je,Tg).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const l of u(Ts,Rr).values())n.remove(`${l._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),S(this,Au,!1)}getEditableAnnotation(t){var e;return((e=u(this,vn))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){u(this,dt).getActive()!==t&&u(this,dt).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=u(this,ci))!=null&&t.div&&!u(this,da)){S(this,da,new AbortController);const e=u(this,dt).combinedSignal(u(this,da));u(this,ci).div.addEventListener("pointerdown",w(this,Je,cx).bind(this),{signal:e}),u(this,ci).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=u(this,ci))!=null&&t.div&&u(this,da)&&(u(this,da).abort(),S(this,da,null),u(this,ci).div.classList.remove("highlighting"))}enableClick(){if(u(this,xr))return;S(this,xr,new AbortController);const t=u(this,dt).combinedSignal(u(this,xr));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=u(this,xr))==null||t.abort(),S(this,xr,null)}attach(t){u(this,Wi).set(t.id,t);const{annotationElementId:e}=t;e&&u(this,dt).isDeletedAnnotationElement(e)&&u(this,dt).removeDeletedAnnotationElement(t)}detach(t){var e;u(this,Wi).delete(t.id),(e=u(this,ao))==null||e.removePointerInTextLayer(t.contentDiv),!u(this,Au)&&t.annotationElementId&&u(this,dt).addDeletedAnnotationElement(t)}remove(t){this.detach(t),u(this,dt).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,u(this,vu)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(u(this,dt).addDeletedAnnotationElement(t.annotationElementId),Kt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),u(this,dt).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),u(this,dt).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var n;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!u(this,ha)&&(t._focusEventsAllowed=!1,S(this,ha,setTimeout(()=>{S(this,ha,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:u(this,dt)._signal}),e.focus())},0))),t._structTreeParentId=(n=u(this,ao))==null?void 0:n.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getNextId(){return u(this,dt).getId()}combinedSignal(t){return u(this,dt).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=u(this,Je,rv))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){u(this,dt).updateToolbar(t),u(this,dt).updateMode(t);const{offsetX:n,offsetY:r}=w(this,Je,ov).call(this),l=this.getNextId(),h=w(this,Je,lv).call(this,{parent:this,id:l,x:n,y:r,uiManager:u(this,dt),isCentered:!0,...e});h&&this.add(h)}async deserialize(t){var e;return await((e=u(Ts,Rr).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,u(this,dt)))||null}createAndAddNewEditor(t,e,n={}){const r=this.getNextId(),l=w(this,Je,lv).call(this,{parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:u(this,dt),isCentered:e,...n});return l&&this.add(l),l}addNewEditor(){this.createAndAddNewEditor(w(this,Je,ov).call(this),!0)}setSelected(t){u(this,dt).setSelected(t)}toggleSelected(t){u(this,dt).toggleSelected(t)}unselect(t){u(this,dt).unselect(t)}pointerup(t){const{isMac:e}=vi.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&u(this,Cr)){if(S(this,Cr,!1),!u(this,bu)){S(this,bu,!0);return}if(u(this,dt).getMode()===wt.STAMP){u(this,dt).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(u(this,dt).getMode()===wt.HIGHLIGHT&&this.enableTextSelection(),u(this,Cr)){S(this,Cr,!1);return}const{isMac:e}=vi.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;S(this,Cr,!0);const n=u(this,dt).getActive();S(this,bu,!n||n.isEmpty())}findNewParent(t,e,n){const r=u(this,dt).findParent(e,n);return r===null||r===this?!1:(r.changeParent(t),!0)}destroy(){var t,e;((t=u(this,dt).getActive())==null?void 0:t.parent)===this&&(u(this,dt).commitOrRemove(),u(this,dt).setActiveEditor(null)),u(this,ha)&&(clearTimeout(u(this,ha)),S(this,ha,null));for(const n of u(this,Wi).values())(e=u(this,ao))==null||e.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,u(this,Wi).clear(),u(this,dt).removeLayer(this)}render({viewport:t}){this.viewport=t,oo(this.div,t);for(const e of u(this,dt).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){u(this,dt).commitOrRemove(),w(this,Je,Tg).call(this);const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,oo(this.div,{rotation:n}),e!==n)for(const r of u(this,Wi).values())r.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return u(this,dt).viewParameters.realScale}};ao=new WeakMap,bu=new WeakMap,vn=new WeakMap,xr=new WeakMap,ha=new WeakMap,Wi=new WeakMap,Cr=new WeakMap,vu=new WeakMap,Au=new WeakMap,ci=new WeakMap,da=new WeakMap,dt=new WeakMap,Rr=new WeakMap,Je=new WeakSet,cx=function(t){u(this,dt).unselectAll();const{target:e}=t;if(e===u(this,ci).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&u(this,ci).div.contains(e)){const{isMac:n}=vi.platform;if(t.button!==0||t.ctrlKey&&n)return;u(this,dt).showAllEditors("highlight",!0,!0),u(this,ci).div.classList.add("free"),this.toggleDrawing(),Lg.startHighlighting(this,u(this,dt).direction==="ltr",{target:u(this,ci).div,x:t.x,y:t.y}),u(this,ci).div.addEventListener("pointerup",()=>{u(this,ci).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:u(this,dt)._signal}),t.preventDefault()}},rv=function(){return u(Ts,Rr).get(u(this,dt).getMode())},lv=function(t){const e=u(this,Je,rv);return e?new e.prototype.constructor(t):null},ov=function(){const{x:t,y:e,width:n,height:r}=this.div.getBoundingClientRect(),l=Math.max(0,t),h=Math.max(0,e),d=Math.min(window.innerWidth,t+n),p=Math.min(window.innerHeight,e+r),g=(l+d)/2-t,m=(h+p)/2-e,[b,v]=this.viewport.rotation%180===0?[g,m]:[m,g];return{offsetX:b,offsetY:v}},Tg=function(){S(this,vu,!0);for(const t of u(this,Wi).values())t.isEmpty()&&t.remove();S(this,vu,!1)},bt(Ts,"_initialized",!1),x(Ts,Rr,new Map([zb,Vb,iv,Lg].map(t=>[t._editorType,t])));let av=Ts;var An,mf,Te,fa,yf,uv,fo,hv,ux;const Qe=class Qe{constructor({pageIndex:t}){x(this,fo);x(this,An,null);x(this,mf,0);x(this,Te,new Map);x(this,fa,new Map);this.pageIndex=t}setParent(t){if(!u(this,An)){S(this,An,t);return}if(u(this,An)!==t){if(u(this,Te).size>0)for(const e of u(this,Te).values())e.remove(),t.append(e);S(this,An,t)}}static get _svgFactory(){return Ht(this,"_svgFactory",new kv)}draw(t,e,n,r=!1){const l=Ue(this,mf)._++,h=w(this,fo,hv).call(this,t.box);h.classList.add(...t.classNamesForDrawing);const d=Qe._svgFactory.createElement("defs");h.append(d);const p=Qe._svgFactory.createElement("path");d.append(p);const g=`path_p${this.pageIndex}_${l}`;p.setAttribute("id",g),p.setAttribute("d",t.toSVGPath()),r&&u(this,fa).set(l,p);const m=w(this,fo,ux).call(this,d,g),b=Qe._svgFactory.createElement("use");return h.append(b),h.setAttribute("fill",e),h.setAttribute("fill-opacity",n),b.setAttribute("href",`#${g}`),u(this,Te).set(l,h),{id:l,clipPathId:`url(#${m})`}}drawOutline(t){const e=Ue(this,mf)._++,n=w(this,fo,hv).call(this,t.box);n.classList.add(...t.classNamesForOutlining);const r=Qe._svgFactory.createElement("defs");n.append(r);const l=Qe._svgFactory.createElement("path");r.append(l);const h=`path_p${this.pageIndex}_${e}`;l.setAttribute("id",h),l.setAttribute("d",t.toSVGPath()),l.setAttribute("vector-effect","non-scaling-stroke");let d;if(t.mustRemoveSelfIntersections){const m=Qe._svgFactory.createElement("mask");r.append(m),d=`mask_p${this.pageIndex}_${e}`,m.setAttribute("id",d),m.setAttribute("maskUnits","objectBoundingBox");const b=Qe._svgFactory.createElement("rect");m.append(b),b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("fill","white");const v=Qe._svgFactory.createElement("use");m.append(v),v.setAttribute("href",`#${h}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const p=Qe._svgFactory.createElement("use");n.append(p),p.setAttribute("href",`#${h}`),d&&p.setAttribute("mask",`url(#${d})`);const g=p.cloneNode();return n.append(g),p.classList.add("mainOutline"),g.classList.add("secondaryOutline"),u(this,Te).set(e,n),e}finalizeLine(t,e){const n=u(this,fa).get(t);u(this,fa).delete(t),this.updateBox(t,e.box),n.setAttribute("d",e.toSVGPath())}updateLine(t,e){u(this,Te).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(t,e){u(this,fa).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var n;w(n=Qe,yf,uv).call(n,u(this,Te).get(t),e)}show(t,e){u(this,Te).get(t).classList.toggle("hidden",!e)}rotate(t,e){u(this,Te).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){u(this,Te).get(t).setAttribute("fill",e)}changeOpacity(t,e){u(this,Te).get(t).setAttribute("fill-opacity",e)}addClass(t,e){u(this,Te).get(t).classList.add(e)}removeClass(t,e){u(this,Te).get(t).classList.remove(e)}getSVGRoot(t){return u(this,Te).get(t)}remove(t){u(this,fa).delete(t),u(this,An)!==null&&(u(this,Te).get(t).remove(),u(this,Te).delete(t))}destroy(){S(this,An,null);for(const t of u(this,Te).values())t.remove();u(this,Te).clear(),u(this,fa).clear()}};An=new WeakMap,mf=new WeakMap,Te=new WeakMap,fa=new WeakMap,yf=new WeakSet,uv=function(t,{x:e=0,y:n=0,width:r=1,height:l=1}={}){const{style:h}=t;h.top=`${100*n}%`,h.left=`${100*e}%`,h.width=`${100*r}%`,h.height=`${100*l}%`},fo=new WeakSet,hv=function(t){var n;const e=Qe._svgFactory.create(1,1,!0);return u(this,An).append(e),e.setAttribute("aria-hidden",!0),w(n=Qe,yf,uv).call(n,e,t),e},ux=function(t,e){const n=Qe._svgFactory.createElement("clipPath");t.append(n);const r=`clip_${e}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const l=Qe._svgFactory.createElement("use");return n.append(l),l.setAttribute("href",`#${e}`),l.classList.add("clip"),r},x(Qe,yf);let cv=Qe;var ML=_t.AbortException,DL=_t.AnnotationEditorLayer,OL=_t.AnnotationEditorParamsType,LL=_t.AnnotationEditorType,kL=_t.AnnotationEditorUIManager,NL=_t.AnnotationLayer,PL=_t.AnnotationMode,FL=_t.ColorPicker,HL=_t.DOMSVGFactory,zL=_t.DrawLayer,IL=_t.FeatureTest,hx=_t.GlobalWorkerOptions,UL=_t.ImageKind,BL=_t.InvalidPDFException,qL=_t.MissingPDFException,jL=_t.OPS,GL=_t.OutputScale,XL=_t.PDFDataRangeTransport,YL=_t.PDFDateString,VL=_t.PDFWorker,KL=_t.PasswordResponses,QL=_t.PermissionFlag,$L=_t.PixelsPerInch,WL=_t.RenderingCancelledException,ZL=_t.TextLayer,JL=_t.UnexpectedResponseException,tk=_t.Util,ek=_t.VerbosityLevel,ik=_t.XfaLayer,sk=_t.build,nk=_t.createValidAbsoluteUrl,ak=_t.fetchData,rk=_t.getDocument,lk=_t.getFilenameFromUrl,ok=_t.getPdfFilenameFromUrl,ck=_t.getXfaPageViewport,uk=_t.isDataScheme,hk=_t.isPdfFile,dk=_t.noContextMenu,fk=_t.normalizeUnicode,pk=_t.setLayerDimensions,gk=_t.shadow,mk=_t.version;const wk=Object.freeze(Object.defineProperty({__proto__:null,AbortException:ML,AnnotationEditorLayer:DL,AnnotationEditorParamsType:OL,AnnotationEditorType:LL,AnnotationEditorUIManager:kL,AnnotationLayer:NL,AnnotationMode:PL,ColorPicker:FL,DOMSVGFactory:HL,DrawLayer:zL,FeatureTest:IL,GlobalWorkerOptions:hx,ImageKind:UL,InvalidPDFException:BL,MissingPDFException:qL,OPS:jL,OutputScale:GL,PDFDataRangeTransport:XL,PDFDateString:YL,PDFWorker:VL,PasswordResponses:KL,PermissionFlag:QL,PixelsPerInch:$L,RenderingCancelledException:WL,TextLayer:ZL,UnexpectedResponseException:JL,Util:tk,VerbosityLevel:ek,XfaLayer:ik,build:sk,createValidAbsoluteUrl:nk,fetchData:ak,getDocument:rk,getFilenameFromUrl:lk,getPdfFilenameFromUrl:ok,getXfaPageViewport:ck,isDataScheme:uk,isPdfFile:hk,noContextMenu:dk,normalizeUnicode:fk,setLayerDimensions:pk,shadow:gk,version:mk},Symbol.toStringTag,{value:"Module"})),yk=new Y2;hx.workerSrc=new URL("/text-to-pdf-converter/assets/pdf.worker.min-GB3t0DcA.mjs",import.meta.url).toString();const bk=({children:c})=>ui.jsxs(V2,{client:yk,children:[c,ui.jsx(RD,{position:"top-right",newestOnTop:!0,closeOnClick:!0})]});E2.createRoot(document.getElementById("root")).render(ui.jsx(G.StrictMode,{children:ui.jsx(n2,{children:ui.jsx(bk,{children:ui.jsx(b2,{})})})}));export{GE as L,ne as R,Zg as S,rk as _,xs as a,Sk as b,HR as c,g2 as d,ro as e,PL as f,j2 as g,Qh as h,ZL as i,ui as j,NL as k,hx as l,O0 as m,mi as n,Ak as o,wk as p,mk as q,G as r,_k as s,Ek as u,ee as y};
